[
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_apply_deduplication.py",
    "total_score": 74.6,
    "pain_points": 28.3,
    "opportunity": 23.3,
    "risk": 13.0,
    "alignment": 10.0,
    "recommendation": "HIGH PRIORITY - Refactor soon (high value, manageable risk)",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_apply_deduplication.py",
      "total_lines": 708,
      "test_count": 24,
      "class_count": 4,
      "setup_method_count": 4,
      "teardown_method_count": 4,
      "setup_lines": 41,
      "teardown_lines": 8,
      "self_attribute_count": 9,
      "temp_dir_usage": 4,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 6.0,
      "complexity_score": 4.3
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_ast_diff.py",
    "total_score": 31.0,
    "pain_points": 2.0,
    "opportunity": 12.0,
    "risk": 15.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_ast_diff.py",
      "total_lines": 584,
      "test_count": 49,
      "class_count": 10,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 44,
      "duplication_score": 0.0,
      "complexity_score": 2.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_batch.py",
    "total_score": 65.1,
    "pain_points": 24.8,
    "opportunity": 14.3,
    "risk": 16.0,
    "alignment": 10.0,
    "recommendation": "MEDIUM PRIORITY - Refactor when touching file",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_batch.py",
      "total_lines": 496,
      "test_count": 18,
      "class_count": 4,
      "setup_method_count": 4,
      "teardown_method_count": 4,
      "setup_lines": 14,
      "teardown_lines": 12,
      "self_attribute_count": 3,
      "temp_dir_usage": 4,
      "mock_usage": 14,
      "fixture_usage": 14,
      "duplication_score": 7.0,
      "complexity_score": 1.3
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_cache.py",
    "total_score": 38.9,
    "pain_points": 4.4,
    "opportunity": 11.0,
    "risk": 16.5,
    "alignment": 7.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_cache.py",
      "total_lines": 517,
      "test_count": 26,
      "class_count": 3,
      "setup_method_count": 1,
      "teardown_method_count": 1,
      "setup_lines": 4,
      "teardown_lines": 3,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 5,
      "fixture_usage": 5,
      "duplication_score": 0.6,
      "complexity_score": 0.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_call_site.py",
    "total_score": 27.0,
    "pain_points": 1.0,
    "opportunity": 11.0,
    "risk": 13.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_call_site.py",
      "total_lines": 579,
      "test_count": 70,
      "class_count": 5,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 32,
      "duplication_score": 0.0,
      "complexity_score": 1.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_code_formatting.py",
    "total_score": 37.5,
    "pain_points": 8.5,
    "opportunity": 14.0,
    "risk": 13.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_code_formatting.py",
      "total_lines": 548,
      "test_count": 46,
      "class_count": 8,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 77,
      "fixture_usage": 42,
      "duplication_score": 3.0,
      "complexity_score": 4.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_code_smells.py",
    "total_score": 25.0,
    "pain_points": 1.0,
    "opportunity": 8.0,
    "risk": 14.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_code_smells.py",
      "total_lines": 246,
      "test_count": 27,
      "class_count": 5,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 0.0,
      "complexity_score": 1.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_complexity.py",
    "total_score": 32.8,
    "pain_points": 5.8,
    "opportunity": 12.0,
    "risk": 10.0,
    "alignment": 5.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_complexity.py",
      "total_lines": 801,
      "test_count": 51,
      "class_count": 9,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 5,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 2.5,
      "complexity_score": 2.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_complexity_scoring.py",
    "total_score": 28.0,
    "pain_points": 0.5,
    "opportunity": 10.5,
    "risk": 15.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_complexity_scoring.py",
      "total_lines": 339,
      "test_count": 38,
      "class_count": 4,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 31,
      "duplication_score": 0.0,
      "complexity_score": 0.5
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_conftest_fixtures.py",
    "total_score": 30.0,
    "pain_points": 2.0,
    "opportunity": 9.0,
    "risk": 17.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_conftest_fixtures.py",
      "total_lines": 291,
      "test_count": 23,
      "class_count": 12,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 28,
      "duplication_score": 0.0,
      "complexity_score": 2.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_coverage_detection.py",
    "total_score": 37.5,
    "pain_points": 9.0,
    "opportunity": 11.5,
    "risk": 12.0,
    "alignment": 5.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_coverage_detection.py",
      "total_lines": 588,
      "test_count": 40,
      "class_count": 6,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 11,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 5.0,
      "complexity_score": 1.5
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_deduplication_analysis.py",
    "total_score": 22.0,
    "pain_points": 0.0,
    "opportunity": 5.0,
    "risk": 15.0,
    "alignment": 2.0,
    "recommendation": "SKIP - Not worth refactoring (low value or high risk)",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_deduplication_analysis.py",
      "total_lines": 153,
      "test_count": 15,
      "class_count": 3,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 0.0,
      "complexity_score": 0.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_deduplication_detection.py",
    "total_score": 21.0,
    "pain_points": 0.0,
    "opportunity": 3.0,
    "risk": 16.0,
    "alignment": 2.0,
    "recommendation": "SKIP - Not worth refactoring (low value or high risk)",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_deduplication_detection.py",
      "total_lines": 184,
      "test_count": 10,
      "class_count": 3,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 2,
      "fixture_usage": 2,
      "duplication_score": 0.0,
      "complexity_score": 0.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_dependencies.py",
    "total_score": 35.5,
    "pain_points": 6.5,
    "opportunity": 12.0,
    "risk": 12.0,
    "alignment": 5.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_dependencies.py",
      "total_lines": 1243,
      "test_count": 50,
      "class_count": 14,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 24,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 3.0,
      "complexity_score": 2.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_dependency_analysis.py",
    "total_score": 32.5,
    "pain_points": 5.2,
    "opportunity": 11.2,
    "risk": 14.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_dependency_analysis.py",
      "total_lines": 555,
      "test_count": 37,
      "class_count": 5,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 12,
      "fixture_usage": 6,
      "duplication_score": 2.6999999999999997,
      "complexity_score": 1.2
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_diff_preview.py",
    "total_score": 35.7,
    "pain_points": 7.2,
    "opportunity": 11.5,
    "risk": 12.0,
    "alignment": 5.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_diff_preview.py",
      "total_lines": 584,
      "test_count": 39,
      "class_count": 6,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 4,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 3.8,
      "complexity_score": 1.5
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_duplication.py",
    "total_score": 30.2,
    "pain_points": 3.2,
    "opportunity": 8.0,
    "risk": 17.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_duplication.py",
      "total_lines": 500,
      "test_count": 29,
      "class_count": 5,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 8,
      "fixture_usage": 8,
      "duplication_score": 1.5,
      "complexity_score": 1.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_edge_cases.py",
    "total_score": 44.8,
    "pain_points": 9.8,
    "opportunity": 11.0,
    "risk": 14.0,
    "alignment": 10.0,
    "recommendation": "LOW PRIORITY - Refactor opportunistically",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_edge_cases.py",
      "total_lines": 310,
      "test_count": 18,
      "class_count": 8,
      "setup_method_count": 2,
      "teardown_method_count": 1,
      "setup_lines": 4,
      "teardown_lines": 4,
      "self_attribute_count": 1,
      "temp_dir_usage": 1,
      "mock_usage": 8,
      "fixture_usage": 0,
      "duplication_score": 2.5,
      "complexity_score": 2.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_enhanced_reporting.py",
    "total_score": 26.0,
    "pain_points": 1.0,
    "opportunity": 11.0,
    "risk": 12.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_enhanced_reporting.py",
      "total_lines": 539,
      "test_count": 39,
      "class_count": 5,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 0.0,
      "complexity_score": 1.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_enhanced_suggestions.py",
    "total_score": 22.0,
    "pain_points": 0.0,
    "opportunity": 5.0,
    "risk": 17.0,
    "alignment": 0.0,
    "recommendation": "SKIP - Not worth refactoring (low value or high risk)",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_enhanced_suggestions.py",
      "total_lines": 482,
      "test_count": 16,
      "class_count": 1,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 7,
      "duplication_score": 0.0,
      "complexity_score": 0.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_function_generation.py",
    "total_score": 26.0,
    "pain_points": 2.0,
    "opportunity": 12.0,
    "risk": 10.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_function_generation.py",
      "total_lines": 823,
      "test_count": 94,
      "class_count": 8,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 0.0,
      "complexity_score": 2.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_impact_analysis.py",
    "total_score": 35.9,
    "pain_points": 7.7,
    "opportunity": 13.2,
    "risk": 13.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_impact_analysis.py",
      "total_lines": 686,
      "test_count": 33,
      "class_count": 7,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 22,
      "fixture_usage": 15,
      "duplication_score": 3.0,
      "complexity_score": 3.2
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_import_management.py",
    "total_score": 29.0,
    "pain_points": 2.0,
    "opportunity": 12.0,
    "risk": 13.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_import_management.py",
      "total_lines": 668,
      "test_count": 96,
      "class_count": 9,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 1,
      "fixture_usage": 31,
      "duplication_score": 0.0,
      "complexity_score": 2.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_linting_rules.py",
    "total_score": 43.0,
    "pain_points": 13.0,
    "opportunity": 14.0,
    "risk": 11.0,
    "alignment": 5.0,
    "recommendation": "LOW PRIORITY - Refactor opportunistically",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_linting_rules.py",
      "total_lines": 1409,
      "test_count": 87,
      "class_count": 12,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 6,
      "mock_usage": 56,
      "fixture_usage": 51,
      "duplication_score": 6.0,
      "complexity_score": 4.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_parameter_extraction.py",
    "total_score": 29.0,
    "pain_points": 2.0,
    "opportunity": 12.0,
    "risk": 13.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_parameter_extraction.py",
      "total_lines": 653,
      "test_count": 66,
      "class_count": 10,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 8,
      "duplication_score": 0.0,
      "complexity_score": 2.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_phase2.py",
    "total_score": 54.5,
    "pain_points": 16.1,
    "opportunity": 13.4,
    "risk": 15.0,
    "alignment": 10.0,
    "recommendation": "LOW PRIORITY - Refactor opportunistically",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_phase2.py",
      "total_lines": 605,
      "test_count": 21,
      "class_count": 4,
      "setup_method_count": 2,
      "teardown_method_count": 0,
      "setup_lines": 8,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 5,
      "mock_usage": 29,
      "fixture_usage": 22,
      "duplication_score": 6.5,
      "complexity_score": 2.4000000000000004
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_ranking.py",
    "total_score": 26.0,
    "pain_points": 0.0,
    "opportunity": 7.0,
    "risk": 17.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_ranking.py",
      "total_lines": 472,
      "test_count": 23,
      "class_count": 3,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 23,
      "duplication_score": 0.0,
      "complexity_score": 0.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_recommendation_engine.py",
    "total_score": 26.0,
    "pain_points": 0.0,
    "opportunity": 7.0,
    "risk": 17.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_recommendation_engine.py",
      "total_lines": 359,
      "test_count": 27,
      "class_count": 3,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 16,
      "duplication_score": 0.0,
      "complexity_score": 0.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_rewrite.py",
    "total_score": 92.2,
    "pain_points": 37.6,
    "opportunity": 32.6,
    "risk": 12.0,
    "alignment": 10.0,
    "recommendation": "HIGH PRIORITY - Refactor soon (high value, manageable risk)",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_rewrite.py",
      "total_lines": 845,
      "test_count": 33,
      "class_count": 7,
      "setup_method_count": 7,
      "teardown_method_count": 7,
      "setup_lines": 50,
      "teardown_lines": 14,
      "self_attribute_count": 8,
      "temp_dir_usage": 7,
      "mock_usage": 34,
      "fixture_usage": 17,
      "duplication_score": 10.0,
      "complexity_score": 7.6
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_schema.py",
    "total_score": 58.9,
    "pain_points": 21.9,
    "opportunity": 17.9,
    "risk": 12.0,
    "alignment": 7.0,
    "recommendation": "MEDIUM PRIORITY - Refactor when touching file",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_schema.py",
      "total_lines": 932,
      "test_count": 26,
      "class_count": 4,
      "setup_method_count": 4,
      "teardown_method_count": 0,
      "setup_lines": 23,
      "teardown_lines": 0,
      "self_attribute_count": 1,
      "temp_dir_usage": 0,
      "mock_usage": 70,
      "fixture_usage": 0,
      "duplication_score": 5.0,
      "complexity_score": 2.95
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_standards_enforcement.py",
    "total_score": 49.0,
    "pain_points": 14.0,
    "opportunity": 14.0,
    "risk": 11.0,
    "alignment": 10.0,
    "recommendation": "LOW PRIORITY - Refactor opportunistically",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_standards_enforcement.py",
      "total_lines": 2186,
      "test_count": 94,
      "class_count": 18,
      "setup_method_count": 1,
      "teardown_method_count": 0,
      "setup_lines": 2,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 14,
      "mock_usage": 77,
      "fixture_usage": 63,
      "duplication_score": 6.0,
      "complexity_score": 4.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_syntax_validation.py",
    "total_score": 35.5,
    "pain_points": 8.5,
    "opportunity": 14.0,
    "risk": 11.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_syntax_validation.py",
      "total_lines": 610,
      "test_count": 61,
      "class_count": 8,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 37,
      "fixture_usage": 23,
      "duplication_score": 3.0,
      "complexity_score": 4.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_templates.py",
    "total_score": 26.0,
    "pain_points": 2.0,
    "opportunity": 12.0,
    "risk": 10.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_templates.py",
      "total_lines": 741,
      "test_count": 65,
      "class_count": 10,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 0.0,
      "complexity_score": 2.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_unit.py",
    "total_score": 51.0,
    "pain_points": 15.0,
    "opportunity": 18.0,
    "risk": 11.0,
    "alignment": 7.0,
    "recommendation": "LOW PRIORITY - Refactor opportunistically",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_unit.py",
      "total_lines": 972,
      "test_count": 57,
      "class_count": 16,
      "setup_method_count": 2,
      "teardown_method_count": 0,
      "setup_lines": 10,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 50,
      "fixture_usage": 35,
      "duplication_score": 4.0,
      "complexity_score": 4.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_variation_classification.py",
    "total_score": 31.0,
    "pain_points": 2.0,
    "opportunity": 12.0,
    "risk": 15.0,
    "alignment": 2.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_variation_classification.py",
      "total_lines": 544,
      "test_count": 48,
      "class_count": 7,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 27,
      "duplication_score": 0.0,
      "complexity_score": 2.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_analyze_deduplication.py",
    "total_score": 32.5,
    "pain_points": 2.5,
    "opportunity": 5.0,
    "risk": 15.0,
    "alignment": 10.0,
    "recommendation": "DEFER - Keep using setup_method for now",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_analyze_deduplication.py",
      "total_lines": 216,
      "test_count": 14,
      "class_count": 3,
      "setup_method_count": 1,
      "teardown_method_count": 1,
      "setup_lines": 2,
      "teardown_lines": 3,
      "self_attribute_count": 1,
      "temp_dir_usage": 1,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 0.0,
      "complexity_score": 0.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_benchmark.py",
    "total_score": 24.0,
    "pain_points": 0.0,
    "opportunity": 5.0,
    "risk": 17.0,
    "alignment": 2.0,
    "recommendation": "SKIP - Not worth refactoring (low value or high risk)",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_benchmark.py",
      "total_lines": 988,
      "test_count": 16,
      "class_count": 3,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 0,
      "fixture_usage": 24,
      "duplication_score": 0.0,
      "complexity_score": 0.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_cli_duplication.py",
    "total_score": 60.1,
    "pain_points": 21.0,
    "opportunity": 15.2,
    "risk": 14.0,
    "alignment": 10.0,
    "recommendation": "MEDIUM PRIORITY - Refactor when touching file",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_cli_duplication.py",
      "total_lines": 552,
      "test_count": 26,
      "class_count": 3,
      "setup_method_count": 3,
      "teardown_method_count": 3,
      "setup_lines": 21,
      "teardown_lines": 9,
      "self_attribute_count": 2,
      "temp_dir_usage": 3,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 3.9,
      "complexity_score": 0.15
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_deduplication_rollback.py",
    "total_score": 69.4,
    "pain_points": 24.6,
    "opportunity": 20.9,
    "risk": 14.0,
    "alignment": 10.0,
    "recommendation": "MEDIUM PRIORITY - Refactor when touching file",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_deduplication_rollback.py",
      "total_lines": 533,
      "test_count": 12,
      "class_count": 2,
      "setup_method_count": 2,
      "teardown_method_count": 2,
      "setup_lines": 39,
      "teardown_lines": 4,
      "self_attribute_count": 10,
      "temp_dir_usage": 2,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 3.8,
      "complexity_score": 3.85
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_integration.py",
    "total_score": 18.0,
    "pain_points": 0.0,
    "opportunity": 0.0,
    "risk": 18.0,
    "alignment": 0.0,
    "recommendation": "SKIP - Not worth refactoring (low value or high risk)",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_integration.py",
      "total_lines": 140,
      "test_count": 5,
      "class_count": 1,
      "setup_method_count": 0,
      "teardown_method_count": 0,
      "setup_lines": 0,
      "teardown_lines": 0,
      "self_attribute_count": 0,
      "temp_dir_usage": 0,
      "mock_usage": 2,
      "fixture_usage": 6,
      "duplication_score": 0.0,
      "complexity_score": 0.0
    }
  },
  {
    "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_validation_pipeline.py",
    "total_score": 46.7,
    "pain_points": 11.7,
    "opportunity": 10.0,
    "risk": 15.0,
    "alignment": 10.0,
    "recommendation": "LOW PRIORITY - Refactor opportunistically",
    "metrics": {
      "file_path": "/Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_validation_pipeline.py",
      "total_lines": 218,
      "test_count": 15,
      "class_count": 5,
      "setup_method_count": 2,
      "teardown_method_count": 2,
      "setup_lines": 4,
      "teardown_lines": 6,
      "self_attribute_count": 1,
      "temp_dir_usage": 2,
      "mock_usage": 0,
      "fixture_usage": 0,
      "duplication_score": 3.8,
      "complexity_score": 1.0
    }
  }
]
