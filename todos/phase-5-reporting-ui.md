# Phase 5: Enhanced Reporting & UI TODOs

## 5.1 Response Schema Design
- [ ] Design JSON schema for enhanced responses
- [ ] Ensure backward compatibility
- [ ] Document schema in CLAUDE.md
- [ ] Validate with JSON schema tools

## 5.2 Diff Formatter
- [ ] Implement unified diff formatting
- [ ] Add color coding (CLI)
- [ ] Add line numbers
- [ ] Handle multi-file diffs
- [ ] Unit tests for formatting

## 5.3 Before/After Examples
- [ ] Generate before code snippet
- [ ] Generate after code snippet (with extracted function)
- [ ] Include in response
- [ ] Format for readability

## 5.4 Complexity Visualization
- [ ] Create complexity bar (1-10)
- [ ] Add text descriptions (low/med/high)
- [ ] Add recommendations based on complexity
- [ ] CLI visualization

## 5.5 CLI Script Update
- [ ] Update `scripts/find_duplication.py`
- [ ] Add `--detailed` flag for enhanced analysis
- [ ] Add color output
- [ ] Add diff preview display
- [ ] Update help text and examples
- [ ] Integration tests for CLI
