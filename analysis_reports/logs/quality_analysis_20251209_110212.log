Command: Code Quality Analysis
Return Code: 0
================================================================================
STDERR:
<frozen runpy>:128: RuntimeWarning: 'src.analyzers.code_quality' found in sys.modules after import of package 'src.analyzers', but prior to execution of 'src.analyzers.code_quality'; this may result in unpredictable behaviour
INFO: 
================================================================================
INFO: Code Quality Analyzer
INFO: ================================================================================

INFO: Analyzing: /Users/alyshialedlie/code/ast-grep-mcp

INFO: ================================================================================
CODE QUALITY ANALYSIS REPORT
================================================================================

Files Scanned: 168
Total Issues Found: 1938

Issues by Severity:
  WARNING: 909
  INFO: 1029

Issues by Category:
  Best Practice: 122
  Code Smell: 908
  Documentation: 908

================================================================================
WARNING Issues (909)
================================================================================

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/analyze_codebase.py
--------------------------------------------------------------------------------
  Line 24: [long-function] Function may be too long (consider breaking down)
    Code: def print_section(title: str):
    """Print a formatted section header."""
    print(f"\n{'='*80}")

    ðŸ’¡ Break down into smaller, focused functions

  Line 31: [long-function] Function may be too long (consider breaking down)
    Code: def analyze_individual_files():
    """Analyze the top 5 most complex files individually."""
    pri
    ðŸ’¡ Break down into smaller, focused functions

  Line 68: [long-function] Function may be too long (consider breaking down)
    Code: def analyze_project_complexity():
    """Run project-wide complexity analysis."""
    print_section(
    ðŸ’¡ Break down into smaller, focused functions

  Line 115: [long-function] Function may be too long (consider breaking down)
    Code: def detect_code_smells():
    """Run code smell detection."""
    print_section("PHASE 3: Code Smell
    ðŸ’¡ Break down into smaller, focused functions

  Line 155: [long-function] Function may be too long (consider breaking down)
    Code: def detect_security_issues():
    """Run security vulnerability scanning."""
    print_section("PHAS
    ðŸ’¡ Break down into smaller, focused functions

  Line 201: [long-function] Function may be too long (consider breaking down)
    Code: def analyze_duplication():
    """Analyze code duplication opportunities."""
    print_section("PHAS
    ðŸ’¡ Break down into smaller, focused functions

  Line 264: [long-function] Function may be too long (consider breaking down)
    Code: def generate_summary_report():
    """Generate comprehensive quality report."""
    print_section("P
    ðŸ’¡ Break down into smaller, focused functions

  Line 306: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    """Run all analyses."""
    print("="*80)
    print(" COMPREHENSIVE CODEBASE ANALYSI
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/analyze_analyticsbot.py
--------------------------------------------------------------------------------
  Line 17: [long-function] Function may be too long (consider breaking down)
    Code: def analyze_project(project_path: str):
    """Run comprehensive analysis on AnalyticsBot."""

    c
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/analyze_violations.py
--------------------------------------------------------------------------------
  Line 89: [long-function] Function may be too long (consider breaking down)
    Code: def scan_all_functions(project_root: Path):
    """Scan all Python files and functions."""
    src_p
    ðŸ’¡ Break down into smaller, focused functions

  Line 98: [bare-except] Bare except clause catches all exceptions
    Code: try:
            with open(py_file, 'r') as f:
                tree = ast.parse(f.read())

         
    ðŸ’¡ Specify exception types or use "except Exception:"

  Line 110: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    project_root = Path.cwd()
    all_functions = scan_all_functions(project_root)

    
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/benchmark_batch_coverage.py
--------------------------------------------------------------------------------
  Line 250: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    """Main benchmark runner."""
    parser = argparse.ArgumentParser(
        descripti
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/benchmark_parallel_enrichment.py
--------------------------------------------------------------------------------
  Line 26: [long-function] Function may be too long (consider breaking down)
    Code: def benchmark_enrichment():
    """Benchmark parallel vs sequential enrichment."""
    from ast_grep
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/fix_import_orphans.py
--------------------------------------------------------------------------------
  Line 10: [long-function] Function may be too long (consider breaking down)
    Code: def find_orphaned_imports(lines):
    """Find lines that are orphaned from old import blocks."""

  
    ðŸ’¡ Break down into smaller, focused functions

  Line 67: [long-function] Function may be too long (consider breaking down)
    Code: def remove_orphaned_lines(filepath: Path):
    """Remove orphaned import lines from file."""
    wit
    ðŸ’¡ Break down into smaller, focused functions

  Line 103: [long-function] Function may be too long (consider breaking down)
    Code: def check_syntax(filepath: Path):
    """Check if file has valid Python syntax."""
    result = subp
    ðŸ’¡ Break down into smaller, focused functions

  Line 113: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    """Fix all test files with orphaned imports."""
    error_files = [
        'tests/u
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/fix_imports.py
--------------------------------------------------------------------------------
  Line 75: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    project_root = Path(__file__).parent.parent

    # Fix all files
    fixed_count = 0
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/fix_migration_errors.py
--------------------------------------------------------------------------------
  Line 69: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    """Fix all files with syntax errors."""
    test_files = [
        'tests/unit/test_
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/list_complexity_violations.py
--------------------------------------------------------------------------------
  Line 48: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    project_root = Path(__file__).parent.parent
    all_functions = scan_all_python_file
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/migrate_print_to_logger.py
--------------------------------------------------------------------------------
  Line 44: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self, dry_run: bool = True, backup: bool = False):
        """Initialize migrator.

   
    ðŸ’¡ Break down into smaller, focused functions

  Line 355: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    """Main entry point."""
    parser = argparse.ArgumentParser(
        description='M
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/migrate_prints_smart.py
--------------------------------------------------------------------------------
  Line 189: [long-function] Function may be too long (consider breaking down)
    Code: def migrate_directory(dir_path: Path, pattern: str = '**/*.py', dry_run: bool = True):
    """Migrat
    ðŸ’¡ Break down into smaller, focused functions

  Line 220: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    import argparse

    parser = argparse.ArgumentParser(description='Smart console.bla
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/schema-graph-builder.py
--------------------------------------------------------------------------------
  Line 46: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self, base_url: str, project_name: Optional[str] = None):
        self.base_url = base_
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/src/ast_grep_mcp/core/usage_tracking.py
--------------------------------------------------------------------------------
  Line 257: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self, db_path: Optional[str] = None):
        """Initialize the database.

        Args
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/conftest.py
--------------------------------------------------------------------------------
  Line 24: [long-function] Function may be too long (consider breaking down)
    Code: def clean_cache():
    """Clear the query cache before each test to avoid interference.

    This fi
    ðŸ’¡ Break down into smaller, focused functions

  Line 39: [long-function] Function may be too long (consider breaking down)
    Code: def query_cache():
    """Provide a fresh query cache instance.

    Returns:
        QueryCache ins
    ðŸ’¡ Break down into smaller, focused functions

  Line 167: [long-function] Function may be too long (consider breaking down)
    Code: def mock_mcp_instance():
    """Provide a mock MCP server instance for testing tools.

    Returns:

    ðŸ’¡ Break down into smaller, focused functions

  Line 176: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self):
            self.tools = {}
            self._resources = []
            self._p
    ðŸ’¡ Break down into smaller, focused functions

  Line 181: [long-function] Function may be too long (consider breaking down)
    Code: def tool(self):
            """Decorator for registering tools."""
            def decorator(func):

    ðŸ’¡ Break down into smaller, focused functions

  Line 183: [long-function] Function may be too long (consider breaking down)
    Code: def decorator(func):
                self.tools[func.__name__] = func
                return func
    ðŸ’¡ Break down into smaller, focused functions

  Line 188: [long-function] Function may be too long (consider breaking down)
    Code: def resource(self, uri: str):
            """Decorator for registering resources."""
            def
    ðŸ’¡ Break down into smaller, focused functions

  Line 190: [long-function] Function may be too long (consider breaking down)
    Code: def decorator(func):
                self._resources.append((uri, func))
                return func
    ðŸ’¡ Break down into smaller, focused functions

  Line 195: [long-function] Function may be too long (consider breaking down)
    Code: def prompt(self):
            """Decorator for registering prompts."""
            def decorator(fun
    ðŸ’¡ Break down into smaller, focused functions

  Line 197: [long-function] Function may be too long (consider breaking down)
    Code: def decorator(func):
                self._prompts.append(func)
                return func
    ðŸ’¡ Break down into smaller, focused functions

  Line 210: [long-function] Function may be too long (consider breaking down)
    Code: def create_test_file(temp_dir):
    """Factory fixture for creating test files.

    Args:
        t
    ðŸ’¡ Break down into smaller, focused functions

  Line 281: [long-function] Function may be too long (consider breaking down)
    Code: def mock_schema_client():
    """Provide a mock Schema.org client for testing.

    Returns:
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 289: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self):
            self.types = {
                "Thing": {
                    "label
    ðŸ’¡ Break down into smaller, focused functions

  Line 316: [long-function] Function may be too long (consider breaking down)
    Code: def reset_module_state():
    """Reset module-level state between tests (auto-used).

    This fixtu
    ðŸ’¡ Break down into smaller, focused functions

  Line 334: [long-function] Function may be too long (consider breaking down)
    Code: def language(request):
    """Parametrize tests across all supported languages.

    Usage:
        
    ðŸ’¡ Break down into smaller, focused functions

  Line 349: [long-function] Function may be too long (consider breaking down)
    Code: def similarity_threshold(request):
    """Parametrize tests across common similarity thresholds."""

    ðŸ’¡ Break down into smaller, focused functions

  Line 356: [long-function] Function may be too long (consider breaking down)
    Code: def duplication_detector():
    """Provide DuplicationDetector instance."""
    from ast_grep_mcp.fe
    ðŸ’¡ Break down into smaller, focused functions

  Line 363: [long-function] Function may be too long (consider breaking down)
    Code: def pattern_analyzer():
    """Provide PatternAnalyzer instance."""
    from ast_grep_mcp.features.d
    ðŸ’¡ Break down into smaller, focused functions

  Line 370: [long-function] Function may be too long (consider breaking down)
    Code: def code_generator():
    """Provide CodeGenerator instance."""
    from ast_grep_mcp.features.dedup
    ðŸ’¡ Break down into smaller, focused functions

  Line 377: [long-function] Function may be too long (consider breaking down)
    Code: def duplication_ranker():
    """Provide DuplicationRanker instance."""
    from ast_grep_mcp.featur
    ðŸ’¡ Break down into smaller, focused functions

  Line 384: [long-function] Function may be too long (consider breaking down)
    Code: def recommendation_engine():
    """Provide RecommendationEngine instance."""
    from ast_grep_mcp.
    ðŸ’¡ Break down into smaller, focused functions

  Line 395: [long-function] Function may be too long (consider breaking down)
    Code: def initialized_cache():
    """Provide initialized cache for testing.

    Automatically resets cac
    ðŸ’¡ Break down into smaller, focused functions

  Line 431: [long-function] Function may be too long (consider breaking down)
    Code: def temp_project_with_files(temp_dir):
    """Create temp project with common sample files.

    Cre
    ðŸ’¡ Break down into smaller, focused functions

  Line 507: [long-function] Function may be too long (consider breaking down)
    Code: def mcp_tools():
    """Provide easy access to MCP tools from modular architecture.

    Returns acc
    ðŸ’¡ Break down into smaller, focused functions

  Line 584: [long-function] Function may be too long (consider breaking down)
    Code: def get_tool(tool_name: str):
        """Get tool by name, with helpful error if not found.

       
    ðŸ’¡ Break down into smaller, focused functions

  Line 612: [long-function] Function may be too long (consider breaking down)
    Code: def mock_ast_grep_process():
    """Provide mock subprocess for ast-grep execution.

    Returns a c
    ðŸ’¡ Break down into smaller, focused functions

  Line 671: [long-function] Function may be too long (consider breaking down)
    Code: def sample_complexity_thresholds():
    """Provide standard complexity thresholds for testing.

    
    ðŸ’¡ Break down into smaller, focused functions

  Line 743: [long-function] Function may be too long (consider breaking down)
    Code: def sample_linting_rule():
    """Provide sample linting rule for testing.

    Returns a basic Lint
    ðŸ’¡ Break down into smaller, focused functions

  Line 799: [long-function] Function may be too long (consider breaking down)
    Code: def backup_dir(temp_dir):
    """Provide backup directory for testing.

    Creates a temporary back
    ðŸ’¡ Break down into smaller, focused functions

  Line 1044: [long-function] Function may be too long (consider breaking down)
    Code: def rewrite_sample_file(temp_dir):
    """Create a sample Python file for rewrite testing.

    Crea
    ðŸ’¡ Break down into smaller, focused functions

  Line 1069: [long-function] Function may be too long (consider breaking down)
    Code: def rewrite_tools(mcp_tools):
    """Provide easy access to rewrite MCP tools.

    Returns a dict w
    ðŸ’¡ Break down into smaller, focused functions

  Line 1093: [long-function] Function may be too long (consider breaking down)
    Code: def rewrite_test_files(temp_dir):
    """Create multiple test files for backup/restore testing.

   
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_benchmark.py
--------------------------------------------------------------------------------
  Line 37: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self, name: str):
        self.name = name
        self.tools: Dict[str, Any] = {}
    ðŸ’¡ Break down into smaller, focused functions

  Line 94: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(
        self,
        name: str,
        execution_time: float,
        memory_mb: flo
    ðŸ’¡ Break down into smaller, focused functions

  Line 131: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self, baseline_file: str = "tests/benchmark_baseline.json"):
        self.baseline_file
    ðŸ’¡ Break down into smaller, focused functions

  Line 531: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(
        self,
        name: str,
        times: List[float],
        iterations: int
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 568: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self, baseline_file: str = "tests/dedup_benchmark_baseline.json"):
        self.baselin
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_rename_symbol_integration.py
--------------------------------------------------------------------------------
  Line 16: [long-function] Function may be too long (consider breaking down)
    Code: def ast_grep_available():
    """Check if ast-grep binary is available."""
    try:
        result =
    ðŸ’¡ Break down into smaller, focused functions

  Line 37: [long-function] Function may be too long (consider breaking down)
    Code: def temp_project(tmp_path):
    """Create a temporary Python project for testing."""
    project_dir
    ðŸ’¡ Break down into smaller, focused functions

  Line 69: [long-function] Function may be too long (consider breaking down)
    Code: def temp_ts_project(tmp_path):
    """Create a temporary TypeScript project for testing."""
    proj
    ðŸ’¡ Break down into smaller, focused functions

  Line 103: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_python_symbol_references(self, temp_project):
        """Test finding symbol reference
    ðŸ’¡ Break down into smaller, focused functions

  Line 123: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_typescript_symbol_references(self, temp_ts_project):
        """Test finding symbol re
    ðŸ’¡ Break down into smaller, focused functions

  Line 140: [long-function] Function may be too long (consider breaking down)
    Code: def test_file_filter(self, temp_project):
        """Test file filtering during symbol search."""
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 155: [long-function] Function may be too long (consider breaking down)
    Code: def test_reference_classification(self, temp_project):
        """Test that references are correctly
    ðŸ’¡ Break down into smaller, focused functions

  Line 173: [long-function] Function may be too long (consider breaking down)
    Code: def test_scope_tree_building(self, temp_project):
        """Test scope tree building for Python fil
    ðŸ’¡ Break down into smaller, focused functions

  Line 200: [long-function] Function may be too long (consider breaking down)
    Code: def test_dry_run_rename(self, temp_project):
        """Test dry-run mode with real ast-grep."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 218: [long-function] Function may be too long (consider breaking down)
    Code: def test_apply_rename_single_file(self, temp_project):
        """Test actually applying a rename to
    ðŸ’¡ Break down into smaller, focused functions

  Line 246: [long-function] Function may be too long (consider breaking down)
    Code: def test_multi_file_rename(self, temp_ts_project):
        """Test renaming across multiple files.""
    ðŸ’¡ Break down into smaller, focused functions

  Line 270: [long-function] Function may be too long (consider breaking down)
    Code: def test_word_boundary_replacement(self, temp_project):
        """Test that word boundaries are res
    ðŸ’¡ Break down into smaller, focused functions

  Line 302: [long-function] Function may be too long (consider breaking down)
    Code: def test_conflict_detection(self, temp_project):
        """Test that naming conflicts are detected.
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_semantic_integration.py
--------------------------------------------------------------------------------
  Line 29: [long-function] Function may be too long (consider breaking down)
    Code: def semantic_calculator():
    """Create a SemanticSimilarity instance with loaded model."""
    if 
    ðŸ’¡ Break down into smaller, focused functions

  Line 49: [long-function] Function may be too long (consider breaking down)
    Code: def hybrid_calculator_with_semantic():
    """Create a HybridSimilarity instance with semantic enabl
    ðŸ’¡ Break down into smaller, focused functions

  Line 70: [long-function] Function may be too long (consider breaking down)
    Code: def test_model_loads_successfully(self, semantic_calculator):
        """Test that the CodeBERT mode
    ðŸ’¡ Break down into smaller, focused functions

  Line 80: [long-function] Function may be too long (consider breaking down)
    Code: def test_identical_code_perfect_similarity(self, semantic_calculator):
        """Test that identica
    ðŸ’¡ Break down into smaller, focused functions

  Line 92: [long-function] Function may be too long (consider breaking down)
    Code: def test_semantically_similar_code_high_score(self, semantic_calculator):
        """Test that seman
    ðŸ’¡ Break down into smaller, focused functions

  Line 111: [long-function] Function may be too long (consider breaking down)
    Code: def test_different_functionality_lower_score(self, semantic_calculator):
        """Test that functi
    ðŸ’¡ Break down into smaller, focused functions

  Line 128: [long-function] Function may be too long (consider breaking down)
    Code: def test_embedding_caching_works(self, semantic_calculator):
        """Test that embedding caching 
    ðŸ’¡ Break down into smaller, focused functions

  Line 145: [long-function] Function may be too long (consider breaking down)
    Code: def test_detailed_result_contains_all_fields(self, semantic_calculator):
        """Test that detail
    ðŸ’¡ Break down into smaller, focused functions

  Line 167: [long-function] Function may be too long (consider breaking down)
    Code: def test_three_stage_pipeline_works(self, hybrid_calculator_with_semantic):
        """Test that thr
    ðŸ’¡ Break down into smaller, focused functions

  Line 198: [long-function] Function may be too long (consider breaking down)
    Code: def test_early_exit_skips_semantic(self, hybrid_calculator_with_semantic):
        """Test that earl
    ðŸ’¡ Break down into smaller, focused functions

  Line 217: [long-function] Function may be too long (consider breaking down)
    Code: def test_semantic_weight_affects_result(self, hybrid_calculator_with_semantic):
        """Test that
    ðŸ’¡ Break down into smaller, focused functions

  Line 251: [long-function] Function may be too long (consider breaking down)
    Code: def test_loop_vs_comprehension(self, semantic_calculator):
        """Test detection of loop vs list
    ðŸ’¡ Break down into smaller, focused functions

  Line 268: [long-function] Function may be too long (consider breaking down)
    Code: def test_recursive_vs_iterative(self, semantic_calculator):
        """Test detection of recursive v
    ðŸ’¡ Break down into smaller, focused functions

  Line 287: [long-function] Function may be too long (consider breaking down)
    Code: def test_different_algorithms_same_result(self, semantic_calculator):
        """Test detection of d
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/quality/test_complexity_regression.py
--------------------------------------------------------------------------------
  Line 261: [long-function] Function may be too long (consider breaking down)
    Code: def test_function_complexity_thresholds(
        self, project_root: Path, func_spec: dict
    ):
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 296: [long-function] Function may be too long (consider breaking down)
    Code: def test_all_refactored_functions_exist(self, project_root: Path):
        """Verify that all critic
    ðŸ’¡ Break down into smaller, focused functions

  Line 319: [long-function] Function may be too long (consider breaking down)
    Code: def test_phase1_refactoring_impact(self, project_root: Path):
        """Verify the overall impact o
    ðŸ’¡ Break down into smaller, focused functions

  Line 400: [long-function] Function may be too long (consider breaking down)
    Code: def test_no_functions_exceed_critical_thresholds(self, project_root: Path):
        """
        Ensu
    ðŸ’¡ Break down into smaller, focused functions

  Line 474: [long-function] Function may be too long (consider breaking down)
    Code: def test_codebase_health_metrics(self, project_root: Path):
        """
        Track overall codeba
    ðŸ’¡ Break down into smaller, focused functions

  Line 580: [long-function] Function may be too long (consider breaking down)
    Code: def test_no_extremely_complex_functions(self, project_root: Path):
        """Ensure no function has
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/scripts/benchmark_fixtures.py
--------------------------------------------------------------------------------
  Line 41: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self, root: Path):
        self.root = root
        self.threshold_ms = 100.0  # 100ms 
    ðŸ’¡ Break down into smaller, focused functions

  Line 237: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    parser = argparse.ArgumentParser(description="Benchmark fixture performance")
    pa
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/scripts/detect_fixture_patterns.py
--------------------------------------------------------------------------------
  Line 53: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self, root: Path, threshold: int = 3):
        self.root = root
        self.threshold 
    ðŸ’¡ Break down into smaller, focused functions

  Line 418: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    parser = argparse.ArgumentParser(description="Detect common patterns for fixtures")

    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/scripts/score_test_file.py
--------------------------------------------------------------------------------
  Line 60: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self, file_path: Path):
        self.file_path = file_path
        self.content = file_
    ðŸ’¡ Break down into smaller, focused functions

  Line 464: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    parser = argparse.ArgumentParser(description="Score test files for fixture migration
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/scripts/track_fixture_metrics.py
--------------------------------------------------------------------------------
  Line 62: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self, root: Path):
        self.root = root
        self.test_files: List[Path] = []
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 227: [long-function] Function may be too long (consider breaking down)
    Code: def save_metrics_history(metrics: AdoptionMetrics, history_file: Path):
    """Append metrics to his
    ðŸ’¡ Break down into smaller, focused functions

  Line 344: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    parser = argparse.ArgumentParser(description="Track fixture adoption metrics")
    p
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/scripts/validate_refactoring.py
--------------------------------------------------------------------------------
  Line 46: [long-function] Function may be too long (consider breaking down)
    Code: def __init__(self, test_file: Path, baseline: Optional[Dict] = None):
        self.test_file = test_
    ðŸ’¡ Break down into smaller, focused functions

  Line 300: [long-function] Function may be too long (consider breaking down)
    Code: def main():
    parser = argparse.ArgumentParser(description="Validate refactored test file")
    pa
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/conftest.py
--------------------------------------------------------------------------------
  Line 51: [long-function] Function may be too long (consider breaking down)
    Code: def mcp_main():
    """Initialize MCP tools using the modular architecture.

    This fixture sets u
    ðŸ’¡ Break down into smaller, focused functions

  Line 126: [long-function] Function may be too long (consider breaking down)
    Code: def apply_deduplication_tool(mcp_main):
    """Get apply_deduplication tool function."""
    tool = 
    ðŸ’¡ Break down into smaller, focused functions

  Line 134: [long-function] Function may be too long (consider breaking down)
    Code: def find_duplication_tool(mcp_main):
    """Get find_duplication tool function."""
    tool = mcp_ma
    ðŸ’¡ Break down into smaller, focused functions

  Line 142: [long-function] Function may be too long (consider breaking down)
    Code: def analyze_deduplication_candidates_tool(mcp_main):
    """Get analyze_deduplication_candidates too
    ðŸ’¡ Break down into smaller, focused functions

  Line 150: [long-function] Function may be too long (consider breaking down)
    Code: def benchmark_deduplication_tool(mcp_main):
    """Get benchmark_deduplication tool function."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 158: [long-function] Function may be too long (consider breaking down)
    Code: def rewrite_code_tool(mcp_main):
    """Get rewrite_code tool function."""
    tool = mcp_main.mcp.t
    ðŸ’¡ Break down into smaller, focused functions

  Line 166: [long-function] Function may be too long (consider breaking down)
    Code: def schema_client():
    """Create a fresh SchemaOrgClient instance for testing."""
    from ast_gre
    ðŸ’¡ Break down into smaller, focused functions

  Line 173: [long-function] Function may be too long (consider breaking down)
    Code: def enforce_standards_tool(mcp_main):
    """Get enforce_standards tool function."""
    tool = mcp_
    ðŸ’¡ Break down into smaller, focused functions

  Line 181: [long-function] Function may be too long (consider breaking down)
    Code: def list_backups_tool(mcp_main):
    """Get list_backups tool function."""
    tool = mcp_main.mcp.t
    ðŸ’¡ Break down into smaller, focused functions

  Line 189: [long-function] Function may be too long (consider breaking down)
    Code: def rollback_rewrite_tool(mcp_main):
    """Get rollback_rewrite tool function."""
    tool = mcp_ma
    ðŸ’¡ Break down into smaller, focused functions

  Line 197: [long-function] Function may be too long (consider breaking down)
    Code: def analyze_complexity_tool(mcp_main):
    """Get analyze_complexity tool function."""
    tool = mc
    ðŸ’¡ Break down into smaller, focused functions

  Line 205: [long-function] Function may be too long (consider breaking down)
    Code: def test_sentry_integration_tool(mcp_main):
    """Get test_sentry_integration tool function."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 215: [long-function] Function may be too long (consider breaking down)
    Code: def project_folder(tmp_path):
    """Temporary project folder for testing.

    Uses pytest's tmp_pa
    ðŸ’¡ Break down into smaller, focused functions

  Line 228: [long-function] Function may be too long (consider breaking down)
    Code: def simple_test_files(project_folder):
    """Create simple test files for basic testing.

    Creat
    ðŸ’¡ Break down into smaller, focused functions

  Line 253: [long-function] Function may be too long (consider breaking down)
    Code: def backup_test_files(project_folder):
    """Create test files with original content tracking for b
    ðŸ’¡ Break down into smaller, focused functions

  Line 286: [long-function] Function may be too long (consider breaking down)
    Code: def orchestration_test_files(project_folder):
    """Create test files in subdirectory with complex 
    ðŸ’¡ Break down into smaller, focused functions

  Line 326: [long-function] Function may be too long (consider breaking down)
    Code: def refactoring_plan_factory():
    """Factory for creating refactoring plans with various configura
    ðŸ’¡ Break down into smaller, focused functions

  Line 397: [long-function] Function may be too long (consider breaking down)
    Code: def batch_search_tool(mcp_main):
    """Get batch_search tool function."""
    tool = mcp_main.mcp.t
    ðŸ’¡ Break down into smaller, focused functions

  Line 405: [long-function] Function may be too long (consider breaking down)
    Code: def find_code_tool(mcp_main):
    """Get find_code tool function."""
    tool = mcp_main.mcp.tools.g
    ðŸ’¡ Break down into smaller, focused functions

  Line 413: [long-function] Function may be too long (consider breaking down)
    Code: def find_code_by_rule_tool(mcp_main):
    """Get find_code_by_rule tool function."""
    tool = mcp_
    ðŸ’¡ Break down into smaller, focused functions

  Line 423: [long-function] Function may be too long (consider breaking down)
    Code: def match_factory():
    """Factory for creating ast-grep match dictionaries.

    Returns:
        
    ðŸ’¡ Break down into smaller, focused functions

  Line 466: [long-function] Function may be too long (consider breaking down)
    Code: def query_factory():
    """Factory for creating batch search query dictionaries.

    Returns:
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 507: [long-function] Function may be too long (consider breaking down)
    Code: def yaml_rule_factory():
    """Factory for creating YAML rule strings.

    Returns:
        functi
    ðŸ’¡ Break down into smaller, focused functions

  Line 555: [long-function] Function may be too long (consider breaking down)
    Code: def rule_violation_factory():
    """Factory for creating RuleViolation instances.

    Requires imp
    ðŸ’¡ Break down into smaller, focused functions

  Line 611: [long-function] Function may be too long (consider breaking down)
    Code: def linting_rule_factory():
    """Factory for creating LintingRule dictionaries.

    Returns:
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 661: [long-function] Function may be too long (consider breaking down)
    Code: def mock_popen_factory():
    """Factory for creating Mock Popen process objects.

    Returns:
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 713: [long-function] Function may be too long (consider breaking down)
    Code: def mock_httpx_client():
    """Pre-configured AsyncMock for httpx client.

    Returns:
        Asy
    ðŸ’¡ Break down into smaller, focused functions

  Line 743: [long-function] Function may be too long (consider breaking down)
    Code: def reset_cache(mcp_main):
    """Auto-reset cache before each test.

    This fixture automatically
    ðŸ’¡ Break down into smaller, focused functions

  Line 765: [long-function] Function may be too long (consider breaking down)
    Code: def reset_schema_client(mcp_main):
    """Auto-reset Schema.org client before each test.

    This f
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/features/cross_language/test_cross_language.py
--------------------------------------------------------------------------------
  Line 64: [long-function] Function may be too long (consider breaking down)
    Code: def test_pattern_database_not_empty(self):
        """Test pattern database has entries."""
        
    ðŸ’¡ Break down into smaller, focused functions

  Line 68: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_pattern_existing(self):
        """Test getting existing pattern."""
        pattern = 
    ðŸ’¡ Break down into smaller, focused functions

  Line 75: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_pattern_nonexistent(self):
        """Test getting non-existent pattern."""
        pat
    ðŸ’¡ Break down into smaller, focused functions

  Line 80: [long-function] Function may be too long (consider breaking down)
    Code: def test_search_patterns_by_concept(self):
        """Test searching patterns by concept."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 86: [long-function] Function may be too long (consider breaking down)
    Code: def test_search_patterns_by_category(self):
        """Test searching patterns with category filter.
    ðŸ’¡ Break down into smaller, focused functions

  Line 93: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_equivalents(self):
        """Test getting pattern equivalents."""
        equiv = get_
    ðŸ’¡ Break down into smaller, focused functions

  Line 100: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_equivalents_with_target_languages(self):
        """Test getting equivalents filtered b
    ðŸ’¡ Break down into smaller, focused functions

  Line 110: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_type_mapping_python_to_typescript(self):
        """Test type mapping Python to TypeScr
    ðŸ’¡ Break down into smaller, focused functions

  Line 117: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_type_mapping_nonexistent(self):
        """Test type mapping for unsupported pair."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 130: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_language_equivalents_basic(self):
        """Test basic pattern equivalence lookup."""
    ðŸ’¡ Break down into smaller, focused functions

  Line 139: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_language_equivalents_with_source(self):
        """Test equivalence lookup with source
    ðŸ’¡ Break down into smaller, focused functions

  Line 147: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_language_equivalents_with_targets(self):
        """Test equivalence lookup with targe
    ðŸ’¡ Break down into smaller, focused functions

  Line 156: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_language_equivalents_no_match(self):
        """Test equivalence lookup with no matchi
    ðŸ’¡ Break down into smaller, focused functions

  Line 164: [long-function] Function may be too long (consider breaking down)
    Code: def test_list_pattern_categories(self):
        """Test listing pattern categories."""
        categ
    ðŸ’¡ Break down into smaller, focused functions

  Line 173: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_pattern_details(self):
        """Test getting pattern details."""
        details = ge
    ðŸ’¡ Break down into smaller, focused functions

  Line 189: [long-function] Function may be too long (consider breaking down)
    Code: def test_convert_python_to_typescript_function(self):
        """Test converting Python function to 
    ðŸ’¡ Break down into smaller, focused functions

  Line 205: [long-function] Function may be too long (consider breaking down)
    Code: def test_convert_python_to_typescript_class(self):
        """Test converting Python class to TypeSc
    ðŸ’¡ Break down into smaller, focused functions

  Line 221: [long-function] Function may be too long (consider breaking down)
    Code: def test_convert_javascript_to_python_function(self):
        """Test converting JavaScript function
    ðŸ’¡ Break down into smaller, focused functions

  Line 237: [long-function] Function may be too long (consider breaking down)
    Code: def test_convert_with_type_mappings(self):
        """Test conversion includes type mappings."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 248: [long-function] Function may be too long (consider breaking down)
    Code: def test_convert_unsupported_pair(self):
        """Test conversion with unsupported language pair."
    ðŸ’¡ Break down into smaller, focused functions

  Line 258: [long-function] Function may be too long (consider breaking down)
    Code: def test_convert_with_warnings(self):
        """Test conversion generates warnings for complex patt
    ðŸ’¡ Break down into smaller, focused functions

  Line 274: [long-function] Function may be too long (consider breaking down)
    Code: def test_convert_boolean_values(self):
        """Test boolean value conversion."""
        python_c
    ðŸ’¡ Break down into smaller, focused functions

  Line 285: [long-function] Function may be too long (consider breaking down)
    Code: def test_apply_patterns_function(self):
        """Test pattern application helper."""
        code 
    ðŸ’¡ Break down into smaller, focused functions

  Line 300: [long-function] Function may be too long (consider breaking down)
    Code: def test_detect_languages(self):
        """Test language detection in a project."""
        with te
    ðŸ’¡ Break down into smaller, focused functions

  Line 313: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_semantic_query_async(self):
        """Test semantic query parsing for async."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 318: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_semantic_query_class(self):
        """Test semantic query parsing for class."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 324: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_semantic_query_try_catch(self):
        """Test semantic query parsing for error hand
    ðŸ’¡ Break down into smaller, focused functions

  Line 329: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_semantic_query_default(self):
        """Test semantic query parsing default to funct
    ðŸ’¡ Break down into smaller, focused functions

  Line 335: [long-function] Function may be too long (consider breaking down)
    Code: def test_search_multi_language_basic(self, mock_run):
        """Test basic multi-language search.""
    ðŸ’¡ Break down into smaller, focused functions

  Line 354: [long-function] Function may be too long (consider breaking down)
    Code: def test_search_multi_language_invalid_folder(self):
        """Test search with invalid folder."""

    ðŸ’¡ Break down into smaller, focused functions

  Line 363: [long-function] Function may be too long (consider breaking down)
    Code: def test_search_multi_language_no_supported_languages(self):
        """Test search returns empty wh
    ðŸ’¡ Break down into smaller, focused functions

  Line 382: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_symbol_occurrences(self):
        """Test finding symbol occurrences in a file."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 394: [long-function] Function may be too long (consider breaking down)
    Code: def test_create_rename_change(self):
        """Test creating a rename change."""
        change = _
    ðŸ’¡ Break down into smaller, focused functions

  Line 409: [long-function] Function may be too long (consider breaking down)
    Code: def test_refactor_polyglot_dry_run(self):
        """Test polyglot refactoring in dry run mode."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 431: [long-function] Function may be too long (consider breaking down)
    Code: def test_refactor_polyglot_apply(self):
        """Test polyglot refactoring with actual application
    ðŸ’¡ Break down into smaller, focused functions

  Line 452: [long-function] Function may be too long (consider breaking down)
    Code: def test_refactor_polyglot_invalid_type(self):
        """Test refactoring with invalid type."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 463: [long-function] Function may be too long (consider breaking down)
    Code: def test_refactor_polyglot_missing_new_name(self):
        """Test rename refactoring without new_na
    ðŸ’¡ Break down into smaller, focused functions

  Line 482: [long-function] Function may be too long (consider breaking down)
    Code: def test_to_camel_case(self):
        """Test camelCase conversion."""
        assert _to_camel_case
    ðŸ’¡ Break down into smaller, focused functions

  Line 488: [long-function] Function may be too long (consider breaking down)
    Code: def test_to_pascal_case(self):
        """Test PascalCase conversion."""
        assert _to_pascal_c
    ðŸ’¡ Break down into smaller, focused functions

  Line 494: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_openapi_spec(self):
        """Test parsing OpenAPI specification."""
        spec = 
    ðŸ’¡ Break down into smaller, focused functions

  Line 527: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_language_bindings_python(self):
        """Test generating Python bindings."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 561: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_language_bindings_typescript(self):
        """Test generating TypeScript bindings
    ðŸ’¡ Break down into smaller, focused functions

  Line 596: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_language_bindings_multiple(self):
        """Test generating bindings for multiple
    ðŸ’¡ Break down into smaller, focused functions

  Line 620: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_language_bindings_invalid_file(self):
        """Test binding generation with inva
    ðŸ’¡ Break down into smaller, focused functions

  Line 636: [long-function] Function may be too long (consider breaking down)
    Code: def test_conversion_style_enum(self):
        """Test ConversionStyle enum values."""
        assert
    ðŸ’¡ Break down into smaller, focused functions

  Line 642: [long-function] Function may be too long (consider breaking down)
    Code: def test_refactoring_type_enum(self):
        """Test RefactoringType enum values."""
        assert
    ðŸ’¡ Break down into smaller, focused functions

  Line 648: [long-function] Function may be too long (consider breaking down)
    Code: def test_supported_languages(self):
        """Test supported languages list."""
        assert "pyt
    ðŸ’¡ Break down into smaller, focused functions

  Line 655: [long-function] Function may be too long (consider breaking down)
    Code: def test_supported_conversion_pairs(self):
        """Test supported conversion pairs."""
        as
    ðŸ’¡ Break down into smaller, focused functions

  Line 669: [long-function] Function may be too long (consider breaking down)
    Code: def test_full_workflow_find_and_convert(self):
        """Test finding equivalents then converting c
    ðŸ’¡ Break down into smaller, focused functions

  Line 686: [long-function] Function may be too long (consider breaking down)
    Code: def test_workflow_search_and_refactor(self):
        """Test searching then refactoring across langu
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_analysis_config.py
--------------------------------------------------------------------------------
  Line 14: [long-function] Function may be too long (consider breaking down)
    Code: def test_minimal_config(self):
        """Should create config with only required fields."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 32: [long-function] Function may be too long (consider breaking down)
    Code: def test_full_config(self):
        """Should create config with all fields specified."""
        de
    ðŸ’¡ Break down into smaller, focused functions

  Line 34: [long-function] Function may be too long (consider breaking down)
    Code: def callback(stage, pct):
            pass
    ðŸ’¡ Break down into smaller, focused functions

  Line 65: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_min_similarity_too_low(self):
        """Should raise ValueError for min_similarity
    ðŸ’¡ Break down into smaller, focused functions

  Line 74: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_min_similarity_too_high(self):
        """Should raise ValueError for min_similarit
    ðŸ’¡ Break down into smaller, focused functions

  Line 83: [long-function] Function may be too long (consider breaking down)
    Code: def test_valid_min_similarity_boundaries(self):
        """Should accept min_similarity at boundarie
    ðŸ’¡ Break down into smaller, focused functions

  Line 99: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_min_lines_zero(self):
        """Should raise ValueError for min_lines = 0."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 108: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_min_lines_negative(self):
        """Should raise ValueError for min_lines < 0."""

    ðŸ’¡ Break down into smaller, focused functions

  Line 117: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_max_candidates_zero(self):
        """Should raise ValueError for max_candidates = 
    ðŸ’¡ Break down into smaller, focused functions

  Line 126: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_max_candidates_negative(self):
        """Should raise ValueError for max_candidate
    ðŸ’¡ Break down into smaller, focused functions

  Line 135: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_max_workers_zero(self):
        """Should raise ValueError for max_workers = 0."""

    ðŸ’¡ Break down into smaller, focused functions

  Line 144: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_max_workers_negative(self):
        """Should raise ValueError for max_workers < 0.
    ðŸ’¡ Break down into smaller, focused functions

  Line 157: [long-function] Function may be too long (consider breaking down)
    Code: def test_exclude_patterns_none_normalized_to_empty_list(self):
        """Should normalize None excl
    ðŸ’¡ Break down into smaller, focused functions

  Line 167: [long-function] Function may be too long (consider breaking down)
    Code: def test_exclude_patterns_empty_list_preserved(self):
        """Should preserve empty list for excl
    ðŸ’¡ Break down into smaller, focused functions

  Line 176: [long-function] Function may be too long (consider breaking down)
    Code: def test_exclude_patterns_with_values_preserved(self):
        """Should preserve exclude_patterns w
    ðŸ’¡ Break down into smaller, focused functions

  Line 190: [long-function] Function may be too long (consider breaking down)
    Code: def test_to_dict_minimal_config(self):
        """Should serialize minimal config to dict."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 212: [long-function] Function may be too long (consider breaking down)
    Code: def test_to_dict_full_config(self):
        """Should serialize full config to dict."""
        def 
    ðŸ’¡ Break down into smaller, focused functions

  Line 214: [long-function] Function may be too long (consider breaking down)
    Code: def callback(stage, pct):
            pass
    ðŸ’¡ Break down into smaller, focused functions

  Line 245: [long-function] Function may be too long (consider breaking down)
    Code: def test_to_dict_excludes_callback_function(self):
        """Should not include progress_callback f
    ðŸ’¡ Break down into smaller, focused functions

  Line 247: [long-function] Function may be too long (consider breaking down)
    Code: def callback(stage, pct):
            pass
    ðŸ’¡ Break down into smaller, focused functions

  Line 267: [long-function] Function may be too long (consider breaking down)
    Code: def test_very_high_max_candidates(self):
        """Should accept very high max_candidates value."""
    ðŸ’¡ Break down into smaller, focused functions

  Line 276: [long-function] Function may be too long (consider breaking down)
    Code: def test_very_high_max_workers(self):
        """Should accept very high max_workers value."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 285: [long-function] Function may be too long (consider breaking down)
    Code: def test_many_exclude_patterns(self):
        """Should handle many exclude patterns."""
        pat
    ðŸ’¡ Break down into smaller, focused functions

  Line 296: [long-function] Function may be too long (consider breaking down)
    Code: def test_unicode_in_project_path(self):
        """Should handle unicode characters in project path.
    ðŸ’¡ Break down into smaller, focused functions

  Line 304: [long-function] Function may be too long (consider breaking down)
    Code: def test_unicode_in_language(self):
        """Should handle unicode characters in language."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 316: [long-function] Function may be too long (consider breaking down)
    Code: def test_callback_invocation_tracking(self):
        """Should track callback invocations properly."
    ðŸ’¡ Break down into smaller, focused functions

  Line 320: [long-function] Function may be too long (consider breaking down)
    Code: def callback(stage, pct):
            invocations.append((stage, pct))
    ðŸ’¡ Break down into smaller, focused functions

  Line 339: [long-function] Function may be too long (consider breaking down)
    Code: def test_no_callback_none_check(self):
        """Should handle None callback gracefully."""
       
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_batch_coverage.py
--------------------------------------------------------------------------------
  Line 20: [long-function] Function may be too long (consider breaking down)
    Code: def temp_project(self):
        """Create a temporary project with test files."""
        with tempf
    ðŸ’¡ Break down into smaller, focused functions

  Line 42: [long-function] Function may be too long (consider breaking down)
    Code: def detector(self):
        """Create a CoverageDetector instance."""
        return CoverageDetecto
    ðŸ’¡ Break down into smaller, focused functions

  Line 46: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_all_test_files_python(self, detector, temp_project):
        """Test finding all test 
    ðŸ’¡ Break down into smaller, focused functions

  Line 55: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_all_test_files_empty_project(self, detector):
        """Test finding test files in em
    ðŸ’¡ Break down into smaller, focused functions

  Line 62: [long-function] Function may be too long (consider breaking down)
    Code: def test_has_test_coverage_optimized_with_test(self, detector, temp_project):
        """Test optimi
    ðŸ’¡ Break down into smaller, focused functions

  Line 78: [long-function] Function may be too long (consider breaking down)
    Code: def test_has_test_coverage_optimized_without_test(self, detector, temp_project):
        """Test opt
    ðŸ’¡ Break down into smaller, focused functions

  Line 94: [long-function] Function may be too long (consider breaking down)
    Code: def test_batch_coverage_sequential(self, detector, temp_project):
        """Test batch coverage det
    ðŸ’¡ Break down into smaller, focused functions

  Line 115: [long-function] Function may be too long (consider breaking down)
    Code: def test_batch_coverage_parallel(self, detector, temp_project):
        """Test batch coverage detec
    ðŸ’¡ Break down into smaller, focused functions

  Line 137: [long-function] Function may be too long (consider breaking down)
    Code: def test_batch_coverage_empty_list(self, detector):
        """Test batch coverage with empty file l
    ðŸ’¡ Break down into smaller, focused functions

  Line 148: [long-function] Function may be too long (consider breaking down)
    Code: def test_batch_coverage_error_handling(self, detector, temp_project):
        """Test error handling
    ðŸ’¡ Break down into smaller, focused functions

  Line 176: [long-function] Function may be too long (consider breaking down)
    Code: def detector(self):
        """Create a CoverageDetector instance."""
        return CoverageDetecto
    ðŸ’¡ Break down into smaller, focused functions

  Line 180: [long-function] Function may be too long (consider breaking down)
    Code: def test_batch_sequential_equivalence(self, detector):
        """Test that batch and sequential pro
    ðŸ’¡ Break down into smaller, focused functions

  Line 232: [long-function] Function may be too long (consider breaking down)
    Code: def mock_detector(self):
        """Create a mock CoverageDetector."""
        detector = Mock(spec=
    ðŸ’¡ Break down into smaller, focused functions

  Line 244: [long-function] Function may be too long (consider breaking down)
    Code: def test_orchestrator_uses_batch_method(self, mock_detector):
        """Test that orchestrator uses
    ðŸ’¡ Break down into smaller, focused functions

  Line 285: [long-function] Function may be too long (consider breaking down)
    Code: def test_orchestrator_deduplicates_files(self, mock_detector):
        """Test that orchestrator ded
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_code_smells.py
--------------------------------------------------------------------------------
  Line 19: [long-function] Function may be too long (consider breaking down)
    Code: def test_no_parameters(self):
        """Function with no parameters."""
        code = "def func():
    ðŸ’¡ Break down into smaller, focused functions

  Line 26: [long-function] Function may be too long (consider breaking down)
    Code: def test_single_parameter(self):
        """Function with single parameter."""
        code = "def f
    ðŸ’¡ Break down into smaller, focused functions

  Line 33: [long-function] Function may be too long (consider breaking down)
    Code: def test_multiple_parameters(self):
        """Function with multiple parameters."""
        code = 
    ðŸ’¡ Break down into smaller, focused functions

  Line 40: [long-function] Function may be too long (consider breaking down)
    Code: def test_self_excluded(self):
        """Self parameter should be excluded in Python."""
        cod
    ðŸ’¡ Break down into smaller, focused functions

  Line 47: [long-function] Function may be too long (consider breaking down)
    Code: def test_cls_excluded(self):
        """Cls parameter should be excluded in Python."""
        code 
    ðŸ’¡ Break down into smaller, focused functions

  Line 54: [long-function] Function may be too long (consider breaking down)
    Code: def test_default_values(self):
        """Parameters with default values."""
        code = "def fun
    ðŸ’¡ Break down into smaller, focused functions

  Line 61: [long-function] Function may be too long (consider breaking down)
    Code: def test_type_annotations(self):
        """Parameters with type annotations."""
        code = "def
    ðŸ’¡ Break down into smaller, focused functions

  Line 68: [long-function] Function may be too long (consider breaking down)
    Code: def test_complex_types(self):
        """Parameters with complex type annotations."""
        code =
    ðŸ’¡ Break down into smaller, focused functions

  Line 75: [long-function] Function may be too long (consider breaking down)
    Code: def test_async_function(self):
        """Async function parameters."""
        code = "async def fu
    ðŸ’¡ Break down into smaller, focused functions

  Line 82: [long-function] Function may be too long (consider breaking down)
    Code: def test_javascript_function(self):
        """JavaScript function parameters."""
        code = "fu
    ðŸ’¡ Break down into smaller, focused functions

  Line 89: [long-function] Function may be too long (consider breaking down)
    Code: def test_typescript_function(self):
        """TypeScript function with types."""
        code = "fu
    ðŸ’¡ Break down into smaller, focused functions

  Line 96: [long-function] Function may be too long (consider breaking down)
    Code: def test_args_kwargs(self):
        """Args and kwargs."""
        code = "def func(a, *args, **kwar
    ðŸ’¡ Break down into smaller, focused functions

  Line 108: [long-function] Function may be too long (consider breaking down)
    Code: def test_no_magic_numbers(self):
        """Code without magic numbers."""
        code = "x = 0\ny 
    ðŸ’¡ Break down into smaller, focused functions

  Line 116: [long-function] Function may be too long (consider breaking down)
    Code: def test_simple_magic_number(self):
        """Simple magic number detection."""
        code = "del
    ðŸ’¡ Break down into smaller, focused functions

  Line 125: [long-function] Function may be too long (consider breaking down)
    Code: def test_allowed_values_excluded(self):
        """Common values should not be flagged."""
        c
    ðŸ’¡ Break down into smaller, focused functions

  Line 133: [long-function] Function may be too long (consider breaking down)
    Code: def test_comments_excluded(self):
        """Numbers in comments should be excluded."""
        code
    ðŸ’¡ Break down into smaller, focused functions

  Line 142: [long-function] Function may be too long (consider breaking down)
    Code: def test_float_magic_numbers(self):
        """Float magic numbers."""
        code = "rate = 0.15"

    ðŸ’¡ Break down into smaller, focused functions

  Line 151: [long-function] Function may be too long (consider breaking down)
    Code: def test_multiple_on_same_line(self):
        """Multiple magic numbers on same line."""
        cod
    ðŸ’¡ Break down into smaller, focused functions

  Line 160: [long-function] Function may be too long (consider breaking down)
    Code: def test_range_excluded(self):
        """Numbers in range() should be excluded."""
        code = "
    ðŸ’¡ Break down into smaller, focused functions

  Line 173: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_simple_class(self):
        """Extract simple Python class."""
        with tempfil
    ðŸ’¡ Break down into smaller, focused functions

  Line 197: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_no_classes(self):
        """File with no classes."""
        with tempfile.NamedTe
    ðŸ’¡ Break down into smaller, focused functions

  Line 217: [long-function] Function may be too long (consider breaking down)
    Code: def test_long_function_detection(self):
        """Detect long function smell."""
        # This tes
    ðŸ’¡ Break down into smaller, focused functions

  Line 227: [long-function] Function may be too long (consider breaking down)
    Code: def test_parameter_bloat_detection(self):
        """Detect parameter bloat smell."""
        code =
    ðŸ’¡ Break down into smaller, focused functions

  Line 239: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_function(self):
        """Empty function should have 0 parameters."""
        code =
    ðŸ’¡ Break down into smaller, focused functions

  Line 246: [long-function] Function may be too long (consider breaking down)
    Code: def test_lambda_not_counted(self):
        """Lambdas are not regular functions."""
        code = "
    ðŸ’¡ Break down into smaller, focused functions

  Line 254: [long-function] Function may be too long (consider breaking down)
    Code: def test_nested_parentheses_in_params(self):
        """Handle nested parentheses in parameter types
    ðŸ’¡ Break down into smaller, focused functions

  Line 261: [long-function] Function may be too long (consider breaking down)
    Code: def test_no_magic_in_strings(self):
        """Numbers in strings shouldn't be flagged."""
        c
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_complexity.py
--------------------------------------------------------------------------------
  Line 31: [long-function] Function may be too long (consider breaking down)
    Code: def test_simple_function(self):
        """Simple function with no branches should have complexity 1
    ðŸ’¡ Break down into smaller, focused functions

  Line 40: [long-function] Function may be too long (consider breaking down)
    Code: def test_single_if(self):
        """Single if statement adds 1 to complexity."""
        code = """
    ðŸ’¡ Break down into smaller, focused functions

  Line 51: [long-function] Function may be too long (consider breaking down)
    Code: def test_if_elif_else(self):
        """if-elif chain counts each branch."""
        code = """
def 
    ðŸ’¡ Break down into smaller, focused functions

  Line 65: [long-function] Function may be too long (consider breaking down)
    Code: def test_for_loop(self):
        """For loop adds 1 to complexity."""
        code = """
def func(it
    ðŸ’¡ Break down into smaller, focused functions

  Line 75: [long-function] Function may be too long (consider breaking down)
    Code: def test_while_loop(self):
        """While loop adds 1 to complexity."""
        code = """
def fun
    ðŸ’¡ Break down into smaller, focused functions

  Line 85: [long-function] Function may be too long (consider breaking down)
    Code: def test_logical_operators(self):
        """Logical operators add to complexity."""
        code = 
    ðŸ’¡ Break down into smaller, focused functions

  Line 97: [long-function] Function may be too long (consider breaking down)
    Code: def test_nested_branches(self):
        """Nested branches accumulate complexity."""
        code = 
    ðŸ’¡ Break down into smaller, focused functions

  Line 111: [long-function] Function may be too long (consider breaking down)
    Code: def test_exception_handling(self):
        """Exception handlers add complexity."""
        code = "
    ðŸ’¡ Break down into smaller, focused functions

  Line 125: [long-function] Function may be too long (consider breaking down)
    Code: def test_with_statement(self):
        """With statement adds complexity."""
        code = """
def 
    ðŸ’¡ Break down into smaller, focused functions

  Line 135: [long-function] Function may be too long (consider breaking down)
    Code: def test_complex_function(self):
        """Complex function with multiple branches."""
        code
    ðŸ’¡ Break down into smaller, focused functions

  Line 153: [long-function] Function may be too long (consider breaking down)
    Code: def test_typescript_if(self):
        """TypeScript if statement."""
        code = """
function fun
    ðŸ’¡ Break down into smaller, focused functions

  Line 166: [long-function] Function may be too long (consider breaking down)
    Code: def test_typescript_logical_operators(self):
        """TypeScript logical operators."""
        cod
    ðŸ’¡ Break down into smaller, focused functions

  Line 176: [long-function] Function may be too long (consider breaking down)
    Code: def test_javascript_switch(self):
        """JavaScript switch statement."""
        code = """
func
    ðŸ’¡ Break down into smaller, focused functions

  Line 193: [long-function] Function may be too long (consider breaking down)
    Code: def test_java_for_loop(self):
        """Java for loop."""
        code = """
public int sum(int[] a
    ðŸ’¡ Break down into smaller, focused functions

  Line 211: [long-function] Function may be too long (consider breaking down)
    Code: def test_simple_function(self):
        """Simple function with no branches should have complexity 0
    ðŸ’¡ Break down into smaller, focused functions

  Line 220: [long-function] Function may be too long (consider breaking down)
    Code: def test_single_if(self):
        """Single if statement adds 1."""
        code = """
def func(x):

    ðŸ’¡ Break down into smaller, focused functions

  Line 231: [long-function] Function may be too long (consider breaking down)
    Code: def test_nested_if_penalty(self):
        """Nested if adds nesting penalty."""
        code = """
d
    ðŸ’¡ Break down into smaller, focused functions

  Line 244: [long-function] Function may be too long (consider breaking down)
    Code: def test_deeply_nested(self):
        """Deep nesting increases cognitive load significantly."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 259: [long-function] Function may be too long (consider breaking down)
    Code: def test_logical_operators_add(self):
        """Logical operators add to cognitive complexity."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 273: [long-function] Function may be too long (consider breaking down)
    Code: def test_no_nesting(self):
        """Function with no nesting should have minimal depth."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 282: [long-function] Function may be too long (consider breaking down)
    Code: def test_single_level(self):
        """Single level of nesting."""
        code = """
def func(x):

    ðŸ’¡ Break down into smaller, focused functions

  Line 293: [long-function] Function may be too long (consider breaking down)
    Code: def test_two_levels(self):
        """Two levels of nesting."""
        code = """
def func(x, y):
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 305: [long-function] Function may be too long (consider breaking down)
    Code: def test_deep_nesting(self):
        """Deep nesting of 4 levels."""
        code = """
def func(a, 
    ðŸ’¡ Break down into smaller, focused functions

  Line 319: [long-function] Function may be too long (consider breaking down)
    Code: def test_loop_nesting(self):
        """Loops contribute to nesting."""
        code = """
def func(
    ðŸ’¡ Break down into smaller, focused functions

  Line 334: [long-function] Function may be too long (consider breaking down)
    Code: def test_python_patterns(self):
        """Get Python patterns."""
        patterns = get_complexity
    ðŸ’¡ Break down into smaller, focused functions

  Line 341: [long-function] Function may be too long (consider breaking down)
    Code: def test_typescript_patterns(self):
        """Get TypeScript patterns."""
        patterns = get_co
    ðŸ’¡ Break down into smaller, focused functions

  Line 347: [long-function] Function may be too long (consider breaking down)
    Code: def test_javascript_patterns(self):
        """Get JavaScript patterns."""
        patterns = get_co
    ðŸ’¡ Break down into smaller, focused functions

  Line 353: [long-function] Function may be too long (consider breaking down)
    Code: def test_java_patterns(self):
        """Get Java patterns."""
        patterns = get_complexity_pat
    ðŸ’¡ Break down into smaller, focused functions

  Line 359: [long-function] Function may be too long (consider breaking down)
    Code: def test_unknown_language_defaults_to_python(self):
        """Unknown language defaults to Python p
    ðŸ’¡ Break down into smaller, focused functions

  Line 364: [long-function] Function may be too long (consider breaking down)
    Code: def test_case_insensitive(self):
        """Language names are case insensitive."""
        assert g
    ðŸ’¡ Break down into smaller, focused functions

  Line 373: [long-function] Function may be too long (consider breaking down)
    Code: def test_complexity_metrics(self):
        """Test ComplexityMetrics dataclass."""
        metrics =
    ðŸ’¡ Break down into smaller, focused functions

  Line 388: [long-function] Function may be too long (consider breaking down)
    Code: def test_complexity_metrics_defaults(self):
        """Test ComplexityMetrics default values."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 398: [long-function] Function may be too long (consider breaking down)
    Code: def test_function_complexity(self):
        """Test FunctionComplexity dataclass."""
        metrics
    ðŸ’¡ Break down into smaller, focused functions

  Line 414: [long-function] Function may be too long (consider breaking down)
    Code: def test_complexity_thresholds(self):
        """Test ComplexityThresholds dataclass."""
        thr
    ðŸ’¡ Break down into smaller, focused functions

  Line 422: [long-function] Function may be too long (consider breaking down)
    Code: def test_custom_thresholds(self):
        """Test custom threshold values."""
        thresholds = C
    ðŸ’¡ Break down into smaller, focused functions

  Line 437: [long-function] Function may be too long (consider breaking down)
    Code: def test_storage_initialization(self):
        """Test storage initializes database."""
        with
    ðŸ’¡ Break down into smaller, focused functions

  Line 445: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_or_create_project(self):
        """Test project creation and retrieval."""
        wit
    ðŸ’¡ Break down into smaller, focused functions

  Line 459: [long-function] Function may be too long (consider breaking down)
    Code: def test_store_analysis_run(self):
        """Test storing analysis run."""
        with tempfile.Te
    ðŸ’¡ Break down into smaller, focused functions

  Line 494: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_project_trends(self):
        """Test retrieving project trends."""
        with tempfi
    ðŸ’¡ Break down into smaller, focused functions

  Line 523: [long-function] Function may be too long (consider breaking down)
    Code: def test_analyze_empty_file(self):
        """Test analyzing file with no functions."""
        with
    ðŸ’¡ Break down into smaller, focused functions

  Line 537: [long-function] Function may be too long (consider breaking down)
    Code: def test_analyze_simple_function(self):
        """Test analyzing file with simple function."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 563: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_code(self):
        """Empty code should return minimal complexity."""
        result
    ðŸ’¡ Break down into smaller, focused functions

  Line 574: [long-function] Function may be too long (consider breaking down)
    Code: def test_code_with_only_comments(self):
        """Code with only comments."""
        code = """
# 
    ðŸ’¡ Break down into smaller, focused functions

  Line 583: [long-function] Function may be too long (consider breaking down)
    Code: def test_multiline_string(self):
        """Multiline strings shouldn't be counted as branches."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 599: [long-function] Function may be too long (consider breaking down)
    Code: def test_very_long_function(self):
        """Very long function should work correctly."""
        l
    ðŸ’¡ Break down into smaller, focused functions

  Line 610: [long-function] Function may be too long (consider breaking down)
    Code: def test_tabs_vs_spaces(self):
        """Handle both tabs and spaces for indentation."""
        co
    ðŸ’¡ Break down into smaller, focused functions

  Line 680: [long-function] Function may be too long (consider breaking down)
    Code: def test_cyclomatic_1000_functions(self):
        """Benchmark: Calculate cyclomatic complexity for 
    ðŸ’¡ Break down into smaller, focused functions

  Line 702: [long-function] Function may be too long (consider breaking down)
    Code: def test_cognitive_1000_functions(self):
        """Benchmark: Calculate cognitive complexity for 10
    ðŸ’¡ Break down into smaller, focused functions

  Line 723: [long-function] Function may be too long (consider breaking down)
    Code: def test_nesting_depth_1000_functions(self):
        """Benchmark: Calculate nesting depth for 1000 
    ðŸ’¡ Break down into smaller, focused functions

  Line 744: [long-function] Function may be too long (consider breaking down)
    Code: def test_all_metrics_1000_functions(self):
        """Benchmark: All complexity metrics for 1000 fun
    ðŸ’¡ Break down into smaller, focused functions

  Line 768: [long-function] Function may be too long (consider breaking down)
    Code: def test_file_analysis_100_files(self):
        """Benchmark: Analyze 100 files with multiple functi
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_conftest_fixtures.py
--------------------------------------------------------------------------------
  Line 14: [long-function] Function may be too long (consider breaking down)
    Code: def test_initialized_cache(self, initialized_cache):
        """Test initialized_cache fixture provi
    ðŸ’¡ Break down into smaller, focused functions

  Line 24: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_with_tools(self, initialized_cache, mcp_tools):
        """Test that initialized_cach
    ðŸ’¡ Break down into smaller, focused functions

  Line 37: [long-function] Function may be too long (consider breaking down)
    Code: def test_temp_project_with_files(self, temp_project_with_files):
        """Test temp_project_with_f
    ðŸ’¡ Break down into smaller, focused functions

  Line 54: [long-function] Function may be too long (consider breaking down)
    Code: def test_sample_py_content(self, temp_project_with_files):
        """Test sample.py has expected co
    ðŸ’¡ Break down into smaller, focused functions

  Line 62: [long-function] Function may be too long (consider breaking down)
    Code: def test_duplicate_files_similar(self, temp_project_with_files):
        """Test duplicate files hav
    ðŸ’¡ Break down into smaller, focused functions

  Line 79: [long-function] Function may be too long (consider breaking down)
    Code: def test_mcp_tools_accessor(self, mcp_tools):
        """Test mcp_tools fixture provides tool access
    ðŸ’¡ Break down into smaller, focused functions

  Line 86: [long-function] Function may be too long (consider breaking down)
    Code: def test_mcp_tools_error_handling(self, mcp_tools):
        """Test mcp_tools raises helpful error f
    ðŸ’¡ Break down into smaller, focused functions

  Line 99: [long-function] Function may be too long (consider breaking down)
    Code: def test_sample_complexity_thresholds(self, sample_complexity_thresholds):
        """Test sample_co
    ðŸ’¡ Break down into smaller, focused functions

  Line 108: [long-function] Function may be too long (consider breaking down)
    Code: def test_sample_function_code(self, sample_function_code):
        """Test sample_function_code prov
    ðŸ’¡ Break down into smaller, focused functions

  Line 128: [long-function] Function may be too long (consider breaking down)
    Code: def test_sample_linting_rule(self, sample_linting_rule):
        """Test sample_linting_rule has exp
    ðŸ’¡ Break down into smaller, focused functions

  Line 137: [long-function] Function may be too long (consider breaking down)
    Code: def test_sample_rule_templates(self, sample_rule_templates):
        """Test sample_rule_templates p
    ðŸ’¡ Break down into smaller, focused functions

  Line 155: [long-function] Function may be too long (consider breaking down)
    Code: def test_backup_dir(self, backup_dir, temp_dir):
        """Test backup_dir provides functional back
    ðŸ’¡ Break down into smaller, focused functions

  Line 171: [long-function] Function may be too long (consider breaking down)
    Code: def test_sample_test_paths(self, sample_test_paths):
        """Test sample_test_paths provides sour
    ðŸ’¡ Break down into smaller, focused functions

  Line 186: [long-function] Function may be too long (consider breaking down)
    Code: def test_sample_python_code(self, sample_python_code):
        """Test sample_python_code provides P
    ðŸ’¡ Break down into smaller, focused functions

  Line 191: [long-function] Function may be too long (consider breaking down)
    Code: def test_sample_typescript_code(self, sample_typescript_code):
        """Test sample_typescript_cod
    ðŸ’¡ Break down into smaller, focused functions

  Line 197: [long-function] Function may be too long (consider breaking down)
    Code: def test_sample_javascript_code(self, sample_javascript_code):
        """Test sample_javascript_cod
    ðŸ’¡ Break down into smaller, focused functions

  Line 204: [long-function] Function may be too long (consider breaking down)
    Code: def test_sample_java_code(self, sample_java_code):
        """Test sample_java_code provides Java co
    ðŸ’¡ Break down into smaller, focused functions

  Line 213: [long-function] Function may be too long (consider breaking down)
    Code: def test_sample_schema_types(self, sample_schema_types):
        """Test sample_schema_types provide
    ðŸ’¡ Break down into smaller, focused functions

  Line 232: [long-function] Function may be too long (consider breaking down)
    Code: def test_sample_deduplication_result(self, sample_deduplication_result):
        """Test sample_dedu
    ðŸ’¡ Break down into smaller, focused functions

  Line 253: [long-function] Function may be too long (consider breaking down)
    Code: def test_mock_ast_grep_process(self, mock_ast_grep_process):
        """Test mock_ast_grep_process p
    ðŸ’¡ Break down into smaller, focused functions

  Line 265: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_with_project_files(self, initialized_cache, temp_project_with_files):
        """Test
    ðŸ’¡ Break down into smaller, focused functions

  Line 274: [long-function] Function may be too long (consider breaking down)
    Code: def test_tools_with_thresholds(self, mcp_tools, sample_complexity_thresholds):
        """Test using
    ðŸ’¡ Break down into smaller, focused functions

  Line 284: [long-function] Function may be too long (consider breaking down)
    Code: def test_backup_with_project(self, backup_dir, temp_project_with_files):
        """Test backup dire
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_deduplication_analysis.py
--------------------------------------------------------------------------------
  Line 47: [long-function] Function may be too long (consider breaking down)
    Code: def test_classify_variations_simple(self):
        """Test classifying simple variations."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 56: [long-function] Function may be too long (consider breaking down)
    Code: def test_classify_variations_complex(self):
        """Test classifying complex variations."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 73: [long-function] Function may be too long (consider breaking down)
    Code: def test_detect_conditional_variations(self):
        """Test detecting conditional variations."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 82: [long-function] Function may be too long (consider breaking down)
    Code: def test_variation_severity_enum(self):
        """Test VariationSeverity enum values."""
        as
    ðŸ’¡ Break down into smaller, focused functions

  Line 92: [long-function] Function may be too long (consider breaking down)
    Code: def test_identify_varying_identifiers(self):
        """Test identifying varying identifiers between
    ðŸ’¡ Break down into smaller, focused functions

  Line 101: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_parameter_name(self):
        """Test generating parameter names from identifiers.
    ðŸ’¡ Break down into smaller, focused functions

  Line 108: [long-function] Function may be too long (consider breaking down)
    Code: def test_infer_parameter_type(self):
        """Test inferring parameter type from context."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 114: [long-function] Function may be too long (consider breaking down)
    Code: def test_infer_single_value_type(self):
        """Test inferring type from a single value."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 120: [long-function] Function may be too long (consider breaking down)
    Code: def test_infer_from_identifier_name(self):
        """Test inferring type from identifier naming pat
    ðŸ’¡ Break down into smaller, focused functions

  Line 125: [long-function] Function may be too long (consider breaking down)
    Code: def test_detect_nested_function_call(self):
        """Test detecting nested function calls."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 131: [long-function] Function may be too long (consider breaking down)
    Code: def test_parameter_type_enum(self):
        """Test ParameterType enum values."""
        assert has
    ðŸ’¡ Break down into smaller, focused functions

  Line 141: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_complexity_level_low(self):
        """Test getting complexity level for low score."""

    ðŸ’¡ Break down into smaller, focused functions

  Line 146: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_complexity_level_medium(self):
        """Test getting complexity level for medium scor
    ðŸ’¡ Break down into smaller, focused functions

  Line 151: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_complexity_level_high(self):
        """Test getting complexity level for high score.""
    ðŸ’¡ Break down into smaller, focused functions

  Line 156: [long-function] Function may be too long (consider breaking down)
    Code: def test_complexity_boundaries(self):
        """Test complexity level boundaries."""
        assert
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_deduplication_detection.py
--------------------------------------------------------------------------------
  Line 36: [long-function] Function may be too long (consider breaking down)
    Code: def test_calculate_similarity(self):
        """Test similarity calculation between code snippets.""
    ðŸ’¡ Break down into smaller, focused functions

  Line 56: [long-function] Function may be too long (consider breaking down)
    Code: def test_normalize_code(self):
        """Test code normalization."""
        code = """
def hello()
    ðŸ’¡ Break down into smaller, focused functions

  Line 67: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_refactoring_suggestions(self):
        """Test generation of refactoring suggestio
    ðŸ’¡ Break down into smaller, focused functions

  Line 89: [long-function] Function may be too long (consider breaking down)
    Code: def test_build_diff_tree(self):
        """Test building a diff tree from two code snippets."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 98: [long-function] Function may be too long (consider breaking down)
    Code: def test_build_nested_diff_tree(self):
        """Test building nested diff tree."""
        code1 =
    ðŸ’¡ Break down into smaller, focused functions

  Line 113: [long-function] Function may be too long (consider breaking down)
    Code: def test_format_alignment_diff(self):
        """Test formatting alignment diff."""
        diff_dat
    ðŸ’¡ Break down into smaller, focused functions

  Line 129: [long-function] Function may be too long (consider breaking down)
    Code: def test_diff_preview_to_dict(self):
        """Test converting diff preview to dictionary."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 143: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_file_diff(self):
        """Test generating diff for a single file."""
        old
    ðŸ’¡ Break down into smaller, focused functions

  Line 152: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_multi_file_diff(self):
        """Test generating diff for multiple files."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 173: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_diff_from_file_paths(self, mock_open, mock_exists):
        """Test generating dif
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_deduplication_key_names.py
--------------------------------------------------------------------------------
  Line 29: [long-function] Function may be too long (consider breaking down)
    Code: def temp_project_dir(self):
        """Create temporary project directory for testing."""
        wi
    ðŸ’¡ Break down into smaller, focused functions

  Line 66: [long-function] Function may be too long (consider breaking down)
    Code: def orchestrator_with_mock_detector(self, mock_detector_output):
        """Create orchestrator with
    ðŸ’¡ Break down into smaller, focused functions

  Line 92: [long-function] Function may be too long (consider breaking down)
    Code: def test_orchestrator_passes_duplication_groups_to_ranker(
        self, temp_project_dir, orchestra
    ðŸ’¡ Break down into smaller, focused functions

  Line 113: [long-function] Function may be too long (consider breaking down)
    Code: def test_orchestrator_output_has_correct_keys(
        self, temp_project_dir, orchestrator_with_moc
    ðŸ’¡ Break down into smaller, focused functions

  Line 134: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_output_uses_duplication_groups_not_duplicates(self):
        """Regression: Detect
    ðŸ’¡ Break down into smaller, focused functions

  Line 163: [long-function] Function may be too long (consider breaking down)
    Code: def temp_project_dir(self):
        """Create temporary project directory for testing."""
        wi
    ðŸ’¡ Break down into smaller, focused functions

  Line 172: [long-function] Function may be too long (consider breaking down)
    Code: def test_tool_handles_orchestrator_output_keys(self, temp_project_dir):
        """Regression: Tool 
    ðŸ’¡ Break down into smaller, focused functions

  Line 188: [long-function] Function may be too long (consider breaking down)
    Code: def test_tool_logs_with_correct_keys(self, temp_project_dir):
        """Regression: Tool logging us
    ðŸ’¡ Break down into smaller, focused functions

  Line 209: [long-function] Function may be too long (consider breaking down)
    Code: def test_recommendation_as_dict(self):
        """Regression: Script should handle recommendation as
    ðŸ’¡ Break down into smaller, focused functions

  Line 222: [long-function] Function may be too long (consider breaking down)
    Code: def test_recommendation_as_string(self):
        """Script should still handle recommendation as str
    ðŸ’¡ Break down into smaller, focused functions

  Line 233: [long-function] Function may be too long (consider breaking down)
    Code: def test_recommendation_dict_without_text_key(self):
        """Script should fallback to str(dict) 
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_documentation.py
--------------------------------------------------------------------------------
  Line 22: [long-function] Function may be too long (consider breaking down)
    Code: def test_parameter_info_creation(self):
        """Test ParameterInfo model creation."""
        par
    ðŸ’¡ Break down into smaller, focused functions

  Line 33: [long-function] Function may be too long (consider breaking down)
    Code: def test_function_signature_creation(self):
        """Test FunctionSignature model creation."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 55: [long-function] Function may be too long (consider breaking down)
    Code: def test_generated_docstring_creation(self):
        """Test GeneratedDocstring model creation."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 68: [long-function] Function may be too long (consider breaking down)
    Code: def test_api_route_creation(self):
        """Test ApiRoute model creation."""
        route = ApiRo
    ðŸ’¡ Break down into smaller, focused functions

  Line 87: [long-function] Function may be too long (consider breaking down)
    Code: def test_changelog_entry_creation(self):
        """Test ChangelogEntry model creation."""
        e
    ðŸ’¡ Break down into smaller, focused functions

  Line 99: [long-function] Function may be too long (consider breaking down)
    Code: def test_changelog_version_creation(self):
        """Test ChangelogVersion model creation."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 121: [long-function] Function may be too long (consider breaking down)
    Code: def test_infer_description_from_name(self):
        """Test description inference from function name
    ðŸ’¡ Break down into smaller, focused functions

  Line 137: [long-function] Function may be too long (consider breaking down)
    Code: def test_infer_parameter_description(self):
        """Test parameter description inference."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 155: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_google_docstring(self):
        """Test Google-style docstring generation."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 184: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_numpy_docstring(self):
        """Test NumPy-style docstring generation."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 212: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_sphinx_docstring(self):
        """Test Sphinx-style docstring generation."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 240: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_jsdoc(self):
        """Test JSDoc generation for JavaScript/TypeScript."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 268: [long-function] Function may be too long (consider breaking down)
    Code: def test_function_signature_parser_python(self, tmp_path):
        """Test Python function parsing."
    ðŸ’¡ Break down into smaller, focused functions

  Line 315: [long-function] Function may be too long (consider breaking down)
    Code: def test_detect_package_manager(self, tmp_path):
        """Test package manager detection."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 334: [long-function] Function may be too long (consider breaking down)
    Code: def test_detect_language(self, tmp_path):
        """Test primary language detection."""
        fro
    ðŸ’¡ Break down into smaller, focused functions

  Line 352: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_installation_section(self):
        """Test installation section generation."""
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 372: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_usage_section(self):
        """Test usage section generation."""
        from ast
    ðŸ’¡ Break down into smaller, focused functions

  Line 396: [long-function] Function may be too long (consider breaking down)
    Code: def test_express_route_parser(self, tmp_path):
        """Test Express.js route parsing."""
        
    ðŸ’¡ Break down into smaller, focused functions

  Line 426: [long-function] Function may be too long (consider breaking down)
    Code: def test_fastapi_route_parser(self, tmp_path):
        """Test FastAPI route parsing."""
        fro
    ðŸ’¡ Break down into smaller, focused functions

  Line 463: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_markdown_docs(self):
        """Test Markdown API documentation generation."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 499: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_openapi_spec(self):
        """Test OpenAPI specification generation."""
        f
    ðŸ’¡ Break down into smaller, focused functions

  Line 529: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_conventional_commit(self):
        """Test conventional commit parsing."""
        fr
    ðŸ’¡ Break down into smaller, focused functions

  Line 565: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_docstring_params_google(self):
        """Test extracting params from Google-style 
    ðŸ’¡ Break down into smaller, focused functions

  Line 587: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_docstring_params_sphinx(self):
        """Test extracting params from Sphinx-style 
    ðŸ’¡ Break down into smaller, focused functions

  Line 604: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_docstring_params_jsdoc(self):
        """Test extracting params from JSDoc comments
    ðŸ’¡ Break down into smaller, focused functions

  Line 621: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_docstring_return(self):
        """Test return documentation detection."""
        
    ðŸ’¡ Break down into smaller, focused functions

  Line 639: [long-function] Function may be too long (consider breaking down)
    Code: def test_check_docstring_sync_missing(self):
        """Test sync check for missing docstrings."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 662: [long-function] Function may be too long (consider breaking down)
    Code: def test_check_docstring_sync_stale_param(self):
        """Test sync check for stale documented par
    ðŸ’¡ Break down into smaller, focused functions

  Line 694: [long-function] Function may be too long (consider breaking down)
    Code: def test_check_markdown_links(self, tmp_path):
        """Test broken link detection in markdown fil
    ðŸ’¡ Break down into smaller, focused functions

  Line 722: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_docstrings_impl(self, tmp_path):
        """Test docstring generation implementati
    ðŸ’¡ Break down into smaller, focused functions

  Line 749: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_readme_sections_impl(self, tmp_path):
        """Test README section generation im
    ðŸ’¡ Break down into smaller, focused functions

  Line 767: [long-function] Function may be too long (consider breaking down)
    Code: def test_sync_documentation_impl(self, tmp_path):
        """Test documentation sync checking implem
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_enhanced_reporting.py
--------------------------------------------------------------------------------
  Line 26: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_diff(self):
        """Test with empty diff string."""
        result = format_diff_w
    ðŸ’¡ Break down into smaller, focused functions

  Line 31: [long-function] Function may be too long (consider breaking down)
    Code: def test_colors_additions(self):
        """Test that additions are colored green."""
        diff =
    ðŸ’¡ Break down into smaller, focused functions

  Line 39: [long-function] Function may be too long (consider breaking down)
    Code: def test_colors_deletions(self):
        """Test that deletions are colored red."""
        diff = "
    ðŸ’¡ Break down into smaller, focused functions

  Line 47: [long-function] Function may be too long (consider breaking down)
    Code: def test_colors_hunk_headers(self):
        """Test that hunk headers are colored cyan."""
        d
    ðŸ’¡ Break down into smaller, focused functions

  Line 54: [long-function] Function may be too long (consider breaking down)
    Code: def test_colors_file_headers(self):
        """Test that file headers are colored yellow."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 62: [long-function] Function may be too long (consider breaking down)
    Code: def test_context_lines_uncolored(self):
        """Test that context lines remain uncolored."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 69: [long-function] Function may be too long (consider breaking down)
    Code: def test_full_diff(self):
        """Test complete diff with all line types."""
        diff = """--
    ðŸ’¡ Break down into smaller, focused functions

  Line 90: [long-function] Function may be too long (consider breaking down)
    Code: def test_basic_example(self):
        """Test basic before/after generation."""
        original = "
    ðŸ’¡ Break down into smaller, focused functions

  Line 104: [long-function] Function may be too long (consider breaking down)
    Code: def test_line_numbers_in_before(self):
        """Test that before section includes line numbers."""
    ðŸ’¡ Break down into smaller, focused functions

  Line 114: [long-function] Function may be too long (consider breaking down)
    Code: def test_line_numbers_in_after(self):
        """Test that after section includes line numbers."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 124: [long-function] Function may be too long (consider breaking down)
    Code: def test_raw_content_preserved(self):
        """Test that raw content is preserved without line num
    ðŸ’¡ Break down into smaller, focused functions

  Line 134: [long-function] Function may be too long (consider breaking down)
    Code: def test_function_definition_generated(self):
        """Test that function definition is generated.
    ðŸ’¡ Break down into smaller, focused functions

  Line 139: [long-function] Function may be too long (consider breaking down)
    Code: def test_no_lines_saved(self):
        """Test when replacement is same length or longer."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 149: [long-function] Function may be too long (consider breaking down)
    Code: def test_explanation_content(self):
        """Test explanation includes relevant details."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 160: [long-function] Function may be too long (consider breaking down)
    Code: def test_whitespace_handling(self):
        """Test that whitespace is stripped properly."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 174: [long-function] Function may be too long (consider breaking down)
    Code: def test_low_complexity(self):
        """Test low complexity score (1-3)."""
        for score in [
    ðŸ’¡ Break down into smaller, focused functions

  Line 182: [long-function] Function may be too long (consider breaking down)
    Code: def test_medium_complexity(self):
        """Test medium complexity score (4-6)."""
        for scor
    ðŸ’¡ Break down into smaller, focused functions

  Line 189: [long-function] Function may be too long (consider breaking down)
    Code: def test_high_complexity(self):
        """Test high complexity score (7-10)."""
        for score i
    ðŸ’¡ Break down into smaller, focused functions

  Line 197: [long-function] Function may be too long (consider breaking down)
    Code: def test_bar_visualization(self):
        """Test ASCII bar visualization."""
        result = visua
    ðŸ’¡ Break down into smaller, focused functions

  Line 204: [long-function] Function may be too long (consider breaking down)
    Code: def test_bar_colored_version(self):
        """Test colored bar includes ANSI codes."""
        resu
    ðŸ’¡ Break down into smaller, focused functions

  Line 210: [long-function] Function may be too long (consider breaking down)
    Code: def test_formatted_output(self):
        """Test formatted string output."""
        result = visual
    ðŸ’¡ Break down into smaller, focused functions

  Line 216: [long-function] Function may be too long (consider breaking down)
    Code: def test_score_clamping_low(self):
        """Test that scores below 1 are clamped."""
        resul
    ðŸ’¡ Break down into smaller, focused functions

  Line 224: [long-function] Function may be too long (consider breaking down)
    Code: def test_score_clamping_high(self):
        """Test that scores above 10 are clamped."""
        res
    ðŸ’¡ Break down into smaller, focused functions

  Line 232: [long-function] Function may be too long (consider breaking down)
    Code: def test_recommendations_are_actionable(self):
        """Test that recommendations contain actionab
    ðŸ’¡ Break down into smaller, focused functions

  Line 244: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_candidates(self):
        """Test with empty candidate list."""
        result = crea
    ðŸ’¡ Break down into smaller, focused functions

  Line 252: [long-function] Function may be too long (consider breaking down)
    Code: def test_single_candidate(self):
        """Test with single duplication candidate."""
        candi
    ðŸ’¡ Break down into smaller, focused functions

  Line 271: [long-function] Function may be too long (consider breaking down)
    Code: def test_multiple_candidates_sorted_by_priority(self):
        """Test that candidates are sorted by
    ðŸ’¡ Break down into smaller, focused functions

  Line 294: [long-function] Function may be too long (consider breaking down)
    Code: def test_summary_statistics(self):
        """Test summary statistics are calculated correctly."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 318: [long-function] Function may be too long (consider breaking down)
    Code: def test_global_recommendations_generated(self):
        """Test that global recommendations are gen
    ðŸ’¡ Break down into smaller, focused functions

  Line 336: [long-function] Function may be too long (consider breaking down)
    Code: def test_include_diffs_option(self):
        """Test include_diffs parameter."""
        candidates 
    ðŸ’¡ Break down into smaller, focused functions

  Line 353: [long-function] Function may be too long (consider breaking down)
    Code: def test_include_colors_option(self):
        """Test include_colors parameter."""
        candidate
    ðŸ’¡ Break down into smaller, focused functions

  Line 371: [long-function] Function may be too long (consider breaking down)
    Code: def test_metadata_fields(self):
        """Test metadata contains required fields."""
        result
    ðŸ’¡ Break down into smaller, focused functions

  Line 380: [long-function] Function may be too long (consider breaking down)
    Code: def test_before_after_included(self):
        """Test before/after examples are included for each ca
    ðŸ’¡ Break down into smaller, focused functions

  Line 398: [long-function] Function may be too long (consider breaking down)
    Code: def test_complexity_viz_included(self):
        """Test complexity visualization is included."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 414: [long-function] Function may be too long (consider breaking down)
    Code: def test_default_values_for_missing_fields(self):
        """Test that missing fields get default va
    ðŸ’¡ Break down into smaller, focused functions

  Line 430: [long-function] Function may be too long (consider breaking down)
    Code: def test_priority_calculation(self):
        """Test priority calculation formula."""
        candid
    ðŸ’¡ Break down into smaller, focused functions

  Line 444: [long-function] Function may be too long (consider breaking down)
    Code: def test_total_lines_saveable(self):
        """Test total lines saveable calculation."""
        ca
    ðŸ’¡ Break down into smaller, focused functions

  Line 464: [long-function] Function may be too long (consider breaking down)
    Code: def test_full_workflow(self):
        """Test complete enhanced reporting workflow."""
        # Sim
    ðŸ’¡ Break down into smaller, focused functions

  Line 518: [long-function] Function may be too long (consider breaking down)
    Code: def test_colored_output(self):
        """Test that colored output is properly formatted."""
       
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_extract_function.py
--------------------------------------------------------------------------------
  Line 14: [long-function] Function may be too long (consider breaking down)
    Code: def test_analyze_python_simple_selection(self, tmp_path):
        """Test analyzing a simple Python 
    ðŸ’¡ Break down into smaller, focused functions

  Line 52: [long-function] Function may be too long (consider breaking down)
    Code: def test_detect_indentation(self):
        """Test indentation detection."""
        analyzer = Code
    ðŸ’¡ Break down into smaller, focused functions

  Line 66: [long-function] Function may be too long (consider breaking down)
    Code: def test_has_early_returns_python(self):
        """Test detection of early returns in Python."""
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 76: [long-function] Function may be too long (consider breaking down)
    Code: def test_has_exception_handling_python(self):
        """Test detection of exception handling in Pyt
    ðŸ’¡ Break down into smaller, focused functions

  Line 93: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_function_name(self):
        """Test automatic function name generation."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 115: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_signature_python(self):
        """Test Python function signature generation."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 138: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_return_statement_python(self):
        """Test return statement generation for Pyt
    ðŸ’¡ Break down into smaller, focused functions

  Line 154: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_call_site_python(self):
        """Test call site generation for Python."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 192: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_function_dry_run(self, tmp_path):
        """Test extract function in dry-run mode.
    ðŸ’¡ Break down into smaller, focused functions

  Line 231: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_function_with_no_returns(self, tmp_path):
        """Test extracting function that 
    ðŸ’¡ Break down into smaller, focused functions

  Line 255: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_function_apply(self, tmp_path):
        """Test applying function extraction (not d
    ðŸ’¡ Break down into smaller, focused functions

  Line 290: [long-function] Function may be too long (consider breaking down)
    Code: def test_analyze_javascript_variables(self, tmp_path):
        """Test analyzing JavaScript variable
    ðŸ’¡ Break down into smaller, focused functions

  Line 322: [long-function] Function may be too long (consider breaking down)
    Code: def sample_python_code():
    """Sample Python code for testing."""
    return """
def calculate_dis
    ðŸ’¡ Break down into smaller, focused functions

  Line 340: [long-function] Function may be too long (consider breaking down)
    Code: def sample_typescript_code():
    """Sample TypeScript code for testing."""
    return """
function 
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_hybrid_similarity.py
--------------------------------------------------------------------------------
  Line 23: [long-function] Function may be too long (consider breaking down)
    Code: def test_default_config(self):
        """Default config should have sensible values from HybridSimi
    ðŸ’¡ Break down into smaller, focused functions

  Line 32: [long-function] Function may be too long (consider breaking down)
    Code: def test_custom_config(self):
        """Custom config should override defaults."""
        config =
    ðŸ’¡ Break down into smaller, focused functions

  Line 43: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_threshold_raises_error(self):
        """Invalid threshold should raise ValueError.
    ðŸ’¡ Break down into smaller, focused functions

  Line 51: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_weight_raises_error(self):
        """Invalid weight should raise ValueError."""
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 56: [long-function] Function may be too long (consider breaking down)
    Code: def test_weights_must_sum_to_one(self):
        """Weights must sum to 1.0."""
        with pytest.r
    ðŸ’¡ Break down into smaller, focused functions

  Line 65: [long-function] Function may be too long (consider breaking down)
    Code: def test_result_creation(self):
        """Should create result with expected values."""
        res
    ðŸ’¡ Break down into smaller, focused functions

  Line 86: [long-function] Function may be too long (consider breaking down)
    Code: def test_result_to_dict(self):
        """Should convert to dictionary correctly."""
        result 
    ðŸ’¡ Break down into smaller, focused functions

  Line 102: [long-function] Function may be too long (consider breaking down)
    Code: def test_result_to_dict_with_none_ast(self):
        """Should handle None ast_similarity in to_dict
    ðŸ’¡ Break down into smaller, focused functions

  Line 120: [long-function] Function may be too long (consider breaking down)
    Code: def test_identical_code_high_similarity(self):
        """Identical code should have similarity clos
    ðŸ’¡ Break down into smaller, focused functions

  Line 138: [long-function] Function may be too long (consider breaking down)
    Code: def test_similar_code_hybrid_verification(self):
        """Similar code should pass Stage 1 and be 
    ðŸ’¡ Break down into smaller, focused functions

  Line 165: [long-function] Function may be too long (consider breaking down)
    Code: def test_different_code_early_exit(self):
        """Very different code should exit early at Stage 
    ðŸ’¡ Break down into smaller, focused functions

  Line 192: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_code_returns_zero(self):
        """Empty code should return 0.0 similarity."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 206: [long-function] Function may be too long (consider breaking down)
    Code: def test_estimate_similarity_convenience_method(self):
        """estimate_similarity should return 
    ðŸ’¡ Break down into smaller, focused functions

  Line 216: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_clearing(self):
        """Cache should be clearable."""
        code = "def example(
    ðŸ’¡ Break down into smaller, focused functions

  Line 235: [long-function] Function may be too long (consider breaking down)
    Code: def test_stage1_minhash_threshold(self):
        """Stage 1 should use configurable MinHash threshol
    ðŸ’¡ Break down into smaller, focused functions

  Line 262: [long-function] Function may be too long (consider breaking down)
    Code: def test_stage2_ast_normalization(self):
        """Stage 2 should normalize code for structural com
    ðŸ’¡ Break down into smaller, focused functions

  Line 289: [long-function] Function may be too long (consider breaking down)
    Code: def test_weighted_combination(self):
        """Final score should combine MinHash and AST with conf
    ðŸ’¡ Break down into smaller, focused functions

  Line 322: [long-function] Function may be too long (consider breaking down)
    Code: def test_normalize_removes_comments(self):
        """Normalization should remove Python comments.""
    ðŸ’¡ Break down into smaller, focused functions

  Line 337: [long-function] Function may be too long (consider breaking down)
    Code: def test_normalize_removes_js_comments(self):
        """Normalization should remove JS/TS comments.
    ðŸ’¡ Break down into smaller, focused functions

  Line 353: [long-function] Function may be too long (consider breaking down)
    Code: def test_normalize_standardizes_indentation(self):
        """Normalization should standardize inden
    ðŸ’¡ Break down into smaller, focused functions

  Line 369: [long-function] Function may be too long (consider breaking down)
    Code: def test_normalize_skips_empty_lines(self):
        """Normalization should skip empty lines."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 390: [long-function] Function may be too long (consider breaking down)
    Code: def test_large_code_uses_simplified_comparison(self):
        """Large code should use simplified st
    ðŸ’¡ Break down into smaller, focused functions

  Line 403: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_structural_patterns(self):
        """Should extract structural patterns from code.
    ðŸ’¡ Break down into smaller, focused functions

  Line 425: [long-function] Function may be too long (consider breaking down)
    Code: def test_token_count_reported(self):
        """Token count should be reported in results."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 433: [long-function] Function may be too long (consider breaking down)
    Code: def test_minhash_similarity_always_present(self):
        """MinHash similarity should always be pre
    ðŸ’¡ Break down into smaller, focused functions

  Line 447: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_uses_hybrid_by_default(self):
        """Detector should use hybrid mode by defaul
    ðŸ’¡ Break down into smaller, focused functions

  Line 454: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_hybrid_similarity(self):
        """Detector should calculate hybrid similarity co
    ðŸ’¡ Break down into smaller, focused functions

  Line 467: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_detailed_similarity(self):
        """Detector should provide detailed hybrid resu
    ðŸ’¡ Break down into smaller, focused functions

  Line 480: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_minhash_mode(self):
        """Detector should support pure MinHash mode."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 493: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_sequence_matcher_mode(self):
        """Detector should support SequenceMatcher mo
    ðŸ’¡ Break down into smaller, focused functions

  Line 506: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_legacy_use_minhash_false(self):
        """Legacy use_minhash=False should set seq
    ðŸ’¡ Break down into smaller, focused functions

  Line 518: [long-function] Function may be too long (consider breaking down)
    Code: def test_early_exit_faster_than_full_pipeline(self):
        """Early exit should be faster than ful
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_minhash_similarity.py
--------------------------------------------------------------------------------
  Line 18: [long-function] Function may be too long (consider breaking down)
    Code: def test_identical_code_high_similarity(self):
        """Identical code should have similarity clos
    ðŸ’¡ Break down into smaller, focused functions

  Line 31: [long-function] Function may be too long (consider breaking down)
    Code: def test_similar_code_moderate_similarity(self):
        """Similar code with minor changes should h
    ðŸ’¡ Break down into smaller, focused functions

  Line 57: [long-function] Function may be too long (consider breaking down)
    Code: def test_different_code_low_similarity(self):
        """Different code should have low similarity."
    ðŸ’¡ Break down into smaller, focused functions

  Line 77: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_code_returns_zero(self):
        """Empty code should return 0.0 similarity."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 84: [long-function] Function may be too long (consider breaking down)
    Code: def test_minhash_signature_caching(self):
        """MinHash signatures should be cached for perform
    ðŸ’¡ Break down into smaller, focused functions

  Line 98: [long-function] Function may be too long (consider breaking down)
    Code: def test_clear_cache(self):
        """Cache should be clearable."""
        code = "def example(): 
    ðŸ’¡ Break down into smaller, focused functions

  Line 119: [long-function] Function may be too long (consider breaking down)
    Code: def test_build_lsh_index(self):
        """LSH index should be buildable from code items."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 132: [long-function] Function may be too long (consider breaking down)
    Code: def test_query_similar(self):
        """LSH should return similar candidates."""
        code_items
    ðŸ’¡ Break down into smaller, focused functions

  Line 149: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_all_similar_pairs(self):
        """Should find all pairs of similar code snippets.

 
    ðŸ’¡ Break down into smaller, focused functions

  Line 193: [long-function] Function may be too long (consider breaking down)
    Code: def test_default_config(self):
        """Default config should have sensible values."""
        con
    ðŸ’¡ Break down into smaller, focused functions

  Line 201: [long-function] Function may be too long (consider breaking down)
    Code: def test_custom_config(self):
        """Custom config should override defaults."""
        config =
    ðŸ’¡ Break down into smaller, focused functions

  Line 216: [long-function] Function may be too long (consider breaking down)
    Code: def test_result_creation(self):
        """Should create result with expected values."""
        res
    ðŸ’¡ Break down into smaller, focused functions

  Line 232: [long-function] Function may be too long (consider breaking down)
    Code: def test_similar_structure_same_hash(self):
        """Similar code structures with same call patter
    ðŸ’¡ Break down into smaller, focused functions

  Line 258: [long-function] Function may be too long (consider breaking down)
    Code: def test_different_call_patterns_different_hash(self):
        """Code with different API calls shou
    ðŸ’¡ Break down into smaller, focused functions

  Line 281: [long-function] Function may be too long (consider breaking down)
    Code: def test_different_structure_different_hash(self):
        """Different code structures should have 
    ðŸ’¡ Break down into smaller, focused functions

  Line 303: [long-function] Function may be too long (consider breaking down)
    Code: def test_create_buckets(self):
        """Should create buckets with proper distribution."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 326: [long-function] Function may be too long (consider breaking down)
    Code: def test_control_flow_detection(self):
        """Should detect control flow keywords."""
        co
    ðŸ’¡ Break down into smaller, focused functions

  Line 351: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_node_sequence_basic(self):
        """Should extract correct node sequence from sim
    ðŸ’¡ Break down into smaller, focused functions

  Line 369: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_node_sequence_order_preserved(self):
        """Node sequence should preserve order
    ðŸ’¡ Break down into smaller, focused functions

  Line 390: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_node_sequence_ignores_comments(self):
        """Should ignore comments when extrac
    ðŸ’¡ Break down into smaller, focused functions

  Line 405: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_node_sequence_class_and_methods(self):
        """Should extract class and method d
    ðŸ’¡ Break down into smaller, focused functions

  Line 426: [long-function] Function may be too long (consider breaking down)
    Code: def test_complexity_simple_function(self):
        """Simple function should have low complexity."""
    ðŸ’¡ Break down into smaller, focused functions

  Line 434: [long-function] Function may be too long (consider breaking down)
    Code: def test_complexity_with_conditionals(self):
        """Conditionals should increase complexity."""

    ðŸ’¡ Break down into smaller, focused functions

  Line 442: [long-function] Function may be too long (consider breaking down)
    Code: def test_complexity_with_loops(self):
        """Loops should increase complexity."""
        hasher
    ðŸ’¡ Break down into smaller, focused functions

  Line 451: [long-function] Function may be too long (consider breaking down)
    Code: def test_complexity_with_exception_handling(self):
        """Exception handling should increase com
    ðŸ’¡ Break down into smaller, focused functions

  Line 464: [long-function] Function may be too long (consider breaking down)
    Code: def test_call_signature_basic(self):
        """Should extract function call signature."""
        c
    ðŸ’¡ Break down into smaller, focused functions

  Line 479: [long-function] Function may be too long (consider breaking down)
    Code: def test_call_signature_no_calls(self):
        """Code without calls should return '0000'."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 492: [long-function] Function may be too long (consider breaking down)
    Code: def test_call_signature_consistent(self):
        """Same calls should produce same signature."""
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 511: [long-function] Function may be too long (consider breaking down)
    Code: def test_call_signature_filters_keywords(self):
        """Should filter out keywords that look like
    ðŸ’¡ Break down into smaller, focused functions

  Line 530: [long-function] Function may be too long (consider breaking down)
    Code: def test_nesting_depth_flat(self):
        """Flat code should have low nesting depth."""
        co
    ðŸ’¡ Break down into smaller, focused functions

  Line 541: [long-function] Function may be too long (consider breaking down)
    Code: def test_nesting_depth_nested(self):
        """Nested code should have higher depth."""
        cod
    ðŸ’¡ Break down into smaller, focused functions

  Line 559: [long-function] Function may be too long (consider breaking down)
    Code: def test_logarithmic_bucket_small(self):
        """Small code should be in low buckets."""
        
    ðŸ’¡ Break down into smaller, focused functions

  Line 567: [long-function] Function may be too long (consider breaking down)
    Code: def test_logarithmic_bucket_medium(self):
        """Medium code should be in middle buckets."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 575: [long-function] Function may be too long (consider breaking down)
    Code: def test_logarithmic_bucket_large(self):
        """Large code should be in high buckets."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 582: [long-function] Function may be too long (consider breaking down)
    Code: def test_logarithmic_bucket_max(self):
        """Very large code should cap at bucket 9."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 593: [long-function] Function may be too long (consider breaking down)
    Code: def test_bucket_distribution_diverse_code(self):
        """Diverse code should distribute across mu
    ðŸ’¡ Break down into smaller, focused functions

  Line 652: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_uses_minhash_by_default(self):
        """Detector should use MinHash by default."
    ðŸ’¡ Break down into smaller, focused functions

  Line 659: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_can_use_sequence_matcher(self):
        """Detector should support fallback to Seq
    ðŸ’¡ Break down into smaller, focused functions

  Line 666: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_similarity_calculation(self):
        """Detector should calculate similarity corr
    ðŸ’¡ Break down into smaller, focused functions

  Line 680: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_similarity_with_sequence_matcher(self):
        """Detector should support Sequenc
    ðŸ’¡ Break down into smaller, focused functions

  Line 694: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_structure_hash(self):
        """Detector should use enhanced structure hash."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 720: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_identical_code_high_similarity(self):
        """Detector should return > 0.9 for 
    ðŸ’¡ Break down into smaller, focused functions

  Line 734: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_consistent_with_direct_minhash(self):
        """Detector should match direct MinH
    ðŸ’¡ Break down into smaller, focused functions

  Line 754: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_multiline_identical_code(self):
        """Detector should handle multiline identi
    ðŸ’¡ Break down into smaller, focused functions

  Line 774: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_different_code_low_similarity(self):
        """Detector should return low similar
    ðŸ’¡ Break down into smaller, focused functions

  Line 797: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_empty_code_returns_zero(self):
        """Detector should return 0.0 for empty cod
    ðŸ’¡ Break down into smaller, focused functions

  Line 809: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_minhash_config_propagation(self):
        """Detector should properly propagate Mi
    ðŸ’¡ Break down into smaller, focused functions

  Line 829: [long-function] Function may be too long (consider breaking down)
    Code: def test_minhash_scales_linearly(self):
        """MinHash should maintain O(n) complexity."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 865: [long-function] Function may be too long (consider breaking down)
    Code: def test_small_code_fallback_accuracy(self):
        """Test SequenceMatcher fallback provides accur
    ðŸ’¡ Break down into smaller, focused functions

  Line 877: [long-function] Function may be too long (consider breaking down)
    Code: def test_large_code_uses_minhash(self):
        """Test MinHash is used for large code (>= 15 tokens
    ðŸ’¡ Break down into smaller, focused functions

  Line 896: [long-function] Function may be too long (consider breaking down)
    Code: def test_small_code_different_gets_low_similarity(self):
        """Test that different small code g
    ðŸ’¡ Break down into smaller, focused functions

  Line 907: [long-function] Function may be too long (consider breaking down)
    Code: def test_fallback_can_be_disabled(self):
        """Test that small code fallback can be disabled vi
    ðŸ’¡ Break down into smaller, focused functions

  Line 921: [long-function] Function may be too long (consider breaking down)
    Code: def test_small_code_threshold_configurable(self):
        """Test that small_code_threshold can be c
    ðŸ’¡ Break down into smaller, focused functions

  Line 933: [long-function] Function may be too long (consider breaking down)
    Code: def test_small_code_near_threshold_boundary(self):
        """Test behavior at the threshold boundar
    ðŸ’¡ Break down into smaller, focused functions

  Line 951: [long-function] Function may be too long (consider breaking down)
    Code: def test_small_code_with_minor_changes(self):
        """Test that small code with minor changes get
    ðŸ’¡ Break down into smaller, focused functions

  Line 963: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_code_still_returns_zero(self):
        """Test that empty code returns 0.0 regardless
    ðŸ’¡ Break down into smaller, focused functions

  Line 977: [long-function] Function may be too long (consider breaking down)
    Code: def test_fallback_performance(self):
        """Test performance characteristics of small vs large c
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_orchestrator_optimizations.py
--------------------------------------------------------------------------------
  Line 22: [long-function] Function may be too long (consider breaking down)
    Code: def test_components_not_initialized_on_construction(self):
        """Test that components are not i
    ðŸ’¡ Break down into smaller, focused functions

  Line 32: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_lazy_initialization(self):
        """Test that detector is created on first acces
    ðŸ’¡ Break down into smaller, focused functions

  Line 45: [long-function] Function may be too long (consider breaking down)
    Code: def test_ranker_lazy_initialization(self):
        """Test that ranker is created on first access.""
    ðŸ’¡ Break down into smaller, focused functions

  Line 58: [long-function] Function may be too long (consider breaking down)
    Code: def test_coverage_detector_lazy_initialization(self):
        """Test that coverage_detector is crea
    ðŸ’¡ Break down into smaller, focused functions

  Line 71: [long-function] Function may be too long (consider breaking down)
    Code: def test_recommendation_engine_lazy_initialization(self):
        """Test that recommendation_engine
    ðŸ’¡ Break down into smaller, focused functions

  Line 84: [long-function] Function may be too long (consider breaking down)
    Code: def test_property_setters_for_dependency_injection(self):
        """Test that properties can be set
    ðŸ’¡ Break down into smaller, focused functions

  Line 107: [long-function] Function may be too long (consider breaking down)
    Code: def test_initialization_performance_improvement(self):
        """Test that instantiation is faster 
    ðŸ’¡ Break down into smaller, focused functions

  Line 125: [long-function] Function may be too long (consider breaking down)
    Code: def temp_project_dir(self):
        """Create temporary project directory for testing."""
        wi
    ðŸ’¡ Break down into smaller, focused functions

  Line 130: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_project_path_not_exists(self):
        """Test validation fails for non-existent pr
    ðŸ’¡ Break down into smaller, focused functions

  Line 140: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_project_path_not_directory(self, temp_project_dir):
        """Test validation fail
    ðŸ’¡ Break down into smaller, focused functions

  Line 154: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_min_similarity_too_low(self, temp_project_dir):
        """Test validation fails fo
    ðŸ’¡ Break down into smaller, focused functions

  Line 165: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_min_similarity_too_high(self, temp_project_dir):
        """Test validation fails f
    ðŸ’¡ Break down into smaller, focused functions

  Line 176: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_min_lines_zero(self, temp_project_dir):
        """Test validation fails for min_li
    ðŸ’¡ Break down into smaller, focused functions

  Line 187: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_min_lines_negative(self, temp_project_dir):
        """Test validation fails for mi
    ðŸ’¡ Break down into smaller, focused functions

  Line 198: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_max_candidates_zero(self, temp_project_dir):
        """Test validation fails for m
    ðŸ’¡ Break down into smaller, focused functions

  Line 209: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_max_candidates_negative(self, temp_project_dir):
        """Test validation fails f
    ðŸ’¡ Break down into smaller, focused functions

  Line 220: [long-function] Function may be too long (consider breaking down)
    Code: def test_valid_inputs_pass_validation(self, temp_project_dir, monkeypatch):
        """Test that val
    ðŸ’¡ Break down into smaller, focused functions

  Line 242: [long-function] Function may be too long (consider breaking down)
    Code: def test_validation_error_messages_are_clear(self, temp_project_dir):
        """Test that validatio
    ðŸ’¡ Break down into smaller, focused functions

  Line 274: [long-function] Function may be too long (consider breaking down)
    Code: def test_result_structure_has_clear_naming(self, temp_project_dir):
        """Test that result stru
    ðŸ’¡ Break down into smaller, focused functions

  Line 304: [long-function] Function may be too long (consider breaking down)
    Code: def test_top_candidates_count_reflects_actual_count(self, temp_project_dir):
        """Test that to
    ðŸ’¡ Break down into smaller, focused functions

  Line 331: [long-function] Function may be too long (consider breaking down)
    Code: def test_savings_calculated_from_top_candidates_only(self, temp_project_dir):
        """Test that s
    ðŸ’¡ Break down into smaller, focused functions

  Line 358: [long-function] Function may be too long (consider breaking down)
    Code: def test_logging_uses_consistent_naming(self, temp_project_dir, capsys):
        """Test that loggin
    ðŸ’¡ Break down into smaller, focused functions

  Line 412: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_sequential_mode(self):
        """Test _parallel_enrich in sequential mode 
    ðŸ’¡ Break down into smaller, focused functions

  Line 424: [long-function] Function may be too long (consider breaking down)
    Code: def enrich_func(candidate, increment):
            candidate["value"] += increment
    ðŸ’¡ Break down into smaller, focused functions

  Line 442: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_parallel_mode(self):
        """Test _parallel_enrich in parallel mode (par
    ðŸ’¡ Break down into smaller, focused functions

  Line 454: [long-function] Function may be too long (consider breaking down)
    Code: def enrich_func(candidate, increment):
            candidate["value"] += increment
    ðŸ’¡ Break down into smaller, focused functions

  Line 473: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_single_candidate_uses_sequential(self):
        """Test that single candida
    ðŸ’¡ Break down into smaller, focused functions

  Line 481: [long-function] Function may be too long (consider breaking down)
    Code: def enrich_func(candidate):
            nonlocal call_count
            call_count += 1
            
    ðŸ’¡ Break down into smaller, focused functions

  Line 501: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_error_handling_sequential(self):
        """Test error handling in sequenti
    ðŸ’¡ Break down into smaller, focused functions

  Line 512: [long-function] Function may be too long (consider breaking down)
    Code: def enrich_func(candidate):
            if candidate["id"] == "c2":
                raise ValueError
    ðŸ’¡ Break down into smaller, focused functions

  Line 539: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_error_handling_parallel(self):
        """Test error handling in parallel m
    ðŸ’¡ Break down into smaller, focused functions

  Line 551: [long-function] Function may be too long (consider breaking down)
    Code: def enrich_func(candidate):
            if candidate["id"] in ["c2", "c4"]:
                raise Va
    ðŸ’¡ Break down into smaller, focused functions

  Line 584: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_default_error_value_dict(self):
        """Test that dict default_error_val
    ðŸ’¡ Break down into smaller, focused functions

  Line 590: [long-function] Function may be too long (consider breaking down)
    Code: def failing_func(candidate):
            raise ValueError("Test error")
    ðŸ’¡ Break down into smaller, focused functions

  Line 613: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_kwargs_passed_to_enrich_func(self):
        """Test that **kwargs are corre
    ðŸ’¡ Break down into smaller, focused functions

  Line 619: [long-function] Function may be too long (consider breaking down)
    Code: def enrich_func(candidate, arg1, arg2, arg3=None):
            candidate["arg1"] = arg1
            
    ðŸ’¡ Break down into smaller, focused functions

  Line 641: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_logging_success(self, capsys):
        """Test that _parallel_enrich logs s
    ðŸ’¡ Break down into smaller, focused functions

  Line 647: [long-function] Function may be too long (consider breaking down)
    Code: def enrich_func(candidate):
            candidate["enriched"] = True
    ðŸ’¡ Break down into smaller, focused functions

  Line 667: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_logging_failures(self, capsys):
        """Test that _parallel_enrich logs 
    ðŸ’¡ Break down into smaller, focused functions

  Line 673: [long-function] Function may be too long (consider breaking down)
    Code: def failing_func(candidate):
            if candidate["id"] == "c1":
                raise ValueErro
    ðŸ’¡ Break down into smaller, focused functions

  Line 694: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_returns_failed_candidates(self):
        """Test that _parallel_enrich retu
    ðŸ’¡ Break down into smaller, focused functions

  Line 704: [long-function] Function may be too long (consider breaking down)
    Code: def enrich_func(candidate):
            if candidate["value"] == 2:
                raise ValueError
    ðŸ’¡ Break down into smaller, focused functions

  Line 724: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_used_by_add_test_coverage(self):
        """Test that _add_test_coverage no
    ðŸ’¡ Break down into smaller, focused functions

  Line 749: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_used_by_add_recommendations(self):
        """Test that _add_recommendation
    ðŸ’¡ Break down into smaller, focused functions

  Line 770: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_max_workers_parameter(self):
        """Test that max_workers parameter is 
    ðŸ’¡ Break down into smaller, focused functions

  Line 775: [long-function] Function may be too long (consider breaking down)
    Code: def enrich_func(candidate):
            candidate["done"] = True
    ðŸ’¡ Break down into smaller, focused functions

  Line 796: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_timeout_parameter_accepted(self):
        """Test that timeout_per_candidat
    ðŸ’¡ Break down into smaller, focused functions

  Line 802: [long-function] Function may be too long (consider breaking down)
    Code: def enrich_func(candidate):
            time.sleep(0.1)  # Brief delay
            candidate["done"]
    ðŸ’¡ Break down into smaller, focused functions

  Line 821: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_timeout_uses_default(self):
        """Test that default timeout is used wh
    ðŸ’¡ Break down into smaller, focused functions

  Line 830: [long-function] Function may be too long (consider breaking down)
    Code: def enrich_func(candidate):
            time.sleep(0.05)  # Brief delay
            candidate["done"
    ðŸ’¡ Break down into smaller, focused functions

  Line 850: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_timeout_constant_exists(self):
        """Test that timeout constants are p
    ðŸ’¡ Break down into smaller, focused functions

  Line 860: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_timeout_parameter_is_passed_through(self):
        """Test that timeout par
    ðŸ’¡ Break down into smaller, focused functions

  Line 869: [long-function] Function may be too long (consider breaking down)
    Code: def enrich_func(candidate):
            candidate["done"] = True
    ðŸ’¡ Break down into smaller, focused functions

  Line 887: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_enrich_timeout_in_method_signatures(self):
        """Test that timeout parameters
    ðŸ’¡ Break down into smaller, focused functions

  Line 904: [long-function] Function may be too long (consider breaking down)
    Code: def test_add_recommendations_accepts_timeout(self):
        """Test that _add_recommendations accept
    ðŸ’¡ Break down into smaller, focused functions

  Line 920: [long-function] Function may be too long (consider breaking down)
    Code: def test_add_test_coverage_batch_accepts_timeout(self, temp_project_dir):
        """Test that _add_
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_progress_callbacks.py
--------------------------------------------------------------------------------
  Line 21: [long-function] Function may be too long (consider breaking down)
    Code: def temp_project_dir(self):
        """Create temporary project directory for testing."""
        wi
    ðŸ’¡ Break down into smaller, focused functions

  Line 27: [long-function] Function may be too long (consider breaking down)
    Code: def orchestrator_with_mocks(self):
        """Create orchestrator with mocked components."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 55: [long-function] Function may be too long (consider breaking down)
    Code: def test_progress_callback_is_called(self, temp_project_dir, orchestrator_with_mocks):
        """Te
    ðŸ’¡ Break down into smaller, focused functions

  Line 59: [long-function] Function may be too long (consider breaking down)
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Break down into smaller, focused functions

  Line 72: [long-function] Function may be too long (consider breaking down)
    Code: def test_progress_stages_in_order(self, temp_project_dir, orchestrator_with_mocks):
        """Test 
    ðŸ’¡ Break down into smaller, focused functions

  Line 76: [long-function] Function may be too long (consider breaking down)
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Break down into smaller, focused functions

  Line 94: [long-function] Function may be too long (consider breaking down)
    Code: def test_progress_percentages_increase(self, temp_project_dir, orchestrator_with_mocks):
        """
    ðŸ’¡ Break down into smaller, focused functions

  Line 98: [long-function] Function may be too long (consider breaking down)
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Break down into smaller, focused functions

  Line 116: [long-function] Function may be too long (consider breaking down)
    Code: def test_progress_starts_at_zero(self, temp_project_dir, orchestrator_with_mocks):
        """Test t
    ðŸ’¡ Break down into smaller, focused functions

  Line 120: [long-function] Function may be too long (consider breaking down)
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Break down into smaller, focused functions

  Line 133: [long-function] Function may be too long (consider breaking down)
    Code: def test_progress_ends_at_one(self, temp_project_dir, orchestrator_with_mocks):
        """Test that
    ðŸ’¡ Break down into smaller, focused functions

  Line 137: [long-function] Function may be too long (consider breaking down)
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Break down into smaller, focused functions

  Line 151: [long-function] Function may be too long (consider breaking down)
    Code: def test_no_callback_works_without_error(self, temp_project_dir, orchestrator_with_mocks):
        "
    ðŸ’¡ Break down into smaller, focused functions

  Line 164: [long-function] Function may be too long (consider breaking down)
    Code: def test_callback_with_test_coverage(self, temp_project_dir, orchestrator_with_mocks):
        """Te
    ðŸ’¡ Break down into smaller, focused functions

  Line 168: [long-function] Function may be too long (consider breaking down)
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Break down into smaller, focused functions

  Line 184: [long-function] Function may be too long (consider breaking down)
    Code: def test_callback_without_test_coverage(self, temp_project_dir, orchestrator_with_mocks):
        ""
    ðŸ’¡ Break down into smaller, focused functions

  Line 188: [long-function] Function may be too long (consider breaking down)
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Break down into smaller, focused functions

  Line 205: [long-function] Function may be too long (consider breaking down)
    Code: def test_all_key_stages_reported(self, temp_project_dir, orchestrator_with_mocks):
        """Test t
    ðŸ’¡ Break down into smaller, focused functions

  Line 209: [long-function] Function may be too long (consider breaking down)
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Break down into smaller, focused functions

  Line 233: [long-function] Function may be too long (consider breaking down)
    Code: def test_progress_callback_signature(self, temp_project_dir):
        """Test that ProgressCallback 
    ðŸ’¡ Break down into smaller, focused functions

  Line 240: [long-function] Function may be too long (consider breaking down)
    Code: def test_callback_receives_valid_percentages(self, temp_project_dir, orchestrator_with_mocks):
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 244: [long-function] Function may be too long (consider breaking down)
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Break down into smaller, focused functions

  Line 259: [long-function] Function may be too long (consider breaking down)
    Code: def test_callback_exception_does_not_crash_analysis(self, temp_project_dir, orchestrator_with_mocks)
    ðŸ’¡ Break down into smaller, focused functions

  Line 261: [long-function] Function may be too long (consider breaking down)
    Code: def failing_callback(stage: str, percent: float):
            raise RuntimeError("Callback failed!")
    ðŸ’¡ Break down into smaller, focused functions

  Line 275: [long-function] Function may be too long (consider breaking down)
    Code: def test_progress_with_empty_results(self, temp_project_dir):
        """Test progress reporting whe
    ðŸ’¡ Break down into smaller, focused functions

  Line 280: [long-function] Function may be too long (consider breaking down)
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Break down into smaller, focused functions

  Line 300: [long-function] Function may be too long (consider breaking down)
    Code: def test_progress_callback_in_documentation(self, temp_project_dir, orchestrator_with_mocks):
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 305: [long-function] Function may be too long (consider breaking down)
    Code: def show_progress(stage: str, percent: float):
            progress_log.append(f"[{percent*100:.0f}%
    ðŸ’¡ Break down into smaller, focused functions

  Line 325: [long-function] Function may be too long (consider breaking down)
    Code: def temp_project_dir(self):
        """Create temporary project directory for testing."""
        wi
    ðŸ’¡ Break down into smaller, focused functions

  Line 330: [long-function] Function may be too long (consider breaking down)
    Code: def test_progress_percentage_distribution(self, temp_project_dir):
        """Test that progress per
    ðŸ’¡ Break down into smaller, focused functions

  Line 335: [long-function] Function may be too long (consider breaking down)
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_ranker.py
--------------------------------------------------------------------------------
  Line 18: [long-function] Function may be too long (consider breaking down)
    Code: def ranker(self):
        """Provide DuplicationRanker instance."""
        return DuplicationRanker
    ðŸ’¡ Break down into smaller, focused functions

  Line 23: [long-function] Function may be too long (consider breaking down)
    Code: def sample_candidates(self):
        """Provide sample candidates for testing."""
        return [
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 63: [long-function] Function may be too long (consider breaking down)
    Code: def test_rank_all_candidates(self, ranker, sample_candidates):
        """Test ranking all candidate
    ðŸ’¡ Break down into smaller, focused functions

  Line 84: [long-function] Function may be too long (consider breaking down)
    Code: def test_rank_with_max_results(self, ranker, sample_candidates):
        """Test early exit optimiza
    ðŸ’¡ Break down into smaller, focused functions

  Line 109: [long-function] Function may be too long (consider breaking down)
    Code: def test_max_results_greater_than_candidates(self, ranker, sample_candidates):
        """Test max_r
    ðŸ’¡ Break down into smaller, focused functions

  Line 124: [long-function] Function may be too long (consider breaking down)
    Code: def test_max_results_zero(self, ranker, sample_candidates):
        """Test max_results=0 returns al
    ðŸ’¡ Break down into smaller, focused functions

  Line 134: [long-function] Function may be too long (consider breaking down)
    Code: def test_max_results_one(self, ranker, sample_candidates):
        """Test max_results=1 returns onl
    ðŸ’¡ Break down into smaller, focused functions

  Line 149: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_candidates(self, ranker):
        """Test ranking with empty candidate list."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 156: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_candidates_with_max_results(self, ranker):
        """Test ranking with empty candida
    ðŸ’¡ Break down into smaller, focused functions

  Line 163: [long-function] Function may be too long (consider breaking down)
    Code: def test_include_analysis_true(self, ranker, sample_candidates):
        """Test with include_analys
    ðŸ’¡ Break down into smaller, focused functions

  Line 175: [long-function] Function may be too long (consider breaking down)
    Code: def test_include_analysis_false(self, ranker, sample_candidates):
        """Test with include_analy
    ðŸ’¡ Break down into smaller, focused functions

  Line 187: [long-function] Function may be too long (consider breaking down)
    Code: def test_max_results_negative(self, ranker, sample_candidates):
        """Test max_results with neg
    ðŸ’¡ Break down into smaller, focused functions

  Line 201: [long-function] Function may be too long (consider breaking down)
    Code: def test_early_exit_processes_fewer_rank_assignments(self):
        """Verify that early exit avoids
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_ranker_caching.py
--------------------------------------------------------------------------------
  Line 18: [long-function] Function may be too long (consider breaking down)
    Code: def ranker_with_cache(self):
        """Create ranker with caching enabled."""
        return Duplic
    ðŸ’¡ Break down into smaller, focused functions

  Line 23: [long-function] Function may be too long (consider breaking down)
    Code: def ranker_without_cache(self):
        """Create ranker with caching disabled."""
        return Du
    ðŸ’¡ Break down into smaller, focused functions

  Line 28: [long-function] Function may be too long (consider breaking down)
    Code: def sample_candidate(self):
        """Create a sample candidate for testing."""
        return {
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 41: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_initialization(self, ranker_with_cache, ranker_without_cache):
        """Test that c
    ðŸ’¡ Break down into smaller, focused functions

  Line 49: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_key_generation_deterministic(self, ranker_with_cache, sample_candidate):
        """T
    ðŸ’¡ Break down into smaller, focused functions

  Line 58: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_key_generation_different_for_different_candidates(self, ranker_with_cache, sample_can
    ðŸ’¡ Break down into smaller, focused functions

  Line 67: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_key_generation_ignores_order_of_files(self, ranker_with_cache):
        """Test that 
    ðŸ’¡ Break down into smaller, focused functions

  Line 85: [long-function] Function may be too long (consider breaking down)
    Code: def test_ranking_with_cache_enabled(self, ranker_with_cache, sample_candidate):
        """Test that
    ðŸ’¡ Break down into smaller, focused functions

  Line 96: [long-function] Function may be too long (consider breaking down)
    Code: def test_ranking_with_cache_disabled(self, ranker_without_cache, sample_candidate):
        """Test 
    ðŸ’¡ Break down into smaller, focused functions

  Line 107: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_hit_on_identical_candidate(self, ranker_with_cache, sample_candidate):
        """Tes
    ðŸ’¡ Break down into smaller, focused functions

  Line 121: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_miss_on_different_candidates(self, ranker_with_cache, sample_candidate):
        """T
    ðŸ’¡ Break down into smaller, focused functions

  Line 137: [long-function] Function may be too long (consider breaking down)
    Code: def test_clear_cache(self, ranker_with_cache, sample_candidate):
        """Test that clear_cache em
    ðŸ’¡ Break down into smaller, focused functions

  Line 149: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_cache_stats(self, ranker_with_cache, sample_candidate):
        """Test that get_cache_
    ðŸ’¡ Break down into smaller, focused functions

  Line 164: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_preserves_score_components(self, ranker_with_cache, sample_candidate):
        """Tes
    ðŸ’¡ Break down into smaller, focused functions

  Line 173: [long-function] Function may be too long (consider breaking down)
    Code: def test_repeated_ranking_uses_cache(self, ranker_with_cache, sample_candidate):
        """Test tha
    ðŸ’¡ Break down into smaller, focused functions

  Line 191: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_respects_max_results(self, ranker_with_cache, sample_candidate):
        """Test that
    ðŸ’¡ Break down into smaller, focused functions

  Line 201: [long-function] Function may be too long (consider breaking down)
    Code: def test_no_cache_when_disabled(self, ranker_without_cache, sample_candidate):
        """Test that 
    ðŸ’¡ Break down into smaller, focused functions

  Line 214: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_key_handles_none_values(self, ranker_with_cache):
        """Test that cache key gene
    ðŸ’¡ Break down into smaller, focused functions

  Line 233: [long-function] Function may be too long (consider breaking down)
    Code: def ranker(self):
        """Create ranker with caching enabled."""
        return DuplicationRanker
    ðŸ’¡ Break down into smaller, focused functions

  Line 237: [long-function] Function may be too long (consider breaking down)
    Code: def test_large_cache_performance(self, ranker):
        """Test that cache works efficiently with ma
    ðŸ’¡ Break down into smaller, focused functions

  Line 257: [long-function] Function may be too long (consider breaking down)
    Code: def test_cache_hit_rate_with_duplicates(self, ranker):
        """Test cache hit rate when many cand
    ðŸ’¡ Break down into smaller, focused functions

  Line 288: [long-function] Function may be too long (consider breaking down)
    Code: def ranker(self):
        """Create ranker with caching enabled."""
        return DuplicationRanker
    ðŸ’¡ Break down into smaller, focused functions

  Line 292: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_candidates_list(self, ranker):
        """Test ranking with empty candidates list."""
    ðŸ’¡ Break down into smaller, focused functions

  Line 299: [long-function] Function may be too long (consider breaking down)
    Code: def test_candidate_with_empty_files_list(self, ranker):
        """Test candidate with empty files l
    ðŸ’¡ Break down into smaller, focused functions

  Line 312: [long-function] Function may be too long (consider breaking down)
    Code: def test_candidate_with_missing_optional_fields(self, ranker):
        """Test candidate with minima
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_rename_symbol.py
--------------------------------------------------------------------------------
  Line 13: [long-function] Function may be too long (consider breaking down)
    Code: def python_renamer():
    """Create a SymbolRenamer for Python."""

    return SymbolRenamer("python
    ðŸ’¡ Break down into smaller, focused functions

  Line 20: [long-function] Function may be too long (consider breaking down)
    Code: def typescript_renamer():
    """Create a SymbolRenamer for TypeScript."""
    return SymbolRenamer(
    ðŸ’¡ Break down into smaller, focused functions

  Line 26: [long-function] Function may be too long (consider breaking down)
    Code: def python_coordinator():
    """Create a RenameCoordinator for Python."""
    return RenameCoordina
    ðŸ’¡ Break down into smaller, focused functions

  Line 34: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_symbol_references_simple(self, python_renamer, tmp_path):
        """Test finding simp
    ðŸ’¡ Break down into smaller, focused functions

  Line 65: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_symbol_references_no_matches(self, python_renamer, tmp_path):
        """Test finding 
    ðŸ’¡ Break down into smaller, focused functions

  Line 77: [long-function] Function may be too long (consider breaking down)
    Code: def test_build_scope_tree_python_simple(self, python_renamer, tmp_path):
        """Test building sc
    ðŸ’¡ Break down into smaller, focused functions

  Line 111: [long-function] Function may be too long (consider breaking down)
    Code: def test_build_scope_tree_nested_functions(self, python_renamer, tmp_path):
        """Test building
    ðŸ’¡ Break down into smaller, focused functions

  Line 138: [long-function] Function may be too long (consider breaking down)
    Code: def test_check_naming_conflicts_no_conflict(self, python_renamer, tmp_path):
        """Test conflic
    ðŸ’¡ Break down into smaller, focused functions

  Line 168: [long-function] Function may be too long (consider breaking down)
    Code: def test_check_naming_conflicts_with_conflict(self, python_renamer, tmp_path):
        """Test confl
    ðŸ’¡ Break down into smaller, focused functions

  Line 209: [long-function] Function may be too long (consider breaking down)
    Code: def test_classify_reference_definition(self, python_renamer):
        """Test classifying a definiti
    ðŸ’¡ Break down into smaller, focused functions

  Line 224: [long-function] Function may be too long (consider breaking down)
    Code: def test_classify_reference_import(self, python_renamer):
        """Test classifying an import refe
    ðŸ’¡ Break down into smaller, focused functions

  Line 239: [long-function] Function may be too long (consider breaking down)
    Code: def test_classify_reference_export(self, typescript_renamer):
        """Test classifying an export 
    ðŸ’¡ Break down into smaller, focused functions

  Line 253: [long-function] Function may be too long (consider breaking down)
    Code: def test_classify_reference_usage(self, python_renamer):
        """Test classifying a usage referen
    ðŸ’¡ Break down into smaller, focused functions

  Line 273: [long-function] Function may be too long (consider breaking down)
    Code: def test_rename_symbol_dry_run(self, python_coordinator, tmp_path):
        """Test renaming a symbo
    ðŸ’¡ Break down into smaller, focused functions

  Line 305: [long-function] Function may be too long (consider breaking down)
    Code: def test_rename_symbol_no_references(self, python_coordinator, tmp_path):
        """Test renaming w
    ðŸ’¡ Break down into smaller, focused functions

  Line 320: [long-function] Function may be too long (consider breaking down)
    Code: def test_rename_symbol_with_conflicts(self, python_coordinator, tmp_path):
        """Test renaming 
    ðŸ’¡ Break down into smaller, focused functions

  Line 363: [long-function] Function may be too long (consider breaking down)
    Code: def test_rename_symbol_apply(self, python_coordinator, tmp_path):
        """Test actually applying 
    ðŸ’¡ Break down into smaller, focused functions

  Line 400: [long-function] Function may be too long (consider breaking down)
    Code: def test_rename_in_file_word_boundary(self, python_coordinator, tmp_path):
        """Test that rena
    ðŸ’¡ Break down into smaller, focused functions

  Line 446: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_diff_preview(self, python_coordinator, tmp_path):
        """Test diff preview gen
    ðŸ’¡ Break down into smaller, focused functions

  Line 485: [long-function] Function may be too long (consider breaking down)
    Code: def test_rename_symbol_tool_dry_run(self, tmp_path):
        """Test rename_symbol tool in dry-run m
    ðŸ’¡ Break down into smaller, focused functions

  Line 518: [long-function] Function may be too long (consider breaking down)
    Code: def test_rename_symbol_tool_error_handling(self, tmp_path):
        """Test error handling in rename
    ðŸ’¡ Break down into smaller, focused functions

  Line 537: [long-function] Function may be too long (consider breaking down)
    Code: def test_rename_symbol_tool_with_file_filter(self, tmp_path):
        """Test rename_symbol tool wit
    ðŸ’¡ Break down into smaller, focused functions

  Line 558: [long-function] Function may be too long (consider breaking down)
    Code: def test_rename_across_multiple_files(self, python_coordinator, tmp_path):
        """Test renaming 
    ðŸ’¡ Break down into smaller, focused functions

  Line 600: [long-function] Function may be too long (consider breaking down)
    Code: def test_rollback_on_failure(self, python_coordinator, tmp_path):
        """Test that rename rolls 
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_schema_enhancement.py
--------------------------------------------------------------------------------
  Line 121: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_property_priority_known_property(self):
        """Test getting priority for known prop
    ðŸ’¡ Break down into smaller, focused functions

  Line 126: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_property_priority_unknown_property(self):
        """Test getting priority for unknown 
    ðŸ’¡ Break down into smaller, focused functions

  Line 131: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_property_priority_unknown_entity(self):
        """Test getting priority for unknown en
    ðŸ’¡ Break down into smaller, focused functions

  Line 136: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_rich_results_for_property(self):
        """Test getting rich results for property."""

    ðŸ’¡ Break down into smaller, focused functions

  Line 142: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_rich_results_for_property_unknown(self):
        """Test getting rich results for unkno
    ðŸ’¡ Break down into smaller, focused functions

  Line 147: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_rich_results_for_entity(self):
        """Test getting rich results for entity type."""
    ðŸ’¡ Break down into smaller, focused functions

  Line 152: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_all_properties_for_entity(self):
        """Test getting all properties for entity type
    ðŸ’¡ Break down into smaller, focused functions

  Line 158: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_property_example_known(self):
        """Test getting example for known property."""
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 165: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_property_example_unknown(self):
        """Test getting example for unknown property re
    ðŸ’¡ Break down into smaller, focused functions

  Line 179: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_entities_from_graph_array(self):
        """Test extracting entities from @graph ar
    ðŸ’¡ Break down into smaller, focused functions

  Line 193: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_entities_from_single_entity(self):
        """Test extracting single entity without
    ðŸ’¡ Break down into smaller, focused functions

  Line 200: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_entities_from_array(self):
        """Test extracting entities from raw array."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 209: [long-function] Function may be too long (consider breaking down)
    Code: def test_load_graph_from_file(self):
        """Test loading graph from JSON file."""
        with t
    ðŸ’¡ Break down into smaller, focused functions

  Line 229: [long-function] Function may be too long (consider breaking down)
    Code: def test_load_graph_from_directory(self):
        """Test loading graphs from directory."""
        
    ðŸ’¡ Break down into smaller, focused functions

  Line 248: [long-function] Function may be too long (consider breaking down)
    Code: def test_load_graph_invalid_type(self):
        """Test loading with invalid input type raises error
    ðŸ’¡ Break down into smaller, focused functions

  Line 259: [long-function] Function may be too long (consider breaking down)
    Code: def test_load_graph_nonexistent_file(self):
        """Test loading nonexistent file raises error.""
    ðŸ’¡ Break down into smaller, focused functions

  Line 273: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_entity_type_string(self):
        """Test extracting entity type from string @type.
    ðŸ’¡ Break down into smaller, focused functions

  Line 278: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_entity_type_array(self):
        """Test extracting entity type from array @type.""
    ðŸ’¡ Break down into smaller, focused functions

  Line 283: [long-function] Function may be too long (consider breaking down)
    Code: def test_extract_entity_type_missing(self):
        """Test extracting entity type when missing."""

    ðŸ’¡ Break down into smaller, focused functions

  Line 288: [long-function] Function may be too long (consider breaking down)
    Code: def test_build_property_reason_critical(self):
        """Test building reason for critical property
    ðŸ’¡ Break down into smaller, focused functions

  Line 293: [long-function] Function may be too long (consider breaking down)
    Code: def test_build_property_reason_high_no_rich_result(self):
        """Test building reason for high p
    ðŸ’¡ Break down into smaller, focused functions

  Line 307: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_id_references_simple(self):
        """Test finding @id references in simple structure
    ðŸ’¡ Break down into smaller, focused functions

  Line 318: [long-function] Function may be too long (consider breaking down)
    Code: def test_find_id_references_nested(self):
        """Test finding @id references in nested structure
    ðŸ’¡ Break down into smaller, focused functions

  Line 330: [long-function] Function may be too long (consider breaking down)
    Code: def test_validate_entity_references_valid(self):
        """Test validation with valid references.""
    ðŸ’¡ Break down into smaller, focused functions

  Line 341: [long-function] Function may be too long (consider breaking down)
    Code: def test_validate_entity_references_broken(self):
        """Test validation with broken references.
    ðŸ’¡ Break down into smaller, focused functions

  Line 362: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_suggestion_rule_has(self):
        """Test parsing 'has:Type' rule."""
        result
    ðŸ’¡ Break down into smaller, focused functions

  Line 369: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_suggestion_rule_not_has(self):
        """Test parsing 'NOT has:Type' rule."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 376: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_suggestion_rule_count(self):
        """Test parsing 'count:Type>N' rule."""
        
    ðŸ’¡ Break down into smaller, focused functions

  Line 383: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_suggestion_rule_count_not_met(self):
        """Test parsing count rule when threshol
    ðŸ’¡ Break down into smaller, focused functions

  Line 390: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_suggestion_rule_complex_and(self):
        """Test parsing complex AND rule."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 399: [long-function] Function may be too long (consider breaking down)
    Code: def test_suggest_missing_entities_faq_page(
        self, simple_organization_graph: List[Dict[str, 
    ðŸ’¡ Break down into smaller, focused functions

  Line 411: [long-function] Function may be too long (consider breaking down)
    Code: def test_suggest_missing_entities_complete_graph(
        self, complete_organization_graph: List[Di
    ðŸ’¡ Break down into smaller, focused functions

  Line 423: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_example_entity_faqpage(self):
        """Test generating FAQPage example."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 430: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_example_entity_website(self):
        """Test generating WebSite example."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 436: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_example_entity_breadcrumblist(self):
        """Test generating BreadcrumbList exa
    ðŸ’¡ Break down into smaller, focused functions

  Line 451: [long-function] Function may be too long (consider breaking down)
    Code: def test_calculate_entity_seo_score_perfect(self):
        """Test perfect score with no missing pro
    ðŸ’¡ Break down into smaller, focused functions

  Line 464: [long-function] Function may be too long (consider breaking down)
    Code: def test_calculate_entity_seo_score_critical_missing(
        self, sample_entity_enhancement: Entit
    ðŸ’¡ Break down into smaller, focused functions

  Line 472: [long-function] Function may be too long (consider breaking down)
    Code: def test_calculate_entity_seo_score_with_validation_issues(self):
        """Test score penalty for 
    ðŸ’¡ Break down into smaller, focused functions

  Line 485: [long-function] Function may be too long (consider breaking down)
    Code: def test_calculate_overall_seo_score(
        self, sample_entity_enhancement: EntityEnhancement
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 502: [long-function] Function may be too long (consider breaking down)
    Code: def test_build_priority_summary(self, sample_entity_enhancement: EntityEnhancement):
        """Test
    ðŸ’¡ Break down into smaller, focused functions

  Line 527: [long-function] Function may be too long (consider breaking down)
    Code: def test_validate_graph_structure_valid(self):
        """Test validation of valid graph structure."
    ðŸ’¡ Break down into smaller, focused functions

  Line 536: [long-function] Function may be too long (consider breaking down)
    Code: def test_validate_graph_structure_missing_context(self):
        """Test validation with missing @co
    ðŸ’¡ Break down into smaller, focused functions

  Line 542: [long-function] Function may be too long (consider breaking down)
    Code: def test_validate_graph_structure_invalid_context(self):
        """Test validation with invalid @co
    ðŸ’¡ Break down into smaller, focused functions

  Line 551: [long-function] Function may be too long (consider breaking down)
    Code: def test_validate_graph_structure_empty_graph(self):
        """Test validation with empty @graph ar
    ðŸ’¡ Break down into smaller, focused functions

  Line 557: [long-function] Function may be too long (consider breaking down)
    Code: def test_validate_graph_structure_single_entity(self):
        """Test validation with single entity
    ðŸ’¡ Break down into smaller, focused functions

  Line 572: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_enhanced_graph(
        self, simple_organization_graph: List[Dict[str, Any]]
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 614: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_diff(self, simple_organization_graph: List[Dict[str, Any]]):
        """Test gener
    ðŸ’¡ Break down into smaller, focused functions

  Line 654: [long-function] Function may be too long (consider breaking down)
    Code: def test_generate_diff_no_changes(
        self, simple_organization_graph: List[Dict[str, Any]]
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 675: [long-function] Function may be too long (consider breaking down)
    Code: async def test_analyze_entity_graph_simple(self):
        """Test full analysis flow with simple org
    ðŸ’¡ Break down into smaller, focused functions

  Line 725: [long-function] Function may be too long (consider breaking down)
    Code: async def test_analyze_entity_graph_enhanced_mode(self):
        """Test analysis with enhanced outp
    ðŸ’¡ Break down into smaller, focused functions

  Line 771: [long-function] Function may be too long (consider breaking down)
    Code: async def test_analyze_entity_graph_diff_mode(self):
        """Test analysis with diff output mode.
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_semantic_similarity.py
--------------------------------------------------------------------------------
  Line 38: [long-function] Function may be too long (consider breaking down)
    Code: def test_default_config(self):
        """Default config should have sensible values from SemanticSi
    ðŸ’¡ Break down into smaller, focused functions

  Line 48: [long-function] Function may be too long (consider breaking down)
    Code: def test_custom_config(self):
        """Custom config should override defaults."""
        config =
    ðŸ’¡ Break down into smaller, focused functions

  Line 70: [long-function] Function may be too long (consider breaking down)
    Code: def test_result_creation(self):
        """Should create result with expected values."""
        res
    ðŸ’¡ Break down into smaller, focused functions

  Line 87: [long-function] Function may be too long (consider breaking down)
    Code: def test_result_to_dict(self):
        """Should convert to dictionary correctly."""
        result 
    ðŸ’¡ Break down into smaller, focused functions

  Line 114: [long-function] Function may be too long (consider breaking down)
    Code: def test_is_available_without_transformers(self):
        """Should return False when transformers n
    ðŸ’¡ Break down into smaller, focused functions

  Line 129: [long-function] Function may be too long (consider breaking down)
    Code: def test_is_available_caches_result(self):
        """Should cache the availability check result."""
    ðŸ’¡ Break down into smaller, focused functions

  Line 147: [long-function] Function may be too long (consider breaking down)
    Code: def test_lazy_initialization(self):
        """Model should not be loaded on initialization."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 162: [long-function] Function may be too long (consider breaking down)
    Code: def mock_torch(self):
        """Create a mock torch module."""
        mock = MagicMock()
        m
    ðŸ’¡ Break down into smaller, focused functions

  Line 173: [long-function] Function may be too long (consider breaking down)
    Code: def mock_transformers(self):
        """Create a mock transformers module."""
        mock = MagicMo
    ðŸ’¡ Break down into smaller, focused functions

  Line 198: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_input_returns_zero(self):
        """Empty inputs should return 0.0 similarity."""
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 209: [long-function] Function may be too long (consider breaking down)
    Code: def test_config_applied(self):
        """Config should be applied to instance."""
        config = 
    ðŸ’¡ Break down into smaller, focused functions

  Line 221: [long-function] Function may be too long (consider breaking down)
    Code: def test_clear_cache(self):
        """Cache clearing should work."""
        semantic = SemanticSim
    ðŸ’¡ Break down into smaller, focused functions

  Line 230: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_cache_stats(self):
        """Should return cache statistics."""
        semantic = Sem
    ðŸ’¡ Break down into smaller, focused functions

  Line 247: [long-function] Function may be too long (consider breaking down)
    Code: def test_default_semantic_disabled(self):
        """Semantic should be disabled by default."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 255: [long-function] Function may be too long (consider breaking down)
    Code: def test_enable_semantic_with_rebalanced_weights(self):
        """Should accept rebalanced weights 
    ðŸ’¡ Break down into smaller, focused functions

  Line 268: [long-function] Function may be too long (consider breaking down)
    Code: def test_semantic_weights_must_sum_to_one(self):
        """Weights must sum to 1.0 when semantic en
    ðŸ’¡ Break down into smaller, focused functions

  Line 278: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_semantic_weight(self):
        """Invalid semantic weight should raise ValueError."
    ðŸ’¡ Break down into smaller, focused functions

  Line 283: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_semantic_threshold(self):
        """Invalid semantic threshold should raise ValueE
    ðŸ’¡ Break down into smaller, focused functions

  Line 297: [long-function] Function may be too long (consider breaking down)
    Code: def test_result_with_semantic(self):
        """Should create result with semantic fields."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 318: [long-function] Function may be too long (consider breaking down)
    Code: def test_result_without_semantic(self):
        """Should create result with semantic fields as None
    ðŸ’¡ Break down into smaller, focused functions

  Line 338: [long-function] Function may be too long (consider breaking down)
    Code: def test_result_to_dict_with_semantic(self):
        """Should include semantic fields in dict."""
 
    ðŸ’¡ Break down into smaller, focused functions

  Line 366: [long-function] Function may be too long (consider breaking down)
    Code: def test_semantic_disabled_by_default(self):
        """Pipeline should not use semantic when disabl
    ðŸ’¡ Break down into smaller, focused functions

  Line 384: [long-function] Function may be too long (consider breaking down)
    Code: def test_semantic_skipped_when_unavailable(self):
        """Semantic should be skipped when transfo
    ðŸ’¡ Break down into smaller, focused functions

  Line 411: [long-function] Function may be too long (consider breaking down)
    Code: def test_early_exit_skips_semantic(self):
        """Stage 1 early exit should skip semantic."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 424: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_input_returns_zero_with_semantic_fields(self):
        """Empty input should return z
    ðŸ’¡ Break down into smaller, focused functions

  Line 444: [long-function] Function may be too long (consider breaking down)
    Code: def test_default_values(self):
        """Should have expected default values."""
        assert Sem
    ðŸ’¡ Break down into smaller, focused functions

  Line 457: [long-function] Function may be too long (consider breaking down)
    Code: def test_weights_sum_to_one(self):
        """Rebalanced weights should sum to 1.0."""
        total
    ðŸ’¡ Break down into smaller, focused functions

  Line 480: [long-function] Function may be too long (consider breaking down)
    Code: def semantic(self):
        """Create SemanticSimilarity instance if available."""
        if not Se
    ðŸ’¡ Break down into smaller, focused functions

  Line 486: [long-function] Function may be too long (consider breaking down)
    Code: def test_identical_code_high_similarity(self, semantic):
        """Identical code should have high 
    ðŸ’¡ Break down into smaller, focused functions

  Line 495: [long-function] Function may be too long (consider breaking down)
    Code: def test_similar_code_high_similarity(self, semantic):
        """Semantically similar code should h
    ðŸ’¡ Break down into smaller, focused functions

  Line 509: [long-function] Function may be too long (consider breaking down)
    Code: def test_different_code_lower_similarity(self, semantic):
        """Semantically different code sho
    ðŸ’¡ Break down into smaller, focused functions

  Line 524: [long-function] Function may be too long (consider breaking down)
    Code: def test_embedding_caching(self, semantic):
        """Embeddings should be cached for repeated call
    ðŸ’¡ Break down into smaller, focused functions

  Line 536: [long-function] Function may be too long (consider breaking down)
    Code: def test_detailed_result(self, semantic):
        """Should return detailed result with token counts
    ðŸ’¡ Break down into smaller, focused functions

  Line 557: [long-function] Function may be too long (consider breaking down)
    Code: def hybrid_with_semantic(self):
        """Create HybridSimilarity with semantic enabled."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 571: [long-function] Function may be too long (consider breaking down)
    Code: def test_three_stage_similar_code(self, hybrid_with_semantic):
        """Similar code should run al
    ðŸ’¡ Break down into smaller, focused functions

  Line 596: [long-function] Function may be too long (consider breaking down)
    Code: def test_three_stage_result_format(self, hybrid_with_semantic):
        """Result should have all th
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_standards_enforcement.py
--------------------------------------------------------------------------------
  Line 55: [long-function] Function may be too long (consider breaking down)
    Code: def test_instantiation_all_fields(self):
        """Test RuleViolation with all fields."""
        v
    ðŸ’¡ Break down into smaller, focused functions

  Line 83: [long-function] Function may be too long (consider breaking down)
    Code: def test_instantiation_optional_fields_none(self):
        """Test RuleViolation with optional field
    ðŸ’¡ Break down into smaller, focused functions

  Line 100: [long-function] Function may be too long (consider breaking down)
    Code: def test_minimal_violation(self):
        """Test RuleViolation with minimal required fields."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 121: [long-function] Function may be too long (consider breaking down)
    Code: def test_instantiation_all_fields(self):
        """Test RuleSet with all fields."""
        rules =
    ðŸ’¡ Break down into smaller, focused functions

  Line 145: [long-function] Function may be too long (consider breaking down)
    Code: def test_instantiation_without_priority(self):
        """Test RuleSet with default priority."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 165: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_rules_list(self):
        """Test RuleSet with empty rules list."""
        rule_set 
    ðŸ’¡ Break down into smaller, focused functions

  Line 180: [long-function] Function may be too long (consider breaking down)
    Code: def test_instantiation_all_fields(self):
        """Test EnforcementResult with all fields."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 212: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_result(self):
        """Test EnforcementResult with no violations."""
        result
    ðŸ’¡ Break down into smaller, focused functions

  Line 232: [long-function] Function may be too long (consider breaking down)
    Code: def test_instantiation_all_fields(self):
        """Test RuleExecutionContext with all fields."""
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 258: [long-function] Function may be too long (consider breaking down)
    Code: def test_rule_sets_exist(self):
        """Test that RULE_SETS dictionary exists."""
        assert 
    ðŸ’¡ Break down into smaller, focused functions

  Line 263: [long-function] Function may be too long (consider breaking down)
    Code: def test_all_four_sets_exist(self):
        """Test that all 4 built-in sets exist."""
        expec
    ðŸ’¡ Break down into smaller, focused functions

  Line 269: [long-function] Function may be too long (consider breaking down)
    Code: def test_rule_sets_structure(self):
        """Test that each rule set has required fields."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 279: [long-function] Function may be too long (consider breaking down)
    Code: def test_recommended_set_priority(self):
        """Test recommended set has priority 100."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 283: [long-function] Function may be too long (consider breaking down)
    Code: def test_security_set_priority(self):
        """Test security set has priority 200 (highest)."""
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 287: [long-function] Function may be too long (consider breaking down)
    Code: def test_rule_ids_reference_templates(self):
        """Test that rule IDs reference valid templates
    ðŸ’¡ Break down into smaller, focused functions

  Line 294: [long-function] Function may be too long (consider breaking down)
    Code: def test_priority_values_correct(self):
        """Test priority values are correct."""
        asse
    ðŸ’¡ Break down into smaller, focused functions

  Line 301: [long-function] Function may be too long (consider breaking down)
    Code: def test_recommended_set_rules(self):
        """Test recommended set has expected rules."""
       
    ðŸ’¡ Break down into smaller, focused functions

  Line 312: [long-function] Function may be too long (consider breaking down)
    Code: def test_basic_conversion(self):
        """Test converting RuleTemplate to LintingRule."""
        
    ðŸ’¡ Break down into smaller, focused functions

  Line 337: [long-function] Function may be too long (consider breaking down)
    Code: def test_conversion_preserves_all_fields(self):
        """Test that all template fields are preserv
    ðŸ’¡ Break down into smaller, focused functions

  Line 351: [long-function] Function may be too long (consider breaking down)
    Code: def test_constraints_is_none(self):
        """Test that constraints field is None."""
        templ
    ðŸ’¡ Break down into smaller, focused functions

  Line 358: [long-function] Function may be too long (consider breaking down)
    Code: def test_conversion_multiple_templates(self):
        """Test converting multiple templates."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 375: [long-function] Function may be too long (consider breaking down)
    Code: def test_load_rules_from_directory(self, mock_glob, mock_exists):
        """Test loading rules from
    ðŸ’¡ Break down into smaller, focused functions

  Line 385: [long-function] Function may be too long (consider breaking down)
    Code: def test_missing_directory(self, mock_exists):
        """Test handling missing .ast-grep-rules/ dir
    ðŸ’¡ Break down into smaller, focused functions

  Line 394: [long-function] Function may be too long (consider breaking down)
    Code: def test_filter_by_language(self, mock_load_project_rules):
        """Test filtering rules by langu
    ðŸ’¡ Break down into smaller, focused functions

  Line 425: [long-function] Function may be too long (consider breaking down)
    Code: def test_handle_malformed_yaml(self, mock_load, mock_glob, mock_exists):
        """Test handling ma
    ðŸ’¡ Break down into smaller, focused functions

  Line 442: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_directory(self, mock_glob, mock_exists):
        """Test empty .ast-grep-rules/ direc
    ðŸ’¡ Break down into smaller, focused functions

  Line 454: [long-function] Function may be too long (consider breaking down)
    Code: def test_filter_out_wrong_language(self, mock_load, mock_glob, mock_exists):
        """Test filteri
    ðŸ’¡ Break down into smaller, focused functions

  Line 480: [long-function] Function may be too long (consider breaking down)
    Code: def test_load_recommended_rule_set(self):
        """Test loading recommended rule set."""
        r
    ðŸ’¡ Break down into smaller, focused functions

  Line 489: [long-function] Function may be too long (consider breaking down)
    Code: def test_load_security_rule_set(self):
        """Test loading security rule set."""
        rule_se
    ðŸ’¡ Break down into smaller, focused functions

  Line 497: [long-function] Function may be too long (consider breaking down)
    Code: def test_load_performance_rule_set(self):
        """Test loading performance rule set."""
        r
    ðŸ’¡ Break down into smaller, focused functions

  Line 505: [long-function] Function may be too long (consider breaking down)
    Code: def test_load_style_rule_set(self):
        """Test loading style rule set."""
        rule_set = _l
    ðŸ’¡ Break down into smaller, focused functions

  Line 513: [long-function] Function may be too long (consider breaking down)
    Code: def test_load_all_rule_set(self):
        """Test loading 'all' rule set."""
        rule_set = _loa
    ðŸ’¡ Break down into smaller, focused functions

  Line 522: [long-function] Function may be too long (consider breaking down)
    Code: def test_load_custom_rule_set(self, mock_load_custom):
        """Test loading 'custom' rule set."""
    ðŸ’¡ Break down into smaller, focused functions

  Line 542: [long-function] Function may be too long (consider breaking down)
    Code: def test_filter_by_language(self):
        """Test rules are filtered by language."""
        rule_s
    ðŸ’¡ Break down into smaller, focused functions

  Line 550: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_rule_set_name(self):
        """Test invalid rule set name raises ValueError."""
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 557: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_results_for_unsupported_language(self):
        """Test empty results for unsupported
    ðŸ’¡ Break down into smaller, focused functions

  Line 564: [long-function] Function may be too long (consider breaking down)
    Code: def test_priority_preserved(self):
        """Test that priority from RULE_SETS is preserved."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 571: [long-function] Function may be too long (consider breaking down)
    Code: def test_all_set_combines_all_rules(self):
        """Test 'all' set combines rules from all sets.""
    ðŸ’¡ Break down into smaller, focused functions

  Line 580: [long-function] Function may be too long (consider breaking down)
    Code: def test_custom_set_empty_when_no_rules(self, mock_load_custom):
        """Test custom set is empty
    ðŸ’¡ Break down into smaller, focused functions

  Line 592: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_complete_match(self):
        """Test parsing complete ast-grep match."""
        # a
    ðŸ’¡ Break down into smaller, focused functions

  Line 632: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_match_without_metavars(self):
        """Test parsing match without metavariables."""
    ðŸ’¡ Break down into smaller, focused functions

  Line 655: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_match_missing_range(self):
        """Test parsing match with missing range informati
    ðŸ’¡ Break down into smaller, focused functions

  Line 675: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_multiline_match(self):
        """Test parsing multiline match."""
        match = {

    ðŸ’¡ Break down into smaller, focused functions

  Line 703: [long-function] Function may be too long (consider breaking down)
    Code: def test_exclude_node_modules(self):
        """Test excluding node_modules with recursive pattern."
    ðŸ’¡ Break down into smaller, focused functions

  Line 710: [long-function] Function may be too long (consider breaking down)
    Code: def test_exclude_simple_glob(self):
        """Test excluding with simple glob pattern."""
        f
    ðŸ’¡ Break down into smaller, focused functions

  Line 717: [long-function] Function may be too long (consider breaking down)
    Code: def test_dont_exclude_non_matching(self):
        """Test not excluding non-matching files."""
     
    ðŸ’¡ Break down into smaller, focused functions

  Line 724: [long-function] Function may be too long (consider breaking down)
    Code: def test_multiple_patterns(self):
        """Test handling multiple exclude patterns."""
        fil
    ðŸ’¡ Break down into smaller, focused functions

  Line 731: [long-function] Function may be too long (consider breaking down)
    Code: def test_case_sensitivity(self):
        """Test case sensitivity in pattern matching."""
        fi
    ðŸ’¡ Break down into smaller, focused functions

  Line 739: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_patterns(self):
        """Test with empty patterns list."""
        file_path = "/pr
    ðŸ’¡ Break down into smaller, focused functions

  Line 746: [long-function] Function may be too long (consider breaking down)
    Code: def test_exclude_build_directory(self):
        """Test excluding build directory."""
        file_p
    ðŸ’¡ Break down into smaller, focused functions

  Line 753: [long-function] Function may be too long (consider breaking down)
    Code: def test_exclude_dist_directory(self):
        """Test excluding dist directory."""
        file_pat
    ðŸ’¡ Break down into smaller, focused functions

  Line 760: [long-function] Function may be too long (consider breaking down)
    Code: def test_exclude_git_directory(self):
        """Test excluding .git directory."""
        file_path
    ðŸ’¡ Break down into smaller, focused functions

  Line 767: [long-function] Function may be too long (consider breaking down)
    Code: def test_filename_pattern(self):
        """Test pattern matching against filename only."""
        
    ðŸ’¡ Break down into smaller, focused functions

  Line 779: [long-function] Function may be too long (consider breaking down)
    Code: def test_execute_single_rule(self, mock_stream):
        """Test executing single rule."""
        l
    ðŸ’¡ Break down into smaller, focused functions

  Line 818: [long-function] Function may be too long (consider breaking down)
    Code: def test_parse_violations_correctly(self, mock_stream):
        """Test violations are parsed correc
    ðŸ’¡ Break down into smaller, focused functions

  Line 856: [long-function] Function may be too long (consider breaking down)
    Code: def test_apply_file_exclusion(self, mock_stream):
        """Test file exclusion is applied."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 894: [long-function] Function may be too long (consider breaking down)
    Code: def test_respect_max_violations(self, mock_stream):
        """Test max_violations is respected."""

    ðŸ’¡ Break down into smaller, focused functions

  Line 934: [long-function] Function may be too long (consider breaking down)
    Code: def test_handle_execution_errors(self, mock_stream):
        """Test handling execution errors grace
    ðŸ’¡ Break down into smaller, focused functions

  Line 964: [long-function] Function may be too long (consider breaking down)
    Code: def test_sentry_span_integration(self, mock_sentry, mock_stream):
        """Test Sentry span is cre
    ðŸ’¡ Break down into smaller, focused functions

  Line 996: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_execution(self, mock_execute):
        """Test parallel execution with ThreadPoolE
    ðŸ’¡ Break down into smaller, focused functions

  Line 1028: [long-function] Function may be too long (consider breaking down)
    Code: def test_combine_violations(self, mock_execute):
        """Test violations from multiple rules are 
    ðŸ’¡ Break down into smaller, focused functions

  Line 1074: [long-function] Function may be too long (consider breaking down)
    Code: def test_early_termination_at_max_violations(self, mock_execute):
        """Test early termination 
    ðŸ’¡ Break down into smaller, focused functions

  Line 1120: [long-function] Function may be too long (consider breaking down)
    Code: def test_handle_individual_failures(self, mock_execute):
        """Test handling individual rule fa
    ðŸ’¡ Break down into smaller, focused functions

  Line 1160: [long-function] Function may be too long (consider breaking down)
    Code: def test_group_by_file(self):
        """Test grouping violations by file path."""
        violation
    ðŸ’¡ Break down into smaller, focused functions

  Line 1204: [long-function] Function may be too long (consider breaking down)
    Code: def test_sort_by_line_number(self):
        """Test violations are sorted by line and column."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 1252: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_violations(self):
        """Test grouping empty violations list."""
        grouped 
    ðŸ’¡ Break down into smaller, focused functions

  Line 1262: [long-function] Function may be too long (consider breaking down)
    Code: def test_group_by_severity(self):
        """Test grouping violations by severity level."""
        
    ðŸ’¡ Break down into smaller, focused functions

  Line 1306: [long-function] Function may be too long (consider breaking down)
    Code: def test_all_severity_levels_present(self):
        """Test all severity levels are in result."""
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 1328: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_violations(self):
        """Test grouping empty violations list."""
        grouped 
    ðŸ’¡ Break down into smaller, focused functions

  Line 1340: [long-function] Function may be too long (consider breaking down)
    Code: def test_group_by_rule(self):
        """Test grouping violations by rule ID."""
        violations 
    ðŸ’¡ Break down into smaller, focused functions

  Line 1384: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_violations(self):
        """Test grouping empty violations list."""
        grouped 
    ðŸ’¡ Break down into smaller, focused functions

  Line 1394: [long-function] Function may be too long (consider breaking down)
    Code: def test_filter_by_error(self):
        """Test filtering by error severity threshold."""
        vi
    ðŸ’¡ Break down into smaller, focused functions

  Line 1437: [long-function] Function may be too long (consider breaking down)
    Code: def test_filter_by_warning(self):
        """Test filtering by warning severity threshold."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 1480: [long-function] Function may be too long (consider breaking down)
    Code: def test_filter_by_info(self):
        """Test filtering by info severity threshold."""
        viol
    ðŸ’¡ Break down into smaller, focused functions

  Line 1523: [long-function] Function may be too long (consider breaking down)
    Code: def test_handle_all_severity_levels(self):
        """Test all severity levels are handled correctly
    ðŸ’¡ Break down into smaller, focused functions

  Line 1549: [long-function] Function may be too long (consider breaking down)
    Code: def test_format_complete_report(self):
        """Test formatting complete report."""
        violat
    ðŸ’¡ Break down into smaller, focused functions

  Line 1589: [long-function] Function may be too long (consider breaking down)
    Code: def test_summary_section(self):
        """Test summary section is formatted correctly."""
        r
    ðŸ’¡ Break down into smaller, focused functions

  Line 1614: [long-function] Function may be too long (consider breaking down)
    Code: def test_violations_breakdown(self):
        """Test violations breakdown section."""
        violat
    ðŸ’¡ Break down into smaller, focused functions

  Line 1651: [long-function] Function may be too long (consider breaking down)
    Code: def test_handle_empty_violations(self):
        """Test formatting report with no violations."""
   
    ðŸ’¡ Break down into smaller, focused functions

  Line 1680: [long-function] Function may be too long (consider breaking down)
    Code: def test_basic_scan_with_recommended_rules(self, mock_exists, mock_execute, mock_load, mcp_main, enf
    ðŸ’¡ Break down into smaller, focused functions

  Line 1715: [long-function] Function may be too long (consider breaking down)
    Code: def test_security_rule_set(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_standards_t
    ðŸ’¡ Break down into smaller, focused functions

  Line 1749: [long-function] Function may be too long (consider breaking down)
    Code: def test_custom_rules_with_ids(self, mock_exists, mock_execute, mock_load_custom, mcp_main, enforce_
    ðŸ’¡ Break down into smaller, focused functions

  Line 1784: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_severity_threshold(self, mock_exists, mcp_main, enforce_standards_tool):
        ""
    ðŸ’¡ Break down into smaller, focused functions

  Line 1799: [long-function] Function may be too long (consider breaking down)
    Code: def test_invalid_output_format(self, mock_exists, mcp_main, enforce_standards_tool):
        """Test
    ðŸ’¡ Break down into smaller, focused functions

  Line 1813: [long-function] Function may be too long (consider breaking down)
    Code: def test_project_folder_not_found(self, enforce_standards_tool):
        """Test error when project 
    ðŸ’¡ Break down into smaller, focused functions

  Line 1825: [long-function] Function may be too long (consider breaking down)
    Code: def test_no_rules_for_language(self, mock_exists, mock_load, mcp_main, enforce_standards_tool):
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 1847: [long-function] Function may be too long (consider breaking down)
    Code: def test_empty_custom_rules_list(self, mock_exists, mock_load_custom, mcp_main, enforce_standards_to
    ðŸ’¡ Break down into smaller, focused functions

  Line 1866: [long-function] Function may be too long (consider breaking down)
    Code: def test_text_output_format(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_standards_
    ðŸ’¡ Break down into smaller, focused functions

  Line 1901: [long-function] Function may be too long (consider breaking down)
    Code: def test_json_output_format(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_standards_
    ðŸ’¡ Break down into smaller, focused functions

  Line 1950: [long-function] Function may be too long (consider breaking down)
    Code: def test_max_violations_enforcement(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_st
    ðŸ’¡ Break down into smaller, focused functions

  Line 2000: [long-function] Function may be too long (consider breaking down)
    Code: def test_severity_threshold_filtering(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_
    ðŸ’¡ Break down into smaller, focused functions

  Line 2048: [long-function] Function may be too long (consider breaking down)
    Code: def test_include_exclude_patterns(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_stan
    ðŸ’¡ Break down into smaller, focused functions

  Line 2087: [long-function] Function may be too long (consider breaking down)
    Code: def test_parallel_execution_with_threads(self, mock_exists, mock_execute, mock_load, mcp_main, enfor
    ðŸ’¡ Break down into smaller, focused functions

  Line 2124: [long-function] Function may be too long (consider breaking down)
    Code: def test_error_handling(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_standards_tool
    ðŸ’¡ Break down into smaller, focused functions

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_usage_tracking.py
--------------------------------------------------------------------------------
  Line 34: [long-function] Function may be too long (consider breaking down)
    Code: def test_base_cost_only(self):
        """Operations with no additional metrics should use base cost
    ðŸ’¡ Break down into smaller, focused functions

  Line 39: [long-function] Function may be too long (consider breaking down)
    Code: def test_cost_with_files(self):
        """Cost should increase with files processed."""
        bas
    ðŸ’¡ Break down into smaller, focused functions

  Line 50: [long-function] Function may be too long (consider breaking down)
    Code: def test_cost_with_lines(self):
        """Cost should increase with lines analyzed."""
        base
    ðŸ’¡ Break down into smaller, focused functions

  Line 59: [long-function] Function may be too long (consider breaking down)
    Code: def test_cost_with_matches(self):
        """Cost should increase with matches found."""
        bas
    ðŸ’¡ Break down into smaller, focused functions

  Line 68: [long-function] Function may be too long (consider breaking down)
    Code: def test_unknown_operation_uses_default(self):
        """Unknown operations should use default pric
    ðŸ’¡ Break down into smaller, focused functions

  Line 73: [long-function] Function may be too long (consider breaking down)
    Code: def test_refactoring_operations_cost_more(self):
        """Refactoring operations should have highe
    ðŸ’¡ Break down into smaller, focused functions

  Line 83: [long-function] Function may be too long (consider breaking down)
    Code: def test_default_values(self):
        """Entry should have sensible defaults."""
        entry = Us
    ðŸ’¡ Break down into smaller, focused functions

  Line 94: [long-function] Function may be too long (consider breaking down)
    Code: def test_custom_values(self):
        """Entry should accept custom values."""
        entry = Usage
    ðŸ’¡ Break down into smaller, focused functions

  Line 116: [long-function] Function may be too long (consider breaking down)
    Code: def temp_db(self):
        """Create a temporary database for testing."""
        with tempfile.Name
    ðŸ’¡ Break down into smaller, focused functions

  Line 124: [long-function] Function may be too long (consider breaking down)
    Code: def test_database_creation(self, temp_db):
        """Database should be created with proper schema.
    ðŸ’¡ Break down into smaller, focused functions

  Line 128: [long-function] Function may be too long (consider breaking down)
    Code: def test_log_usage(self, temp_db):
        """Should successfully log usage entries."""
        entr
    ðŸ’¡ Break down into smaller, focused functions

  Line 144: [long-function] Function may be too long (consider breaking down)
    Code: def test_log_failure(self, temp_db):
        """Should log failed operations."""
        entry = Usa
    ðŸ’¡ Break down into smaller, focused functions

  Line 158: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_stats_empty(self, temp_db):
        """Stats should work with empty database."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 165: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_stats_with_data(self, temp_db):
        """Stats should aggregate data correctly."""
  
    ðŸ’¡ Break down into smaller, focused functions

  Line 187: [long-function] Function may be too long (consider breaking down)
    Code: def test_get_stats_time_filter(self, temp_db):
        """Stats should filter by time range."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 205: [long-function] Function may be too long (consider breaking down)
    Code: def test_filter_by_tool(self, temp_db):
        """Should filter logs by tool name."""
        temp_
    ðŸ’¡ Break down into smaller, focused functions

  Line 222: [long-function] Function may be too long (consider breaking down)
    Code: def temp_db(self):
        """Create a temporary database for testing."""
        with tempfile.Name
    ðŸ’¡ Break down into smaller, focused functions

  Line 230: [long-function] Function may be too long (consider breaking down)
    Code: def test_no_alerts_when_under_threshold(self, temp_db):
        """No alerts when usage is under all
    ðŸ’¡ Break down into smaller, focused functions

  Line 242: [long-function] Function may be too long (consider breaking down)
    Code: def test_daily_calls_warning(self, temp_db):
        """Should generate warning when daily calls exc
    ðŸ’¡ Break down into smaller, focused functions

  Line 253: [long-function] Function may be too long (consider breaking down)
    Code: def test_daily_calls_critical(self, temp_db):
        """Should generate critical alert when daily c
    ðŸ’¡ Break down into smaller, focused functions

  Line 263: [long-function] Function may be too long (consider breaking down)
    Code: def test_failure_rate_alert(self, temp_db):
        """Should generate alert when failure rate is hi
    ðŸ’¡ Break down into smaller, focused functions

  Line 280: [long-function] Function may be too long (consider breaking down)
    Code: def test_hourly_failures_alert(self, temp_db):
        """Should alert on high hourly failure count.
    ðŸ’¡ Break down into smaller, focused functions

  Line 303: [long-function] Function may be too long (consider breaking down)
    Code: def temp_db(self):
        """Create a temporary database and patch global."""
        with tempfile
    ðŸ’¡ Break down into smaller, focused functions

  Line 314: [long-function] Function may be too long (consider breaking down)
    Code: def test_successful_operation(self, temp_db):
        """Should log successful operations."""
      
    ðŸ’¡ Break down into smaller, focused functions

  Line 327: [long-function] Function may be too long (consider breaking down)
    Code: def test_failed_operation(self, temp_db):
        """Should log failed operations with error message
    ðŸ’¡ Break down into smaller, focused functions

  Line 340: [long-function] Function may be too long (consider breaking down)
    Code: def test_response_time_tracking(self, temp_db):
        """Should track response time."""
        wi
    ðŸ’¡ Break down into smaller, focused functions

  Line 348: [long-function] Function may be too long (consider breaking down)
    Code: def test_cost_calculation(self, temp_db):
        """Should calculate cost based on metrics."""
    
    ðŸ’¡ Break down into smaller, focused functions

  Line 363: [long-function] Function may be too long (consider breaking down)
    Code: def temp_db(self):
        """Create a temporary database and patch global."""
        with tempfile
    ðŸ’¡ Break down into smaller, focused functions

  Line 374: [long-function] Function may be too long (consider breaking down)
    Code: def test_decorator_logs_success(self, temp_db):
        """Decorator should log successful function 
    ðŸ’¡ Break down into smaller, focused functions

  Line 378: [long-function] Function may be too long (consider breaking down)
    Code: def sample_function():
            return {"matches": [1, 2, 3], "files_processed": 5}
    ðŸ’¡ Break down into smaller, focused functions

  Line 389: [long-function] Function may be too long (consider breaking down)
    Code: def test_decorator_logs_failure(self, temp_db):
        """Decorator should log failed function call
    ðŸ’¡ Break down into smaller, focused functions

  Line 393: [long-function] Function may be too long (consider breaking down)
    Code: def failing_function():
            raise RuntimeError("Intentional failure")
    ðŸ’¡ Break down into smaller, focused functions

  Line 404: [long-function] Function may be too long (consider breaking down)
    Code: def test_decorator_extracts_metrics(self, temp_db):
        """Decorator should extract metrics from
    ðŸ’¡ Break down into smaller, focused functions

  Line 408: [long-function] Function may be too long (consider breaking down)
    Code: def function_with_metrics():
            return {
                "files_processed": 10,
           
    ðŸ’¡ Break down into smaller, focused functions

  Line 425: [long-function] Function may be too long (consider breaking down)
    Code: def test_basic_report(self):
        """Should format a basic report."""
        stats = UsageStats(
    ðŸ’¡ Break down into smaller, focused functions

  Line 446: [long-function] Function may be too long (consider breaking down)
    Code: def test_report_with_tools(self):
        """Should include tool breakdown in report."""
        sta
    ðŸ’¡ Break down into smaller, focused functions

  Line 466: [long-function] Function may be too long (consider breaking down)
    Code: def temp_db(self):
        """Create a temporary database and patch global."""
        with tempfile
    ðŸ’¡ Break down into smaller, focused functions

  Line 477: [long-function] Function may be too long (consider breaking down)
    Code: def test_detector_logs_usage(self, temp_db):
        """DuplicationDetector should log usage when ca
    ðŸ’¡ Break down into smaller, focused functions

================================================================================
INFO Issues (1029)
================================================================================

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/analyze_codebase.py
--------------------------------------------------------------------------------
  Line 24: [missing-docstring] Function missing docstring
    Code: def print_section(title: str):
    """Print a formatted section header."""
    print(f"\n{'='*80}")

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 26: [print-statement] Using print() instead of logging
    Code: print(f"\n{'='*80}")
    ðŸ’¡ Consider using logging module for better control

  Line 27: [print-statement] Using print() instead of logging
    Code: print(f" {title}")
    ðŸ’¡ Consider using logging module for better control

  Line 28: [print-statement] Using print() instead of logging
    Code: print('='*80)
    ðŸ’¡ Consider using logging module for better control

  Line 31: [missing-docstring] Function missing docstring
    Code: def analyze_individual_files():
    """Analyze the top 5 most complex files individually."""
    pri
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 44: [print-statement] Using print() instead of logging
    Code: print(f"\n--- {file_path} ---")
    ðŸ’¡ Consider using logging module for better control

  Line 53: [print-statement] Using print() instead of logging
    Code: print(f"Total functions: {len(functions)}")
    ðŸ’¡ Consider using logging module for better control

  Line 54: [print-statement] Using print() instead of logging
    Code: print(f"Critical functions: {len(critical)}")
    ðŸ’¡ Consider using logging module for better control

  Line 57: [print-statement] Using print() instead of logging
    Code: print("\nWorst offenders:")
    ðŸ’¡ Consider using logging module for better control

  Line 59: [print-statement] Using print() instead of logging
    Code: print(f"  â€¢ {func['name']} (line {func['start_line']})")
    ðŸ’¡ Consider using logging module for better control

  Line 60: [print-statement] Using print() instead of logging
    Code: print(f"    Cyclomatic: {func['cyclomatic']}, Cognitive: {func['cognitive']}, "
                    
    ðŸ’¡ Consider using logging module for better control

  Line 63: [print-statement] Using print() instead of logging
    Code: print(f"  Error: {result.get('error')}")
    ðŸ’¡ Consider using logging module for better control

  Line 65: [print-statement] Using print() instead of logging
    Code: print(f"  Exception: {e}")
    ðŸ’¡ Consider using logging module for better control

  Line 68: [missing-docstring] Function missing docstring
    Code: def analyze_project_complexity():
    """Run project-wide complexity analysis."""
    print_section(
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 89: [print-statement] Using print() instead of logging
    Code: print(f"\nTotal functions analyzed: {summary.get('total_functions', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 90: [print-statement] Using print() instead of logging
    Code: print(f"Functions exceeding thresholds: {summary.get('exceeding_thresholds', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 91: [print-statement] Using print() instead of logging
    Code: print(f"Percentage over threshold: {summary.get('percentage_exceeding', 0):.1f}%")
    ðŸ’¡ Consider using logging module for better control

  Line 92: [print-statement] Using print() instead of logging
    Code: print(f"\nAverage cyclomatic complexity: {summary.get('average_cyclomatic', 0):.2f}")
    ðŸ’¡ Consider using logging module for better control

  Line 93: [print-statement] Using print() instead of logging
    Code: print(f"Average cognitive complexity: {summary.get('average_cognitive', 0):.2f}")
    ðŸ’¡ Consider using logging module for better control

  Line 94: [print-statement] Using print() instead of logging
    Code: print(f"Average nesting depth: {summary.get('average_nesting', 0):.2f}")
    ðŸ’¡ Consider using logging module for better control

  Line 95: [print-statement] Using print() instead of logging
    Code: print(f"Average function length: {summary.get('average_length', 0):.1f} lines")
    ðŸ’¡ Consider using logging module for better control

  Line 100: [print-statement] Using print() instead of logging
    Code: print("\nTop 10 most complex functions by cognitive complexity:")
    ðŸ’¡ Consider using logging module for better control

  Line 104: [print-statement] Using print() instead of logging
    Code: print(f"  {i}. {func['file']}:{func['name']} (line {func['start_line']})")
    ðŸ’¡ Consider using logging module for better control

  Line 105: [print-statement] Using print() instead of logging
    Code: print(f"     Cyclomatic: {func['cyclomatic']}, Cognitive: {func['cognitive']}, "
                   
    ðŸ’¡ Consider using logging module for better control

  Line 108: [print-statement] Using print() instead of logging
    Code: print(f"Error: {result.get('error')}")
    ðŸ’¡ Consider using logging module for better control

  Line 110: [print-statement] Using print() instead of logging
    Code: print(f"Exception during project complexity analysis: {e}")
    ðŸ’¡ Consider using logging module for better control

  Line 115: [missing-docstring] Function missing docstring
    Code: def detect_code_smells():
    """Run code smell detection."""
    print_section("PHASE 3: Code Smell
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 130: [print-statement] Using print() instead of logging
    Code: print(f"\nTotal files analyzed: {summary.get('total_files', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 131: [print-statement] Using print() instead of logging
    Code: print(f"Files with smells: {summary.get('files_with_smells', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 132: [print-statement] Using print() instead of logging
    Code: print(f"Total smells found: {summary.get('total_smells', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 135: [print-statement] Using print() instead of logging
    Code: print("\nBy severity:")
    ðŸ’¡ Consider using logging module for better control

  Line 136: [print-statement] Using print() instead of logging
    Code: print(f"  High: {by_severity.get('high', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 137: [print-statement] Using print() instead of logging
    Code: print(f"  Medium: {by_severity.get('medium', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 138: [print-statement] Using print() instead of logging
    Code: print(f"  Low: {by_severity.get('low', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 142: [print-statement] Using print() instead of logging
    Code: print("\nTop 10 code smells:")
    ðŸ’¡ Consider using logging module for better control

  Line 144: [print-statement] Using print() instead of logging
    Code: print(f"  â€¢ [{smell.get('severity', 'unknown').upper()}] {smell.get('type', 'unknown')}")
    ðŸ’¡ Consider using logging module for better control

  Line 145: [print-statement] Using print() instead of logging
    Code: print(f"    File: {smell.get('file', 'unknown')}:{smell.get('line', '?')}")
    ðŸ’¡ Consider using logging module for better control

  Line 146: [print-statement] Using print() instead of logging
    Code: print(f"    {smell.get('message', 'No message')}")
    ðŸ’¡ Consider using logging module for better control

  Line 148: [print-statement] Using print() instead of logging
    Code: print(f"Error: {result.get('error')}")
    ðŸ’¡ Consider using logging module for better control

  Line 150: [print-statement] Using print() instead of logging
    Code: print(f"Exception during code smell detection: {e}")
    ðŸ’¡ Consider using logging module for better control

  Line 155: [missing-docstring] Function missing docstring
    Code: def detect_security_issues():
    """Run security vulnerability scanning."""
    print_section("PHAS
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 170: [print-statement] Using print() instead of logging
    Code: print(f"\nTotal files scanned: {summary.get('total_files', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 171: [print-statement] Using print() instead of logging
    Code: print(f"Total issues found: {summary.get('total_issues', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 174: [print-statement] Using print() instead of logging
    Code: print("\nBy severity:")
    ðŸ’¡ Consider using logging module for better control

  Line 175: [print-statement] Using print() instead of logging
    Code: print(f"  Critical: {by_severity.get('critical', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 176: [print-statement] Using print() instead of logging
    Code: print(f"  High: {by_severity.get('high', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 177: [print-statement] Using print() instead of logging
    Code: print(f"  Medium: {by_severity.get('medium', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 178: [print-statement] Using print() instead of logging
    Code: print(f"  Low: {by_severity.get('low', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 182: [print-statement] Using print() instead of logging
    Code: print("\nBy category:")
    ðŸ’¡ Consider using logging module for better control

  Line 184: [print-statement] Using print() instead of logging
    Code: print(f"  {category}: {count}")
    ðŸ’¡ Consider using logging module for better control

  Line 188: [print-statement] Using print() instead of logging
    Code: print("\nTop 10 security issues:")
    ðŸ’¡ Consider using logging module for better control

  Line 190: [print-statement] Using print() instead of logging
    Code: print(f"  â€¢ [{issue.get('severity', 'unknown').upper()}] {issue.get('category', 'unknown')}")
    ðŸ’¡ Consider using logging module for better control

  Line 191: [print-statement] Using print() instead of logging
    Code: print(f"    File: {issue.get('file', 'unknown')}:{issue.get('line', '?')}")
    ðŸ’¡ Consider using logging module for better control

  Line 192: [print-statement] Using print() instead of logging
    Code: print(f"    {issue.get('message', 'No message')}")
    ðŸ’¡ Consider using logging module for better control

  Line 194: [print-statement] Using print() instead of logging
    Code: print(f"Error: {result.get('error')}")
    ðŸ’¡ Consider using logging module for better control

  Line 196: [print-statement] Using print() instead of logging
    Code: print(f"Exception during security scanning: {e}")
    ðŸ’¡ Consider using logging module for better control

  Line 201: [missing-docstring] Function missing docstring
    Code: def analyze_duplication():
    """Analyze code duplication opportunities."""
    print_section("PHAS
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 218: [print-statement] Using print() instead of logging
    Code: print(f"Error finding duplicates: {find_result.get('error')}")
    ðŸ’¡ Consider using logging module for better control

  Line 224: [print-statement] Using print() instead of logging
    Code: print("\nNo duplication groups found.")
    ðŸ’¡ Consider using logging module for better control

  Line 235: [print-statement] Using print() instead of logging
    Code: print(f"\nTotal files analyzed: {summary.get('total_files', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 236: [print-statement] Using print() instead of logging
    Code: print(f"Duplication groups found: {summary.get('total_groups', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 237: [print-statement] Using print() instead of logging
    Code: print(f"Total duplicated instances: {summary.get('total_instances', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 240: [print-statement] Using print() instead of logging
    Code: print(f"Average group size: {summary.get('average_group_size', 0):.1f} instances")
    ðŸ’¡ Consider using logging module for better control

  Line 241: [print-statement] Using print() instead of logging
    Code: print(f"Average similarity: {summary.get('average_similarity', 0):.1%}")
    ðŸ’¡ Consider using logging module for better control

  Line 242: [print-statement] Using print() instead of logging
    Code: print(f"Estimated LOC savings: {summary.get('estimated_loc_savings', 0)}")
    ðŸ’¡ Consider using logging module for better control

  Line 246: [print-statement] Using print() instead of logging
    Code: print("\nTop 5 duplication groups by potential savings:")
    ðŸ’¡ Consider using logging module for better control

  Line 248: [print-statement] Using print() instead of logging
    Code: print(f"  {i}. Group with {group.get('instance_count', 0)} instances "
                          f"(
    ðŸ’¡ Consider using logging module for better control

  Line 250: [print-statement] Using print() instead of logging
    Code: print(f"     Potential LOC savings: {group.get('potential_loc_savings', 0)} lines")
    ðŸ’¡ Consider using logging module for better control

  Line 253: [print-statement] Using print() instead of logging
    Code: print("     Locations:")
    ðŸ’¡ Consider using logging module for better control

  Line 255: [print-statement] Using print() instead of logging
    Code: print(f"       - {inst.get('file', 'unknown')}:{inst.get('start_line', '?')}")
    ðŸ’¡ Consider using logging module for better control

  Line 257: [print-statement] Using print() instead of logging
    Code: print(f"Error: {result.get('error')}")
    ðŸ’¡ Consider using logging module for better control

  Line 259: [print-statement] Using print() instead of logging
    Code: print(f"Exception during duplication analysis: {e}")
    ðŸ’¡ Consider using logging module for better control

  Line 264: [missing-docstring] Function missing docstring
    Code: def generate_summary_report():
    """Generate comprehensive quality report."""
    print_section("P
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 279: [print-statement] Using print() instead of logging
    Code: print("\nQuality report generated successfully!")
    ðŸ’¡ Consider using logging module for better control

  Line 285: [print-statement] Using print() instead of logging
    Code: print(f"Report saved to: {report_file.absolute()}")
    ðŸ’¡ Consider using logging module for better control

  Line 288: [print-statement] Using print() instead of logging
    Code: print("\nReport Summary:")
    ðŸ’¡ Consider using logging module for better control

  Line 295: [print-statement] Using print() instead of logging
    Code: print(line)
    ðŸ’¡ Consider using logging module for better control

  Line 299: [print-statement] Using print() instead of logging
    Code: print(f"Error: {result.get('error')}")
    ðŸ’¡ Consider using logging module for better control

  Line 301: [print-statement] Using print() instead of logging
    Code: print(f"Exception during report generation: {e}")
    ðŸ’¡ Consider using logging module for better control

  Line 306: [missing-docstring] Function missing docstring
    Code: def main():
    """Run all analyses."""
    print("="*80)
    print(" COMPREHENSIVE CODEBASE ANALYSI
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 308: [print-statement] Using print() instead of logging
    Code: print("="*80)
    ðŸ’¡ Consider using logging module for better control

  Line 309: [print-statement] Using print() instead of logging
    Code: print(" COMPREHENSIVE CODEBASE ANALYSIS - ast-grep-mcp")
    ðŸ’¡ Consider using logging module for better control

  Line 310: [print-statement] Using print() instead of logging
    Code: print("="*80)
    ðŸ’¡ Consider using logging module for better control

  Line 311: [print-statement] Using print() instead of logging
    Code: print("\nThis analysis uses all 30 MCP tools to evaluate code quality,")
    ðŸ’¡ Consider using logging module for better control

  Line 312: [print-statement] Using print() instead of logging
    Code: print("complexity, security, and duplication opportunities.\n")
    ðŸ’¡ Consider using logging module for better control

  Line 323: [print-statement] Using print() instead of logging
    Code: print("\nAll phases completed. Review the output above and QUALITY_REPORT.md")
    ðŸ’¡ Consider using logging module for better control

  Line 324: [print-statement] Using print() instead of logging
    Code: print("for detailed findings and recommendations.")
    ðŸ’¡ Consider using logging module for better control

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/analyze_analyticsbot.py
--------------------------------------------------------------------------------
  Line 17: [missing-docstring] Function missing docstring
    Code: def analyze_project(project_path: str):
    """Run comprehensive analysis on AnalyticsBot."""

    c
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/analyze_violations.py
--------------------------------------------------------------------------------
  Line 89: [missing-docstring] Function missing docstring
    Code: def scan_all_functions(project_root: Path):
    """Scan all Python files and functions."""
    src_p
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 110: [missing-docstring] Function missing docstring
    Code: def main():
    project_root = Path.cwd()
    all_functions = scan_all_functions(project_root)

    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 159: [print-statement] Using print() instead of logging
    Code: print(f"Found {len(violations)} violations:\n")
    ðŸ’¡ Consider using logging module for better control

  Line 162: [print-statement] Using print() instead of logging
    Code: print(f"{i:2d}. {v['path']}:{v['function']}")
    ðŸ’¡ Consider using logging module for better control

  Line 163: [print-statement] Using print() instead of logging
    Code: print(f"    Violations: {', '.join(v['reasons'])}")
    ðŸ’¡ Consider using logging module for better control

  Line 164: [print-statement] Using print() instead of logging
    Code: print(f"    Metrics: cyc={v['metrics']['cyclomatic']}, "
              f"cog={v['metrics']['cognitiv
    ðŸ’¡ Consider using logging module for better control

  Line 168: [print-statement] Using print() instead of logging
    Code: print()
    ðŸ’¡ Consider using logging module for better control

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/benchmark_batch_coverage.py
--------------------------------------------------------------------------------
  Line 250: [missing-docstring] Function missing docstring
    Code: def main():
    """Main benchmark runner."""
    parser = argparse.ArgumentParser(
        descripti
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/benchmark_parallel_enrichment.py
--------------------------------------------------------------------------------
  Line 26: [missing-docstring] Function missing docstring
    Code: def benchmark_enrichment():
    """Benchmark parallel vs sequential enrichment."""
    from ast_grep
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/fix_import_orphans.py
--------------------------------------------------------------------------------
  Line 10: [missing-docstring] Function missing docstring
    Code: def find_orphaned_imports(lines):
    """Find lines that are orphaned from old import blocks."""

  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 67: [missing-docstring] Function missing docstring
    Code: def remove_orphaned_lines(filepath: Path):
    """Remove orphaned import lines from file."""
    wit
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 103: [missing-docstring] Function missing docstring
    Code: def check_syntax(filepath: Path):
    """Check if file has valid Python syntax."""
    result = subp
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 113: [missing-docstring] Function missing docstring
    Code: def main():
    """Fix all test files with orphaned imports."""
    error_files = [
        'tests/u
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/fix_imports.py
--------------------------------------------------------------------------------
  Line 75: [missing-docstring] Function missing docstring
    Code: def main():
    project_root = Path(__file__).parent.parent

    # Fix all files
    fixed_count = 0
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 90: [print-statement] Using print() instead of logging
    Code: print(f"Fixed: {file_path.name}")
    ðŸ’¡ Consider using logging module for better control

  Line 92: [print-statement] Using print() instead of logging
    Code: print(f"\nFixed {fixed_count} files")
    ðŸ’¡ Consider using logging module for better control

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/fix_migration_errors.py
--------------------------------------------------------------------------------
  Line 69: [missing-docstring] Function missing docstring
    Code: def main():
    """Fix all files with syntax errors."""
    test_files = [
        'tests/unit/test_
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/list_complexity_violations.py
--------------------------------------------------------------------------------
  Line 43: [print-statement] Using print() instead of logging
    Code: print(f"Error processing {py_file}: {e}", file=sys.stderr)
    ðŸ’¡ Consider using logging module for better control

  Line 48: [missing-docstring] Function missing docstring
    Code: def main():
    project_root = Path(__file__).parent.parent
    all_functions = scan_all_python_file
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 53: [print-statement] Using print() instead of logging
    Code: print(f"Scanning {len(all_functions)} functions...", file=sys.stderr)
    ðŸ’¡ Consider using logging module for better control

  Line 106: [print-statement] Using print() instead of logging
    Code: print(
        f"\n{'='*80}\nFound {len(violations)} functions exceeding CRITICAL thresholds\n{'='*8
    ðŸ’¡ Consider using logging module for better control

  Line 111: [print-statement] Using print() instead of logging
    Code: print(f"{i:2d}. {v['file']}:{v['function']}")
    ðŸ’¡ Consider using logging module for better control

  Line 112: [print-statement] Using print() instead of logging
    Code: print(f"    {v['violations']}")
    ðŸ’¡ Consider using logging module for better control

  Line 113: [print-statement] Using print() instead of logging
    Code: print()
    ðŸ’¡ Consider using logging module for better control

  Line 115: [print-statement] Using print() instead of logging
    Code: print(f"\nTotal: {len(violations)} functions need refactoring")
    ðŸ’¡ Consider using logging module for better control

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/migrate_print_to_logger.py
--------------------------------------------------------------------------------
  Line 44: [missing-docstring] Function missing docstring
    Code: def __init__(self, dry_run: bool = True, backup: bool = False):
        """Initialize migrator.

   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 355: [missing-docstring] Function missing docstring
    Code: def main():
    """Main entry point."""
    parser = argparse.ArgumentParser(
        description='M
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/migrate_prints_smart.py
--------------------------------------------------------------------------------
  Line 189: [missing-docstring] Function missing docstring
    Code: def migrate_directory(dir_path: Path, pattern: str = '**/*.py', dry_run: bool = True):
    """Migrat
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 220: [missing-docstring] Function missing docstring
    Code: def main():
    import argparse

    parser = argparse.ArgumentParser(description='Smart console.bla
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 314: [print-statement] Using print() instead of logging
    Code: print(f"TOTAL: {total_migrations} console.blank() statements migrated")
    ðŸ’¡ Consider using logging module for better control

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/scripts/schema-graph-builder.py
--------------------------------------------------------------------------------
  Line 46: [missing-docstring] Function missing docstring
    Code: def __init__(self, base_url: str, project_name: Optional[str] = None):
        self.base_url = base_
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 734: [print-statement] Using print() instead of logging
    Code: print(f"\n{json.dumps(summary, indent=2)}")
    ðŸ’¡ Consider using logging module for better control

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/src/ast_grep_mcp/core/usage_tracking.py
--------------------------------------------------------------------------------
  Line 257: [missing-docstring] Function missing docstring
    Code: def __init__(self, db_path: Optional[str] = None):
        """Initialize the database.

        Args
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/src/ast_grep_mcp/utils/console_logger.py
--------------------------------------------------------------------------------
  Line 82: [print-statement] Using print() instead of logging
    Code: print(message, **kwargs)
    ðŸ’¡ Consider using logging module for better control

  Line 105: [print-statement] Using print() instead of logging
    Code: print(f"[DEBUG] {message}", **kwargs)
    ðŸ’¡ Consider using logging module for better control

  Line 115: [print-statement] Using print() instead of logging
    Code: print(f"âœ“ {message}", **kwargs)
    ðŸ’¡ Consider using logging module for better control

  Line 126: [print-statement] Using print() instead of logging
    Code: print(f"ERROR: {message}", file=sys.stderr, **kwargs)
    ðŸ’¡ Consider using logging module for better control

  Line 137: [print-statement] Using print() instead of logging
    Code: print(f"WARNING: {message}", file=sys.stderr, **kwargs)
    ðŸ’¡ Consider using logging module for better control

  Line 150: [print-statement] Using print() instead of logging
    Code: print(json.dumps(data, indent=indent), **kwargs)
    ðŸ’¡ Consider using logging module for better control

  Line 161: [print-statement] Using print() instead of logging
    Code: print(char * length, **kwargs)
    ðŸ’¡ Consider using logging module for better control

  Line 172: [print-statement] Using print() instead of logging
    Code: print(message, **kwargs)
    ðŸ’¡ Consider using logging module for better control

  Line 183: [print-statement] Using print() instead of logging
    Code: print()
    ðŸ’¡ Consider using logging module for better control

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/conftest.py
--------------------------------------------------------------------------------
  Line 24: [missing-docstring] Function missing docstring
    Code: def clean_cache():
    """Clear the query cache before each test to avoid interference.

    This fi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 39: [missing-docstring] Function missing docstring
    Code: def query_cache():
    """Provide a fresh query cache instance.

    Returns:
        QueryCache ins
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 167: [missing-docstring] Function missing docstring
    Code: def mock_mcp_instance():
    """Provide a mock MCP server instance for testing tools.

    Returns:

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 176: [missing-docstring] Function missing docstring
    Code: def __init__(self):
            self.tools = {}
            self._resources = []
            self._p
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 181: [missing-docstring] Function missing docstring
    Code: def tool(self):
            """Decorator for registering tools."""
            def decorator(func):

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 183: [missing-docstring] Function missing docstring
    Code: def decorator(func):
                self.tools[func.__name__] = func
                return func
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 188: [missing-docstring] Function missing docstring
    Code: def resource(self, uri: str):
            """Decorator for registering resources."""
            def
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 190: [missing-docstring] Function missing docstring
    Code: def decorator(func):
                self._resources.append((uri, func))
                return func
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 195: [missing-docstring] Function missing docstring
    Code: def prompt(self):
            """Decorator for registering prompts."""
            def decorator(fun
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 197: [missing-docstring] Function missing docstring
    Code: def decorator(func):
                self._prompts.append(func)
                return func
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 210: [missing-docstring] Function missing docstring
    Code: def create_test_file(temp_dir):
    """Factory fixture for creating test files.

    Args:
        t
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 281: [missing-docstring] Function missing docstring
    Code: def mock_schema_client():
    """Provide a mock Schema.org client for testing.

    Returns:
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 289: [missing-docstring] Function missing docstring
    Code: def __init__(self):
            self.types = {
                "Thing": {
                    "label
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 316: [missing-docstring] Function missing docstring
    Code: def reset_module_state():
    """Reset module-level state between tests (auto-used).

    This fixtu
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 334: [missing-docstring] Function missing docstring
    Code: def language(request):
    """Parametrize tests across all supported languages.

    Usage:
        
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 349: [missing-docstring] Function missing docstring
    Code: def similarity_threshold(request):
    """Parametrize tests across common similarity thresholds."""

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 356: [missing-docstring] Function missing docstring
    Code: def duplication_detector():
    """Provide DuplicationDetector instance."""
    from ast_grep_mcp.fe
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 363: [missing-docstring] Function missing docstring
    Code: def pattern_analyzer():
    """Provide PatternAnalyzer instance."""
    from ast_grep_mcp.features.d
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 370: [missing-docstring] Function missing docstring
    Code: def code_generator():
    """Provide CodeGenerator instance."""
    from ast_grep_mcp.features.dedup
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 377: [missing-docstring] Function missing docstring
    Code: def duplication_ranker():
    """Provide DuplicationRanker instance."""
    from ast_grep_mcp.featur
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 384: [missing-docstring] Function missing docstring
    Code: def recommendation_engine():
    """Provide RecommendationEngine instance."""
    from ast_grep_mcp.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 395: [missing-docstring] Function missing docstring
    Code: def initialized_cache():
    """Provide initialized cache for testing.

    Automatically resets cac
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 431: [missing-docstring] Function missing docstring
    Code: def temp_project_with_files(temp_dir):
    """Create temp project with common sample files.

    Cre
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 507: [missing-docstring] Function missing docstring
    Code: def mcp_tools():
    """Provide easy access to MCP tools from modular architecture.

    Returns acc
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 584: [missing-docstring] Function missing docstring
    Code: def get_tool(tool_name: str):
        """Get tool by name, with helpful error if not found.

       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 612: [missing-docstring] Function missing docstring
    Code: def mock_ast_grep_process():
    """Provide mock subprocess for ast-grep execution.

    Returns a c
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 671: [missing-docstring] Function missing docstring
    Code: def sample_complexity_thresholds():
    """Provide standard complexity thresholds for testing.

    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 743: [missing-docstring] Function missing docstring
    Code: def sample_linting_rule():
    """Provide sample linting rule for testing.

    Returns a basic Lint
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 799: [missing-docstring] Function missing docstring
    Code: def backup_dir(temp_dir):
    """Provide backup directory for testing.

    Creates a temporary back
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1044: [missing-docstring] Function missing docstring
    Code: def rewrite_sample_file(temp_dir):
    """Create a sample Python file for rewrite testing.

    Crea
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1069: [missing-docstring] Function missing docstring
    Code: def rewrite_tools(mcp_tools):
    """Provide easy access to rewrite MCP tools.

    Returns a dict w
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1093: [missing-docstring] Function missing docstring
    Code: def rewrite_test_files(temp_dir):
    """Create multiple test files for backup/restore testing.

   
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_benchmark.py
--------------------------------------------------------------------------------
  Line 37: [missing-docstring] Function missing docstring
    Code: def __init__(self, name: str):
        self.name = name
        self.tools: Dict[str, Any] = {}
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 94: [missing-docstring] Function missing docstring
    Code: def __init__(
        self,
        name: str,
        execution_time: float,
        memory_mb: flo
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 131: [missing-docstring] Function missing docstring
    Code: def __init__(self, baseline_file: str = "tests/benchmark_baseline.json"):
        self.baseline_file
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 531: [missing-docstring] Function missing docstring
    Code: def __init__(
        self,
        name: str,
        times: List[float],
        iterations: int
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 568: [missing-docstring] Function missing docstring
    Code: def __init__(self, baseline_file: str = "tests/dedup_benchmark_baseline.json"):
        self.baselin
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_rename_symbol_integration.py
--------------------------------------------------------------------------------
  Line 16: [missing-docstring] Function missing docstring
    Code: def ast_grep_available():
    """Check if ast-grep binary is available."""
    try:
        result =
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 37: [missing-docstring] Function missing docstring
    Code: def temp_project(tmp_path):
    """Create a temporary Python project for testing."""
    project_dir
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 69: [missing-docstring] Function missing docstring
    Code: def temp_ts_project(tmp_path):
    """Create a temporary TypeScript project for testing."""
    proj
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 103: [missing-docstring] Function missing docstring
    Code: def test_find_python_symbol_references(self, temp_project):
        """Test finding symbol reference
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 123: [missing-docstring] Function missing docstring
    Code: def test_find_typescript_symbol_references(self, temp_ts_project):
        """Test finding symbol re
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 140: [missing-docstring] Function missing docstring
    Code: def test_file_filter(self, temp_project):
        """Test file filtering during symbol search."""
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 155: [missing-docstring] Function missing docstring
    Code: def test_reference_classification(self, temp_project):
        """Test that references are correctly
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 173: [missing-docstring] Function missing docstring
    Code: def test_scope_tree_building(self, temp_project):
        """Test scope tree building for Python fil
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 200: [missing-docstring] Function missing docstring
    Code: def test_dry_run_rename(self, temp_project):
        """Test dry-run mode with real ast-grep."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 218: [missing-docstring] Function missing docstring
    Code: def test_apply_rename_single_file(self, temp_project):
        """Test actually applying a rename to
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 246: [missing-docstring] Function missing docstring
    Code: def test_multi_file_rename(self, temp_ts_project):
        """Test renaming across multiple files.""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 270: [missing-docstring] Function missing docstring
    Code: def test_word_boundary_replacement(self, temp_project):
        """Test that word boundaries are res
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 302: [missing-docstring] Function missing docstring
    Code: def test_conflict_detection(self, temp_project):
        """Test that naming conflicts are detected.
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/integration/test_semantic_integration.py
--------------------------------------------------------------------------------
  Line 29: [missing-docstring] Function missing docstring
    Code: def semantic_calculator():
    """Create a SemanticSimilarity instance with loaded model."""
    if 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 49: [missing-docstring] Function missing docstring
    Code: def hybrid_calculator_with_semantic():
    """Create a HybridSimilarity instance with semantic enabl
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 70: [missing-docstring] Function missing docstring
    Code: def test_model_loads_successfully(self, semantic_calculator):
        """Test that the CodeBERT mode
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 80: [missing-docstring] Function missing docstring
    Code: def test_identical_code_perfect_similarity(self, semantic_calculator):
        """Test that identica
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 92: [missing-docstring] Function missing docstring
    Code: def test_semantically_similar_code_high_score(self, semantic_calculator):
        """Test that seman
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 111: [missing-docstring] Function missing docstring
    Code: def test_different_functionality_lower_score(self, semantic_calculator):
        """Test that functi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 128: [missing-docstring] Function missing docstring
    Code: def test_embedding_caching_works(self, semantic_calculator):
        """Test that embedding caching 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 145: [missing-docstring] Function missing docstring
    Code: def test_detailed_result_contains_all_fields(self, semantic_calculator):
        """Test that detail
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 167: [missing-docstring] Function missing docstring
    Code: def test_three_stage_pipeline_works(self, hybrid_calculator_with_semantic):
        """Test that thr
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 198: [missing-docstring] Function missing docstring
    Code: def test_early_exit_skips_semantic(self, hybrid_calculator_with_semantic):
        """Test that earl
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 217: [missing-docstring] Function missing docstring
    Code: def test_semantic_weight_affects_result(self, hybrid_calculator_with_semantic):
        """Test that
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 251: [missing-docstring] Function missing docstring
    Code: def test_loop_vs_comprehension(self, semantic_calculator):
        """Test detection of loop vs list
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 268: [missing-docstring] Function missing docstring
    Code: def test_recursive_vs_iterative(self, semantic_calculator):
        """Test detection of recursive v
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 287: [missing-docstring] Function missing docstring
    Code: def test_different_algorithms_same_result(self, semantic_calculator):
        """Test detection of d
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/performance/test_minhash_performance.py
--------------------------------------------------------------------------------
  Line 43: [print-statement] Using print() instead of logging
    Code: print(f"\nSmall code comparison: {avg_ms:.3f}ms per pair")
    ðŸ’¡ Consider using logging module for better control

  Line 79: [print-statement] Using print() instead of logging
    Code: print(f"\nMedium code comparison: {avg_ms:.3f}ms per pair")
    ðŸ’¡ Consider using logging module for better control

  Line 102: [print-statement] Using print() instead of logging
    Code: print(f"\nLarge code comparison: {avg_ms:.3f}ms per pair")
    ðŸ’¡ Consider using logging module for better control

  Line 132: [print-statement] Using print() instead of logging
    Code: print(f"\nLarge scale (502 items): {elapsed:.2f}s")
    ðŸ’¡ Consider using logging module for better control

  Line 133: [print-statement] Using print() instead of logging
    Code: print(f"Found {len(pairs)} similar pairs")
    ðŸ’¡ Consider using logging module for better control

  Line 164: [print-statement] Using print() instead of logging
    Code: print(f"\nMinHash (with fallback): {minhash_time:.3f}s for 1000 iterations")
    ðŸ’¡ Consider using logging module for better control

  Line 165: [print-statement] Using print() instead of logging
    Code: print(f"Pure SequenceMatcher: {seq_time:.3f}s for 1000 iterations")
    ðŸ’¡ Consider using logging module for better control

  Line 166: [print-statement] Using print() instead of logging
    Code: print(f"Overhead ratio: {minhash_time/seq_time:.2f}x")
    ðŸ’¡ Consider using logging module for better control

  Line 212: [print-statement] Using print() instead of logging
    Code: print(f"\nCold cache (100 iterations): {cold_time:.3f}s")
    ðŸ’¡ Consider using logging module for better control

  Line 213: [print-statement] Using print() instead of logging
    Code: print(f"Warm cache (100 iterations): {warm_time:.3f}s")
    ðŸ’¡ Consider using logging module for better control

  Line 214: [print-statement] Using print() instead of logging
    Code: print(f"Cache speedup: {cold_time/warm_time:.2f}x")
    ðŸ’¡ Consider using logging module for better control

  Line 240: [print-statement] Using print() instead of logging
    Code: print(f"\nLSH index build (1000 items): {elapsed:.2f}s")
    ðŸ’¡ Consider using logging module for better control

  Line 269: [print-statement] Using print() instead of logging
    Code: print(f"\nLSH query: {avg_ms:.3f}ms per query")
    ðŸ’¡ Consider using logging module for better control

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/quality/test_complexity_regression.py
--------------------------------------------------------------------------------
  Line 261: [missing-docstring] Function missing docstring
    Code: def test_function_complexity_thresholds(
        self, project_root: Path, func_spec: dict
    ):
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 296: [missing-docstring] Function missing docstring
    Code: def test_all_refactored_functions_exist(self, project_root: Path):
        """Verify that all critic
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 319: [missing-docstring] Function missing docstring
    Code: def test_phase1_refactoring_impact(self, project_root: Path):
        """Verify the overall impact o
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 400: [missing-docstring] Function missing docstring
    Code: def test_no_functions_exceed_critical_thresholds(self, project_root: Path):
        """
        Ensu
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 474: [missing-docstring] Function missing docstring
    Code: def test_codebase_health_metrics(self, project_root: Path):
        """
        Track overall codeba
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 550: [print-statement] Using print() instead of logging
    Code: print(health_report)
    ðŸ’¡ Consider using logging module for better control

  Line 578: [print-statement] Using print() instead of logging
    Code: print(warning_msg)
    ðŸ’¡ Consider using logging module for better control

  Line 580: [missing-docstring] Function missing docstring
    Code: def test_no_extremely_complex_functions(self, project_root: Path):
        """Ensure no function has
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/scripts/benchmark_fixtures.py
--------------------------------------------------------------------------------
  Line 41: [missing-docstring] Function missing docstring
    Code: def __init__(self, root: Path):
        self.root = root
        self.threshold_ms = 100.0  # 100ms 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 237: [missing-docstring] Function missing docstring
    Code: def main():
    parser = argparse.ArgumentParser(description="Benchmark fixture performance")
    pa
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/scripts/detect_fixture_patterns.py
--------------------------------------------------------------------------------
  Line 53: [missing-docstring] Function missing docstring
    Code: def __init__(self, root: Path, threshold: int = 3):
        self.root = root
        self.threshold 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 418: [missing-docstring] Function missing docstring
    Code: def main():
    parser = argparse.ArgumentParser(description="Detect common patterns for fixtures")

    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/scripts/score_test_file.py
--------------------------------------------------------------------------------
  Line 60: [missing-docstring] Function missing docstring
    Code: def __init__(self, file_path: Path):
        self.file_path = file_path
        self.content = file_
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 464: [missing-docstring] Function missing docstring
    Code: def main():
    parser = argparse.ArgumentParser(description="Score test files for fixture migration
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/scripts/track_fixture_metrics.py
--------------------------------------------------------------------------------
  Line 62: [missing-docstring] Function missing docstring
    Code: def __init__(self, root: Path):
        self.root = root
        self.test_files: List[Path] = []
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 227: [missing-docstring] Function missing docstring
    Code: def save_metrics_history(metrics: AdoptionMetrics, history_file: Path):
    """Append metrics to his
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 344: [missing-docstring] Function missing docstring
    Code: def main():
    parser = argparse.ArgumentParser(description="Track fixture adoption metrics")
    p
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/scripts/validate_refactoring.py
--------------------------------------------------------------------------------
  Line 46: [missing-docstring] Function missing docstring
    Code: def __init__(self, test_file: Path, baseline: Optional[Dict] = None):
        self.test_file = test_
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 300: [missing-docstring] Function missing docstring
    Code: def main():
    parser = argparse.ArgumentParser(description="Validate refactored test file")
    pa
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/conftest.py
--------------------------------------------------------------------------------
  Line 51: [missing-docstring] Function missing docstring
    Code: def mcp_main():
    """Initialize MCP tools using the modular architecture.

    This fixture sets u
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 126: [missing-docstring] Function missing docstring
    Code: def apply_deduplication_tool(mcp_main):
    """Get apply_deduplication tool function."""
    tool = 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 134: [missing-docstring] Function missing docstring
    Code: def find_duplication_tool(mcp_main):
    """Get find_duplication tool function."""
    tool = mcp_ma
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 142: [missing-docstring] Function missing docstring
    Code: def analyze_deduplication_candidates_tool(mcp_main):
    """Get analyze_deduplication_candidates too
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 150: [missing-docstring] Function missing docstring
    Code: def benchmark_deduplication_tool(mcp_main):
    """Get benchmark_deduplication tool function."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 158: [missing-docstring] Function missing docstring
    Code: def rewrite_code_tool(mcp_main):
    """Get rewrite_code tool function."""
    tool = mcp_main.mcp.t
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 166: [missing-docstring] Function missing docstring
    Code: def schema_client():
    """Create a fresh SchemaOrgClient instance for testing."""
    from ast_gre
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 173: [missing-docstring] Function missing docstring
    Code: def enforce_standards_tool(mcp_main):
    """Get enforce_standards tool function."""
    tool = mcp_
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 181: [missing-docstring] Function missing docstring
    Code: def list_backups_tool(mcp_main):
    """Get list_backups tool function."""
    tool = mcp_main.mcp.t
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 189: [missing-docstring] Function missing docstring
    Code: def rollback_rewrite_tool(mcp_main):
    """Get rollback_rewrite tool function."""
    tool = mcp_ma
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 197: [missing-docstring] Function missing docstring
    Code: def analyze_complexity_tool(mcp_main):
    """Get analyze_complexity tool function."""
    tool = mc
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 205: [missing-docstring] Function missing docstring
    Code: def test_sentry_integration_tool(mcp_main):
    """Get test_sentry_integration tool function."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 215: [missing-docstring] Function missing docstring
    Code: def project_folder(tmp_path):
    """Temporary project folder for testing.

    Uses pytest's tmp_pa
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 228: [missing-docstring] Function missing docstring
    Code: def simple_test_files(project_folder):
    """Create simple test files for basic testing.

    Creat
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 253: [missing-docstring] Function missing docstring
    Code: def backup_test_files(project_folder):
    """Create test files with original content tracking for b
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 286: [missing-docstring] Function missing docstring
    Code: def orchestration_test_files(project_folder):
    """Create test files in subdirectory with complex 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 326: [missing-docstring] Function missing docstring
    Code: def refactoring_plan_factory():
    """Factory for creating refactoring plans with various configura
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 397: [missing-docstring] Function missing docstring
    Code: def batch_search_tool(mcp_main):
    """Get batch_search tool function."""
    tool = mcp_main.mcp.t
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 405: [missing-docstring] Function missing docstring
    Code: def find_code_tool(mcp_main):
    """Get find_code tool function."""
    tool = mcp_main.mcp.tools.g
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 413: [missing-docstring] Function missing docstring
    Code: def find_code_by_rule_tool(mcp_main):
    """Get find_code_by_rule tool function."""
    tool = mcp_
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 423: [missing-docstring] Function missing docstring
    Code: def match_factory():
    """Factory for creating ast-grep match dictionaries.

    Returns:
        
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 466: [missing-docstring] Function missing docstring
    Code: def query_factory():
    """Factory for creating batch search query dictionaries.

    Returns:
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 507: [missing-docstring] Function missing docstring
    Code: def yaml_rule_factory():
    """Factory for creating YAML rule strings.

    Returns:
        functi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 555: [missing-docstring] Function missing docstring
    Code: def rule_violation_factory():
    """Factory for creating RuleViolation instances.

    Requires imp
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 611: [missing-docstring] Function missing docstring
    Code: def linting_rule_factory():
    """Factory for creating LintingRule dictionaries.

    Returns:
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 661: [missing-docstring] Function missing docstring
    Code: def mock_popen_factory():
    """Factory for creating Mock Popen process objects.

    Returns:
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 713: [missing-docstring] Function missing docstring
    Code: def mock_httpx_client():
    """Pre-configured AsyncMock for httpx client.

    Returns:
        Asy
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 743: [missing-docstring] Function missing docstring
    Code: def reset_cache(mcp_main):
    """Auto-reset cache before each test.

    This fixture automatically
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 765: [missing-docstring] Function missing docstring
    Code: def reset_schema_client(mcp_main):
    """Auto-reset Schema.org client before each test.

    This f
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/features/cross_language/test_cross_language.py
--------------------------------------------------------------------------------
  Line 64: [missing-docstring] Function missing docstring
    Code: def test_pattern_database_not_empty(self):
        """Test pattern database has entries."""
        
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 68: [missing-docstring] Function missing docstring
    Code: def test_get_pattern_existing(self):
        """Test getting existing pattern."""
        pattern = 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 75: [missing-docstring] Function missing docstring
    Code: def test_get_pattern_nonexistent(self):
        """Test getting non-existent pattern."""
        pat
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 80: [missing-docstring] Function missing docstring
    Code: def test_search_patterns_by_concept(self):
        """Test searching patterns by concept."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 86: [missing-docstring] Function missing docstring
    Code: def test_search_patterns_by_category(self):
        """Test searching patterns with category filter.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 93: [missing-docstring] Function missing docstring
    Code: def test_get_equivalents(self):
        """Test getting pattern equivalents."""
        equiv = get_
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 100: [missing-docstring] Function missing docstring
    Code: def test_get_equivalents_with_target_languages(self):
        """Test getting equivalents filtered b
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 110: [missing-docstring] Function missing docstring
    Code: def test_get_type_mapping_python_to_typescript(self):
        """Test type mapping Python to TypeScr
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 117: [missing-docstring] Function missing docstring
    Code: def test_get_type_mapping_nonexistent(self):
        """Test type mapping for unsupported pair."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 130: [missing-docstring] Function missing docstring
    Code: def test_find_language_equivalents_basic(self):
        """Test basic pattern equivalence lookup."""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 139: [missing-docstring] Function missing docstring
    Code: def test_find_language_equivalents_with_source(self):
        """Test equivalence lookup with source
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 147: [missing-docstring] Function missing docstring
    Code: def test_find_language_equivalents_with_targets(self):
        """Test equivalence lookup with targe
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 156: [missing-docstring] Function missing docstring
    Code: def test_find_language_equivalents_no_match(self):
        """Test equivalence lookup with no matchi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 164: [missing-docstring] Function missing docstring
    Code: def test_list_pattern_categories(self):
        """Test listing pattern categories."""
        categ
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 173: [missing-docstring] Function missing docstring
    Code: def test_get_pattern_details(self):
        """Test getting pattern details."""
        details = ge
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 189: [missing-docstring] Function missing docstring
    Code: def test_convert_python_to_typescript_function(self):
        """Test converting Python function to 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 205: [missing-docstring] Function missing docstring
    Code: def test_convert_python_to_typescript_class(self):
        """Test converting Python class to TypeSc
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 221: [missing-docstring] Function missing docstring
    Code: def test_convert_javascript_to_python_function(self):
        """Test converting JavaScript function
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 237: [missing-docstring] Function missing docstring
    Code: def test_convert_with_type_mappings(self):
        """Test conversion includes type mappings."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 248: [missing-docstring] Function missing docstring
    Code: def test_convert_unsupported_pair(self):
        """Test conversion with unsupported language pair."
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 258: [missing-docstring] Function missing docstring
    Code: def test_convert_with_warnings(self):
        """Test conversion generates warnings for complex patt
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 274: [missing-docstring] Function missing docstring
    Code: def test_convert_boolean_values(self):
        """Test boolean value conversion."""
        python_c
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 285: [missing-docstring] Function missing docstring
    Code: def test_apply_patterns_function(self):
        """Test pattern application helper."""
        code 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 300: [missing-docstring] Function missing docstring
    Code: def test_detect_languages(self):
        """Test language detection in a project."""
        with te
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 313: [missing-docstring] Function missing docstring
    Code: def test_parse_semantic_query_async(self):
        """Test semantic query parsing for async."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 318: [missing-docstring] Function missing docstring
    Code: def test_parse_semantic_query_class(self):
        """Test semantic query parsing for class."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 324: [missing-docstring] Function missing docstring
    Code: def test_parse_semantic_query_try_catch(self):
        """Test semantic query parsing for error hand
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 329: [missing-docstring] Function missing docstring
    Code: def test_parse_semantic_query_default(self):
        """Test semantic query parsing default to funct
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 335: [missing-docstring] Function missing docstring
    Code: def test_search_multi_language_basic(self, mock_run):
        """Test basic multi-language search.""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 354: [missing-docstring] Function missing docstring
    Code: def test_search_multi_language_invalid_folder(self):
        """Test search with invalid folder."""

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 363: [missing-docstring] Function missing docstring
    Code: def test_search_multi_language_no_supported_languages(self):
        """Test search returns empty wh
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 382: [missing-docstring] Function missing docstring
    Code: def test_find_symbol_occurrences(self):
        """Test finding symbol occurrences in a file."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 394: [missing-docstring] Function missing docstring
    Code: def test_create_rename_change(self):
        """Test creating a rename change."""
        change = _
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 409: [missing-docstring] Function missing docstring
    Code: def test_refactor_polyglot_dry_run(self):
        """Test polyglot refactoring in dry run mode."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 431: [missing-docstring] Function missing docstring
    Code: def test_refactor_polyglot_apply(self):
        """Test polyglot refactoring with actual application
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 452: [missing-docstring] Function missing docstring
    Code: def test_refactor_polyglot_invalid_type(self):
        """Test refactoring with invalid type."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 463: [missing-docstring] Function missing docstring
    Code: def test_refactor_polyglot_missing_new_name(self):
        """Test rename refactoring without new_na
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 482: [missing-docstring] Function missing docstring
    Code: def test_to_camel_case(self):
        """Test camelCase conversion."""
        assert _to_camel_case
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 488: [missing-docstring] Function missing docstring
    Code: def test_to_pascal_case(self):
        """Test PascalCase conversion."""
        assert _to_pascal_c
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 494: [missing-docstring] Function missing docstring
    Code: def test_parse_openapi_spec(self):
        """Test parsing OpenAPI specification."""
        spec = 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 527: [missing-docstring] Function missing docstring
    Code: def test_generate_language_bindings_python(self):
        """Test generating Python bindings."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 561: [missing-docstring] Function missing docstring
    Code: def test_generate_language_bindings_typescript(self):
        """Test generating TypeScript bindings
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 596: [missing-docstring] Function missing docstring
    Code: def test_generate_language_bindings_multiple(self):
        """Test generating bindings for multiple
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 620: [missing-docstring] Function missing docstring
    Code: def test_generate_language_bindings_invalid_file(self):
        """Test binding generation with inva
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 636: [missing-docstring] Function missing docstring
    Code: def test_conversion_style_enum(self):
        """Test ConversionStyle enum values."""
        assert
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 642: [missing-docstring] Function missing docstring
    Code: def test_refactoring_type_enum(self):
        """Test RefactoringType enum values."""
        assert
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 648: [missing-docstring] Function missing docstring
    Code: def test_supported_languages(self):
        """Test supported languages list."""
        assert "pyt
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 655: [missing-docstring] Function missing docstring
    Code: def test_supported_conversion_pairs(self):
        """Test supported conversion pairs."""
        as
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 669: [missing-docstring] Function missing docstring
    Code: def test_full_workflow_find_and_convert(self):
        """Test finding equivalents then converting c
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 686: [missing-docstring] Function missing docstring
    Code: def test_workflow_search_and_refactor(self):
        """Test searching then refactoring across langu
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_analysis_config.py
--------------------------------------------------------------------------------
  Line 14: [missing-docstring] Function missing docstring
    Code: def test_minimal_config(self):
        """Should create config with only required fields."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 32: [missing-docstring] Function missing docstring
    Code: def test_full_config(self):
        """Should create config with all fields specified."""
        de
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 34: [missing-docstring] Function missing docstring
    Code: def callback(stage, pct):
            pass
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 65: [missing-docstring] Function missing docstring
    Code: def test_invalid_min_similarity_too_low(self):
        """Should raise ValueError for min_similarity
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 74: [missing-docstring] Function missing docstring
    Code: def test_invalid_min_similarity_too_high(self):
        """Should raise ValueError for min_similarit
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 83: [missing-docstring] Function missing docstring
    Code: def test_valid_min_similarity_boundaries(self):
        """Should accept min_similarity at boundarie
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 99: [missing-docstring] Function missing docstring
    Code: def test_invalid_min_lines_zero(self):
        """Should raise ValueError for min_lines = 0."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 108: [missing-docstring] Function missing docstring
    Code: def test_invalid_min_lines_negative(self):
        """Should raise ValueError for min_lines < 0."""

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 117: [missing-docstring] Function missing docstring
    Code: def test_invalid_max_candidates_zero(self):
        """Should raise ValueError for max_candidates = 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 126: [missing-docstring] Function missing docstring
    Code: def test_invalid_max_candidates_negative(self):
        """Should raise ValueError for max_candidate
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 135: [missing-docstring] Function missing docstring
    Code: def test_invalid_max_workers_zero(self):
        """Should raise ValueError for max_workers = 0."""

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 144: [missing-docstring] Function missing docstring
    Code: def test_invalid_max_workers_negative(self):
        """Should raise ValueError for max_workers < 0.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 157: [missing-docstring] Function missing docstring
    Code: def test_exclude_patterns_none_normalized_to_empty_list(self):
        """Should normalize None excl
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 167: [missing-docstring] Function missing docstring
    Code: def test_exclude_patterns_empty_list_preserved(self):
        """Should preserve empty list for excl
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 176: [missing-docstring] Function missing docstring
    Code: def test_exclude_patterns_with_values_preserved(self):
        """Should preserve exclude_patterns w
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 190: [missing-docstring] Function missing docstring
    Code: def test_to_dict_minimal_config(self):
        """Should serialize minimal config to dict."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 212: [missing-docstring] Function missing docstring
    Code: def test_to_dict_full_config(self):
        """Should serialize full config to dict."""
        def 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 214: [missing-docstring] Function missing docstring
    Code: def callback(stage, pct):
            pass
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 245: [missing-docstring] Function missing docstring
    Code: def test_to_dict_excludes_callback_function(self):
        """Should not include progress_callback f
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 247: [missing-docstring] Function missing docstring
    Code: def callback(stage, pct):
            pass
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 267: [missing-docstring] Function missing docstring
    Code: def test_very_high_max_candidates(self):
        """Should accept very high max_candidates value."""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 276: [missing-docstring] Function missing docstring
    Code: def test_very_high_max_workers(self):
        """Should accept very high max_workers value."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 285: [missing-docstring] Function missing docstring
    Code: def test_many_exclude_patterns(self):
        """Should handle many exclude patterns."""
        pat
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 296: [missing-docstring] Function missing docstring
    Code: def test_unicode_in_project_path(self):
        """Should handle unicode characters in project path.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 304: [missing-docstring] Function missing docstring
    Code: def test_unicode_in_language(self):
        """Should handle unicode characters in language."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 316: [missing-docstring] Function missing docstring
    Code: def test_callback_invocation_tracking(self):
        """Should track callback invocations properly."
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 320: [missing-docstring] Function missing docstring
    Code: def callback(stage, pct):
            invocations.append((stage, pct))
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 339: [missing-docstring] Function missing docstring
    Code: def test_no_callback_none_check(self):
        """Should handle None callback gracefully."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_batch_coverage.py
--------------------------------------------------------------------------------
  Line 20: [missing-docstring] Function missing docstring
    Code: def temp_project(self):
        """Create a temporary project with test files."""
        with tempf
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 42: [missing-docstring] Function missing docstring
    Code: def detector(self):
        """Create a CoverageDetector instance."""
        return CoverageDetecto
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 46: [missing-docstring] Function missing docstring
    Code: def test_find_all_test_files_python(self, detector, temp_project):
        """Test finding all test 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 55: [missing-docstring] Function missing docstring
    Code: def test_find_all_test_files_empty_project(self, detector):
        """Test finding test files in em
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 62: [missing-docstring] Function missing docstring
    Code: def test_has_test_coverage_optimized_with_test(self, detector, temp_project):
        """Test optimi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 78: [missing-docstring] Function missing docstring
    Code: def test_has_test_coverage_optimized_without_test(self, detector, temp_project):
        """Test opt
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 94: [missing-docstring] Function missing docstring
    Code: def test_batch_coverage_sequential(self, detector, temp_project):
        """Test batch coverage det
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 115: [missing-docstring] Function missing docstring
    Code: def test_batch_coverage_parallel(self, detector, temp_project):
        """Test batch coverage detec
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 137: [missing-docstring] Function missing docstring
    Code: def test_batch_coverage_empty_list(self, detector):
        """Test batch coverage with empty file l
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 148: [missing-docstring] Function missing docstring
    Code: def test_batch_coverage_error_handling(self, detector, temp_project):
        """Test error handling
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 176: [missing-docstring] Function missing docstring
    Code: def detector(self):
        """Create a CoverageDetector instance."""
        return CoverageDetecto
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 180: [missing-docstring] Function missing docstring
    Code: def test_batch_sequential_equivalence(self, detector):
        """Test that batch and sequential pro
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 232: [missing-docstring] Function missing docstring
    Code: def mock_detector(self):
        """Create a mock CoverageDetector."""
        detector = Mock(spec=
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 244: [missing-docstring] Function missing docstring
    Code: def test_orchestrator_uses_batch_method(self, mock_detector):
        """Test that orchestrator uses
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 285: [missing-docstring] Function missing docstring
    Code: def test_orchestrator_deduplicates_files(self, mock_detector):
        """Test that orchestrator ded
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_code_smells.py
--------------------------------------------------------------------------------
  Line 19: [missing-docstring] Function missing docstring
    Code: def test_no_parameters(self):
        """Function with no parameters."""
        code = "def func():
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 26: [missing-docstring] Function missing docstring
    Code: def test_single_parameter(self):
        """Function with single parameter."""
        code = "def f
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 33: [missing-docstring] Function missing docstring
    Code: def test_multiple_parameters(self):
        """Function with multiple parameters."""
        code = 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 40: [missing-docstring] Function missing docstring
    Code: def test_self_excluded(self):
        """Self parameter should be excluded in Python."""
        cod
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 47: [missing-docstring] Function missing docstring
    Code: def test_cls_excluded(self):
        """Cls parameter should be excluded in Python."""
        code 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 54: [missing-docstring] Function missing docstring
    Code: def test_default_values(self):
        """Parameters with default values."""
        code = "def fun
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 61: [missing-docstring] Function missing docstring
    Code: def test_type_annotations(self):
        """Parameters with type annotations."""
        code = "def
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 68: [missing-docstring] Function missing docstring
    Code: def test_complex_types(self):
        """Parameters with complex type annotations."""
        code =
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 75: [missing-docstring] Function missing docstring
    Code: def test_async_function(self):
        """Async function parameters."""
        code = "async def fu
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 82: [missing-docstring] Function missing docstring
    Code: def test_javascript_function(self):
        """JavaScript function parameters."""
        code = "fu
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 89: [missing-docstring] Function missing docstring
    Code: def test_typescript_function(self):
        """TypeScript function with types."""
        code = "fu
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 96: [missing-docstring] Function missing docstring
    Code: def test_args_kwargs(self):
        """Args and kwargs."""
        code = "def func(a, *args, **kwar
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 108: [missing-docstring] Function missing docstring
    Code: def test_no_magic_numbers(self):
        """Code without magic numbers."""
        code = "x = 0\ny 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 116: [missing-docstring] Function missing docstring
    Code: def test_simple_magic_number(self):
        """Simple magic number detection."""
        code = "del
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 125: [missing-docstring] Function missing docstring
    Code: def test_allowed_values_excluded(self):
        """Common values should not be flagged."""
        c
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 133: [missing-docstring] Function missing docstring
    Code: def test_comments_excluded(self):
        """Numbers in comments should be excluded."""
        code
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 142: [missing-docstring] Function missing docstring
    Code: def test_float_magic_numbers(self):
        """Float magic numbers."""
        code = "rate = 0.15"

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 151: [missing-docstring] Function missing docstring
    Code: def test_multiple_on_same_line(self):
        """Multiple magic numbers on same line."""
        cod
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 160: [missing-docstring] Function missing docstring
    Code: def test_range_excluded(self):
        """Numbers in range() should be excluded."""
        code = "
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 173: [missing-docstring] Function missing docstring
    Code: def test_extract_simple_class(self):
        """Extract simple Python class."""
        with tempfil
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 197: [missing-docstring] Function missing docstring
    Code: def test_extract_no_classes(self):
        """File with no classes."""
        with tempfile.NamedTe
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 217: [missing-docstring] Function missing docstring
    Code: def test_long_function_detection(self):
        """Detect long function smell."""
        # This tes
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 227: [missing-docstring] Function missing docstring
    Code: def test_parameter_bloat_detection(self):
        """Detect parameter bloat smell."""
        code =
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 239: [missing-docstring] Function missing docstring
    Code: def test_empty_function(self):
        """Empty function should have 0 parameters."""
        code =
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 246: [missing-docstring] Function missing docstring
    Code: def test_lambda_not_counted(self):
        """Lambdas are not regular functions."""
        code = "
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 254: [missing-docstring] Function missing docstring
    Code: def test_nested_parentheses_in_params(self):
        """Handle nested parentheses in parameter types
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 261: [missing-docstring] Function missing docstring
    Code: def test_no_magic_in_strings(self):
        """Numbers in strings shouldn't be flagged."""
        c
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_complexity.py
--------------------------------------------------------------------------------
  Line 31: [missing-docstring] Function missing docstring
    Code: def test_simple_function(self):
        """Simple function with no branches should have complexity 1
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 40: [missing-docstring] Function missing docstring
    Code: def test_single_if(self):
        """Single if statement adds 1 to complexity."""
        code = """
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 51: [missing-docstring] Function missing docstring
    Code: def test_if_elif_else(self):
        """if-elif chain counts each branch."""
        code = """
def 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 65: [missing-docstring] Function missing docstring
    Code: def test_for_loop(self):
        """For loop adds 1 to complexity."""
        code = """
def func(it
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 75: [missing-docstring] Function missing docstring
    Code: def test_while_loop(self):
        """While loop adds 1 to complexity."""
        code = """
def fun
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 85: [missing-docstring] Function missing docstring
    Code: def test_logical_operators(self):
        """Logical operators add to complexity."""
        code = 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 97: [missing-docstring] Function missing docstring
    Code: def test_nested_branches(self):
        """Nested branches accumulate complexity."""
        code = 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 111: [missing-docstring] Function missing docstring
    Code: def test_exception_handling(self):
        """Exception handlers add complexity."""
        code = "
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 125: [missing-docstring] Function missing docstring
    Code: def test_with_statement(self):
        """With statement adds complexity."""
        code = """
def 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 135: [missing-docstring] Function missing docstring
    Code: def test_complex_function(self):
        """Complex function with multiple branches."""
        code
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 153: [missing-docstring] Function missing docstring
    Code: def test_typescript_if(self):
        """TypeScript if statement."""
        code = """
function fun
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 166: [missing-docstring] Function missing docstring
    Code: def test_typescript_logical_operators(self):
        """TypeScript logical operators."""
        cod
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 176: [missing-docstring] Function missing docstring
    Code: def test_javascript_switch(self):
        """JavaScript switch statement."""
        code = """
func
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 193: [missing-docstring] Function missing docstring
    Code: def test_java_for_loop(self):
        """Java for loop."""
        code = """
public int sum(int[] a
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 211: [missing-docstring] Function missing docstring
    Code: def test_simple_function(self):
        """Simple function with no branches should have complexity 0
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 220: [missing-docstring] Function missing docstring
    Code: def test_single_if(self):
        """Single if statement adds 1."""
        code = """
def func(x):

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 231: [missing-docstring] Function missing docstring
    Code: def test_nested_if_penalty(self):
        """Nested if adds nesting penalty."""
        code = """
d
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 244: [missing-docstring] Function missing docstring
    Code: def test_deeply_nested(self):
        """Deep nesting increases cognitive load significantly."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 259: [missing-docstring] Function missing docstring
    Code: def test_logical_operators_add(self):
        """Logical operators add to cognitive complexity."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 273: [missing-docstring] Function missing docstring
    Code: def test_no_nesting(self):
        """Function with no nesting should have minimal depth."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 282: [missing-docstring] Function missing docstring
    Code: def test_single_level(self):
        """Single level of nesting."""
        code = """
def func(x):

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 293: [missing-docstring] Function missing docstring
    Code: def test_two_levels(self):
        """Two levels of nesting."""
        code = """
def func(x, y):
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 305: [missing-docstring] Function missing docstring
    Code: def test_deep_nesting(self):
        """Deep nesting of 4 levels."""
        code = """
def func(a, 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 319: [missing-docstring] Function missing docstring
    Code: def test_loop_nesting(self):
        """Loops contribute to nesting."""
        code = """
def func(
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 334: [missing-docstring] Function missing docstring
    Code: def test_python_patterns(self):
        """Get Python patterns."""
        patterns = get_complexity
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 341: [missing-docstring] Function missing docstring
    Code: def test_typescript_patterns(self):
        """Get TypeScript patterns."""
        patterns = get_co
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 347: [missing-docstring] Function missing docstring
    Code: def test_javascript_patterns(self):
        """Get JavaScript patterns."""
        patterns = get_co
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 353: [missing-docstring] Function missing docstring
    Code: def test_java_patterns(self):
        """Get Java patterns."""
        patterns = get_complexity_pat
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 359: [missing-docstring] Function missing docstring
    Code: def test_unknown_language_defaults_to_python(self):
        """Unknown language defaults to Python p
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 364: [missing-docstring] Function missing docstring
    Code: def test_case_insensitive(self):
        """Language names are case insensitive."""
        assert g
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 373: [missing-docstring] Function missing docstring
    Code: def test_complexity_metrics(self):
        """Test ComplexityMetrics dataclass."""
        metrics =
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 388: [missing-docstring] Function missing docstring
    Code: def test_complexity_metrics_defaults(self):
        """Test ComplexityMetrics default values."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 398: [missing-docstring] Function missing docstring
    Code: def test_function_complexity(self):
        """Test FunctionComplexity dataclass."""
        metrics
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 414: [missing-docstring] Function missing docstring
    Code: def test_complexity_thresholds(self):
        """Test ComplexityThresholds dataclass."""
        thr
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 422: [missing-docstring] Function missing docstring
    Code: def test_custom_thresholds(self):
        """Test custom threshold values."""
        thresholds = C
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 437: [missing-docstring] Function missing docstring
    Code: def test_storage_initialization(self):
        """Test storage initializes database."""
        with
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 445: [missing-docstring] Function missing docstring
    Code: def test_get_or_create_project(self):
        """Test project creation and retrieval."""
        wit
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 459: [missing-docstring] Function missing docstring
    Code: def test_store_analysis_run(self):
        """Test storing analysis run."""
        with tempfile.Te
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 494: [missing-docstring] Function missing docstring
    Code: def test_get_project_trends(self):
        """Test retrieving project trends."""
        with tempfi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 523: [missing-docstring] Function missing docstring
    Code: def test_analyze_empty_file(self):
        """Test analyzing file with no functions."""
        with
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 537: [missing-docstring] Function missing docstring
    Code: def test_analyze_simple_function(self):
        """Test analyzing file with simple function."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 563: [missing-docstring] Function missing docstring
    Code: def test_empty_code(self):
        """Empty code should return minimal complexity."""
        result
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 574: [missing-docstring] Function missing docstring
    Code: def test_code_with_only_comments(self):
        """Code with only comments."""
        code = """
# 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 583: [missing-docstring] Function missing docstring
    Code: def test_multiline_string(self):
        """Multiline strings shouldn't be counted as branches."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 599: [missing-docstring] Function missing docstring
    Code: def test_very_long_function(self):
        """Very long function should work correctly."""
        l
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 610: [missing-docstring] Function missing docstring
    Code: def test_tabs_vs_spaces(self):
        """Handle both tabs and spaces for indentation."""
        co
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 680: [missing-docstring] Function missing docstring
    Code: def test_cyclomatic_1000_functions(self):
        """Benchmark: Calculate cyclomatic complexity for 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 702: [missing-docstring] Function missing docstring
    Code: def test_cognitive_1000_functions(self):
        """Benchmark: Calculate cognitive complexity for 10
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 723: [missing-docstring] Function missing docstring
    Code: def test_nesting_depth_1000_functions(self):
        """Benchmark: Calculate nesting depth for 1000 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 744: [missing-docstring] Function missing docstring
    Code: def test_all_metrics_1000_functions(self):
        """Benchmark: All complexity metrics for 1000 fun
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 768: [missing-docstring] Function missing docstring
    Code: def test_file_analysis_100_files(self):
        """Benchmark: Analyze 100 files with multiple functi
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_conftest_fixtures.py
--------------------------------------------------------------------------------
  Line 14: [missing-docstring] Function missing docstring
    Code: def test_initialized_cache(self, initialized_cache):
        """Test initialized_cache fixture provi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 24: [missing-docstring] Function missing docstring
    Code: def test_cache_with_tools(self, initialized_cache, mcp_tools):
        """Test that initialized_cach
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 37: [missing-docstring] Function missing docstring
    Code: def test_temp_project_with_files(self, temp_project_with_files):
        """Test temp_project_with_f
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 54: [missing-docstring] Function missing docstring
    Code: def test_sample_py_content(self, temp_project_with_files):
        """Test sample.py has expected co
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 62: [missing-docstring] Function missing docstring
    Code: def test_duplicate_files_similar(self, temp_project_with_files):
        """Test duplicate files hav
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 79: [missing-docstring] Function missing docstring
    Code: def test_mcp_tools_accessor(self, mcp_tools):
        """Test mcp_tools fixture provides tool access
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 86: [missing-docstring] Function missing docstring
    Code: def test_mcp_tools_error_handling(self, mcp_tools):
        """Test mcp_tools raises helpful error f
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 99: [missing-docstring] Function missing docstring
    Code: def test_sample_complexity_thresholds(self, sample_complexity_thresholds):
        """Test sample_co
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 108: [missing-docstring] Function missing docstring
    Code: def test_sample_function_code(self, sample_function_code):
        """Test sample_function_code prov
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 128: [missing-docstring] Function missing docstring
    Code: def test_sample_linting_rule(self, sample_linting_rule):
        """Test sample_linting_rule has exp
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 137: [missing-docstring] Function missing docstring
    Code: def test_sample_rule_templates(self, sample_rule_templates):
        """Test sample_rule_templates p
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 155: [missing-docstring] Function missing docstring
    Code: def test_backup_dir(self, backup_dir, temp_dir):
        """Test backup_dir provides functional back
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 171: [missing-docstring] Function missing docstring
    Code: def test_sample_test_paths(self, sample_test_paths):
        """Test sample_test_paths provides sour
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 186: [missing-docstring] Function missing docstring
    Code: def test_sample_python_code(self, sample_python_code):
        """Test sample_python_code provides P
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 191: [missing-docstring] Function missing docstring
    Code: def test_sample_typescript_code(self, sample_typescript_code):
        """Test sample_typescript_cod
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 197: [missing-docstring] Function missing docstring
    Code: def test_sample_javascript_code(self, sample_javascript_code):
        """Test sample_javascript_cod
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 204: [missing-docstring] Function missing docstring
    Code: def test_sample_java_code(self, sample_java_code):
        """Test sample_java_code provides Java co
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 213: [missing-docstring] Function missing docstring
    Code: def test_sample_schema_types(self, sample_schema_types):
        """Test sample_schema_types provide
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 232: [missing-docstring] Function missing docstring
    Code: def test_sample_deduplication_result(self, sample_deduplication_result):
        """Test sample_dedu
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 253: [missing-docstring] Function missing docstring
    Code: def test_mock_ast_grep_process(self, mock_ast_grep_process):
        """Test mock_ast_grep_process p
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 265: [missing-docstring] Function missing docstring
    Code: def test_cache_with_project_files(self, initialized_cache, temp_project_with_files):
        """Test
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 274: [missing-docstring] Function missing docstring
    Code: def test_tools_with_thresholds(self, mcp_tools, sample_complexity_thresholds):
        """Test using
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 284: [missing-docstring] Function missing docstring
    Code: def test_backup_with_project(self, backup_dir, temp_project_with_files):
        """Test backup dire
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_deduplication_analysis.py
--------------------------------------------------------------------------------
  Line 47: [missing-docstring] Function missing docstring
    Code: def test_classify_variations_simple(self):
        """Test classifying simple variations."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 56: [missing-docstring] Function missing docstring
    Code: def test_classify_variations_complex(self):
        """Test classifying complex variations."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 73: [missing-docstring] Function missing docstring
    Code: def test_detect_conditional_variations(self):
        """Test detecting conditional variations."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 82: [missing-docstring] Function missing docstring
    Code: def test_variation_severity_enum(self):
        """Test VariationSeverity enum values."""
        as
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 92: [missing-docstring] Function missing docstring
    Code: def test_identify_varying_identifiers(self):
        """Test identifying varying identifiers between
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 101: [missing-docstring] Function missing docstring
    Code: def test_generate_parameter_name(self):
        """Test generating parameter names from identifiers.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 108: [missing-docstring] Function missing docstring
    Code: def test_infer_parameter_type(self):
        """Test inferring parameter type from context."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 114: [missing-docstring] Function missing docstring
    Code: def test_infer_single_value_type(self):
        """Test inferring type from a single value."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 120: [missing-docstring] Function missing docstring
    Code: def test_infer_from_identifier_name(self):
        """Test inferring type from identifier naming pat
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 125: [missing-docstring] Function missing docstring
    Code: def test_detect_nested_function_call(self):
        """Test detecting nested function calls."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 131: [missing-docstring] Function missing docstring
    Code: def test_parameter_type_enum(self):
        """Test ParameterType enum values."""
        assert has
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 141: [missing-docstring] Function missing docstring
    Code: def test_get_complexity_level_low(self):
        """Test getting complexity level for low score."""

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 146: [missing-docstring] Function missing docstring
    Code: def test_get_complexity_level_medium(self):
        """Test getting complexity level for medium scor
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 151: [missing-docstring] Function missing docstring
    Code: def test_get_complexity_level_high(self):
        """Test getting complexity level for high score.""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 156: [missing-docstring] Function missing docstring
    Code: def test_complexity_boundaries(self):
        """Test complexity level boundaries."""
        assert
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_deduplication_detection.py
--------------------------------------------------------------------------------
  Line 36: [missing-docstring] Function missing docstring
    Code: def test_calculate_similarity(self):
        """Test similarity calculation between code snippets.""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 56: [missing-docstring] Function missing docstring
    Code: def test_normalize_code(self):
        """Test code normalization."""
        code = """
def hello()
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 67: [missing-docstring] Function missing docstring
    Code: def test_generate_refactoring_suggestions(self):
        """Test generation of refactoring suggestio
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 89: [missing-docstring] Function missing docstring
    Code: def test_build_diff_tree(self):
        """Test building a diff tree from two code snippets."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 98: [missing-docstring] Function missing docstring
    Code: def test_build_nested_diff_tree(self):
        """Test building nested diff tree."""
        code1 =
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 113: [missing-docstring] Function missing docstring
    Code: def test_format_alignment_diff(self):
        """Test formatting alignment diff."""
        diff_dat
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 129: [missing-docstring] Function missing docstring
    Code: def test_diff_preview_to_dict(self):
        """Test converting diff preview to dictionary."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 143: [missing-docstring] Function missing docstring
    Code: def test_generate_file_diff(self):
        """Test generating diff for a single file."""
        old
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 152: [missing-docstring] Function missing docstring
    Code: def test_generate_multi_file_diff(self):
        """Test generating diff for multiple files."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 173: [missing-docstring] Function missing docstring
    Code: def test_generate_diff_from_file_paths(self, mock_open, mock_exists):
        """Test generating dif
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_deduplication_key_names.py
--------------------------------------------------------------------------------
  Line 29: [missing-docstring] Function missing docstring
    Code: def temp_project_dir(self):
        """Create temporary project directory for testing."""
        wi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 66: [missing-docstring] Function missing docstring
    Code: def orchestrator_with_mock_detector(self, mock_detector_output):
        """Create orchestrator with
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 92: [missing-docstring] Function missing docstring
    Code: def test_orchestrator_passes_duplication_groups_to_ranker(
        self, temp_project_dir, orchestra
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 113: [missing-docstring] Function missing docstring
    Code: def test_orchestrator_output_has_correct_keys(
        self, temp_project_dir, orchestrator_with_moc
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 134: [missing-docstring] Function missing docstring
    Code: def test_detector_output_uses_duplication_groups_not_duplicates(self):
        """Regression: Detect
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 163: [missing-docstring] Function missing docstring
    Code: def temp_project_dir(self):
        """Create temporary project directory for testing."""
        wi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 172: [missing-docstring] Function missing docstring
    Code: def test_tool_handles_orchestrator_output_keys(self, temp_project_dir):
        """Regression: Tool 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 188: [missing-docstring] Function missing docstring
    Code: def test_tool_logs_with_correct_keys(self, temp_project_dir):
        """Regression: Tool logging us
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 209: [missing-docstring] Function missing docstring
    Code: def test_recommendation_as_dict(self):
        """Regression: Script should handle recommendation as
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 222: [missing-docstring] Function missing docstring
    Code: def test_recommendation_as_string(self):
        """Script should still handle recommendation as str
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 233: [missing-docstring] Function missing docstring
    Code: def test_recommendation_dict_without_text_key(self):
        """Script should fallback to str(dict) 
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_documentation.py
--------------------------------------------------------------------------------
  Line 22: [missing-docstring] Function missing docstring
    Code: def test_parameter_info_creation(self):
        """Test ParameterInfo model creation."""
        par
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 33: [missing-docstring] Function missing docstring
    Code: def test_function_signature_creation(self):
        """Test FunctionSignature model creation."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 55: [missing-docstring] Function missing docstring
    Code: def test_generated_docstring_creation(self):
        """Test GeneratedDocstring model creation."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 68: [missing-docstring] Function missing docstring
    Code: def test_api_route_creation(self):
        """Test ApiRoute model creation."""
        route = ApiRo
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 87: [missing-docstring] Function missing docstring
    Code: def test_changelog_entry_creation(self):
        """Test ChangelogEntry model creation."""
        e
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 99: [missing-docstring] Function missing docstring
    Code: def test_changelog_version_creation(self):
        """Test ChangelogVersion model creation."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 121: [missing-docstring] Function missing docstring
    Code: def test_infer_description_from_name(self):
        """Test description inference from function name
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 137: [missing-docstring] Function missing docstring
    Code: def test_infer_parameter_description(self):
        """Test parameter description inference."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 155: [missing-docstring] Function missing docstring
    Code: def test_generate_google_docstring(self):
        """Test Google-style docstring generation."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 184: [missing-docstring] Function missing docstring
    Code: def test_generate_numpy_docstring(self):
        """Test NumPy-style docstring generation."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 212: [missing-docstring] Function missing docstring
    Code: def test_generate_sphinx_docstring(self):
        """Test Sphinx-style docstring generation."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 240: [missing-docstring] Function missing docstring
    Code: def test_generate_jsdoc(self):
        """Test JSDoc generation for JavaScript/TypeScript."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 268: [missing-docstring] Function missing docstring
    Code: def test_function_signature_parser_python(self, tmp_path):
        """Test Python function parsing."
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 315: [missing-docstring] Function missing docstring
    Code: def test_detect_package_manager(self, tmp_path):
        """Test package manager detection."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 334: [missing-docstring] Function missing docstring
    Code: def test_detect_language(self, tmp_path):
        """Test primary language detection."""
        fro
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 352: [missing-docstring] Function missing docstring
    Code: def test_generate_installation_section(self):
        """Test installation section generation."""
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 372: [missing-docstring] Function missing docstring
    Code: def test_generate_usage_section(self):
        """Test usage section generation."""
        from ast
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 396: [missing-docstring] Function missing docstring
    Code: def test_express_route_parser(self, tmp_path):
        """Test Express.js route parsing."""
        
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 426: [missing-docstring] Function missing docstring
    Code: def test_fastapi_route_parser(self, tmp_path):
        """Test FastAPI route parsing."""
        fro
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 463: [missing-docstring] Function missing docstring
    Code: def test_generate_markdown_docs(self):
        """Test Markdown API documentation generation."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 499: [missing-docstring] Function missing docstring
    Code: def test_generate_openapi_spec(self):
        """Test OpenAPI specification generation."""
        f
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 529: [missing-docstring] Function missing docstring
    Code: def test_parse_conventional_commit(self):
        """Test conventional commit parsing."""
        fr
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 565: [missing-docstring] Function missing docstring
    Code: def test_extract_docstring_params_google(self):
        """Test extracting params from Google-style 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 587: [missing-docstring] Function missing docstring
    Code: def test_extract_docstring_params_sphinx(self):
        """Test extracting params from Sphinx-style 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 604: [missing-docstring] Function missing docstring
    Code: def test_extract_docstring_params_jsdoc(self):
        """Test extracting params from JSDoc comments
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 621: [missing-docstring] Function missing docstring
    Code: def test_extract_docstring_return(self):
        """Test return documentation detection."""
        
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 639: [missing-docstring] Function missing docstring
    Code: def test_check_docstring_sync_missing(self):
        """Test sync check for missing docstrings."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 662: [missing-docstring] Function missing docstring
    Code: def test_check_docstring_sync_stale_param(self):
        """Test sync check for stale documented par
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 694: [missing-docstring] Function missing docstring
    Code: def test_check_markdown_links(self, tmp_path):
        """Test broken link detection in markdown fil
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 722: [missing-docstring] Function missing docstring
    Code: def test_generate_docstrings_impl(self, tmp_path):
        """Test docstring generation implementati
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 749: [missing-docstring] Function missing docstring
    Code: def test_generate_readme_sections_impl(self, tmp_path):
        """Test README section generation im
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 767: [missing-docstring] Function missing docstring
    Code: def test_sync_documentation_impl(self, tmp_path):
        """Test documentation sync checking implem
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_enhanced_reporting.py
--------------------------------------------------------------------------------
  Line 26: [missing-docstring] Function missing docstring
    Code: def test_empty_diff(self):
        """Test with empty diff string."""
        result = format_diff_w
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 31: [missing-docstring] Function missing docstring
    Code: def test_colors_additions(self):
        """Test that additions are colored green."""
        diff =
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 39: [missing-docstring] Function missing docstring
    Code: def test_colors_deletions(self):
        """Test that deletions are colored red."""
        diff = "
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 47: [missing-docstring] Function missing docstring
    Code: def test_colors_hunk_headers(self):
        """Test that hunk headers are colored cyan."""
        d
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 54: [missing-docstring] Function missing docstring
    Code: def test_colors_file_headers(self):
        """Test that file headers are colored yellow."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 62: [missing-docstring] Function missing docstring
    Code: def test_context_lines_uncolored(self):
        """Test that context lines remain uncolored."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 69: [missing-docstring] Function missing docstring
    Code: def test_full_diff(self):
        """Test complete diff with all line types."""
        diff = """--
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 90: [missing-docstring] Function missing docstring
    Code: def test_basic_example(self):
        """Test basic before/after generation."""
        original = "
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 104: [missing-docstring] Function missing docstring
    Code: def test_line_numbers_in_before(self):
        """Test that before section includes line numbers."""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 114: [missing-docstring] Function missing docstring
    Code: def test_line_numbers_in_after(self):
        """Test that after section includes line numbers."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 124: [missing-docstring] Function missing docstring
    Code: def test_raw_content_preserved(self):
        """Test that raw content is preserved without line num
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 134: [missing-docstring] Function missing docstring
    Code: def test_function_definition_generated(self):
        """Test that function definition is generated.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 139: [missing-docstring] Function missing docstring
    Code: def test_no_lines_saved(self):
        """Test when replacement is same length or longer."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 149: [missing-docstring] Function missing docstring
    Code: def test_explanation_content(self):
        """Test explanation includes relevant details."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 160: [missing-docstring] Function missing docstring
    Code: def test_whitespace_handling(self):
        """Test that whitespace is stripped properly."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 174: [missing-docstring] Function missing docstring
    Code: def test_low_complexity(self):
        """Test low complexity score (1-3)."""
        for score in [
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 182: [missing-docstring] Function missing docstring
    Code: def test_medium_complexity(self):
        """Test medium complexity score (4-6)."""
        for scor
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 189: [missing-docstring] Function missing docstring
    Code: def test_high_complexity(self):
        """Test high complexity score (7-10)."""
        for score i
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 197: [missing-docstring] Function missing docstring
    Code: def test_bar_visualization(self):
        """Test ASCII bar visualization."""
        result = visua
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 204: [missing-docstring] Function missing docstring
    Code: def test_bar_colored_version(self):
        """Test colored bar includes ANSI codes."""
        resu
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 210: [missing-docstring] Function missing docstring
    Code: def test_formatted_output(self):
        """Test formatted string output."""
        result = visual
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 216: [missing-docstring] Function missing docstring
    Code: def test_score_clamping_low(self):
        """Test that scores below 1 are clamped."""
        resul
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 224: [missing-docstring] Function missing docstring
    Code: def test_score_clamping_high(self):
        """Test that scores above 10 are clamped."""
        res
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 232: [missing-docstring] Function missing docstring
    Code: def test_recommendations_are_actionable(self):
        """Test that recommendations contain actionab
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 244: [missing-docstring] Function missing docstring
    Code: def test_empty_candidates(self):
        """Test with empty candidate list."""
        result = crea
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 252: [missing-docstring] Function missing docstring
    Code: def test_single_candidate(self):
        """Test with single duplication candidate."""
        candi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 271: [missing-docstring] Function missing docstring
    Code: def test_multiple_candidates_sorted_by_priority(self):
        """Test that candidates are sorted by
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 294: [missing-docstring] Function missing docstring
    Code: def test_summary_statistics(self):
        """Test summary statistics are calculated correctly."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 318: [missing-docstring] Function missing docstring
    Code: def test_global_recommendations_generated(self):
        """Test that global recommendations are gen
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 336: [missing-docstring] Function missing docstring
    Code: def test_include_diffs_option(self):
        """Test include_diffs parameter."""
        candidates 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 353: [missing-docstring] Function missing docstring
    Code: def test_include_colors_option(self):
        """Test include_colors parameter."""
        candidate
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 371: [missing-docstring] Function missing docstring
    Code: def test_metadata_fields(self):
        """Test metadata contains required fields."""
        result
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 380: [missing-docstring] Function missing docstring
    Code: def test_before_after_included(self):
        """Test before/after examples are included for each ca
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 398: [missing-docstring] Function missing docstring
    Code: def test_complexity_viz_included(self):
        """Test complexity visualization is included."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 414: [missing-docstring] Function missing docstring
    Code: def test_default_values_for_missing_fields(self):
        """Test that missing fields get default va
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 430: [missing-docstring] Function missing docstring
    Code: def test_priority_calculation(self):
        """Test priority calculation formula."""
        candid
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 444: [missing-docstring] Function missing docstring
    Code: def test_total_lines_saveable(self):
        """Test total lines saveable calculation."""
        ca
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 464: [missing-docstring] Function missing docstring
    Code: def test_full_workflow(self):
        """Test complete enhanced reporting workflow."""
        # Sim
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 518: [missing-docstring] Function missing docstring
    Code: def test_colored_output(self):
        """Test that colored output is properly formatted."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_extract_function.py
--------------------------------------------------------------------------------
  Line 14: [missing-docstring] Function missing docstring
    Code: def test_analyze_python_simple_selection(self, tmp_path):
        """Test analyzing a simple Python 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 52: [missing-docstring] Function missing docstring
    Code: def test_detect_indentation(self):
        """Test indentation detection."""
        analyzer = Code
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 66: [missing-docstring] Function missing docstring
    Code: def test_has_early_returns_python(self):
        """Test detection of early returns in Python."""
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 76: [missing-docstring] Function missing docstring
    Code: def test_has_exception_handling_python(self):
        """Test detection of exception handling in Pyt
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 93: [missing-docstring] Function missing docstring
    Code: def test_generate_function_name(self):
        """Test automatic function name generation."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 115: [missing-docstring] Function missing docstring
    Code: def test_generate_signature_python(self):
        """Test Python function signature generation."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 138: [missing-docstring] Function missing docstring
    Code: def test_generate_return_statement_python(self):
        """Test return statement generation for Pyt
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 154: [missing-docstring] Function missing docstring
    Code: def test_generate_call_site_python(self):
        """Test call site generation for Python."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 192: [missing-docstring] Function missing docstring
    Code: def test_extract_function_dry_run(self, tmp_path):
        """Test extract function in dry-run mode.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 231: [missing-docstring] Function missing docstring
    Code: def test_extract_function_with_no_returns(self, tmp_path):
        """Test extracting function that 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 255: [missing-docstring] Function missing docstring
    Code: def test_extract_function_apply(self, tmp_path):
        """Test applying function extraction (not d
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 290: [missing-docstring] Function missing docstring
    Code: def test_analyze_javascript_variables(self, tmp_path):
        """Test analyzing JavaScript variable
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 322: [missing-docstring] Function missing docstring
    Code: def sample_python_code():
    """Sample Python code for testing."""
    return """
def calculate_dis
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 340: [missing-docstring] Function missing docstring
    Code: def sample_typescript_code():
    """Sample TypeScript code for testing."""
    return """
function 
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_hybrid_similarity.py
--------------------------------------------------------------------------------
  Line 23: [missing-docstring] Function missing docstring
    Code: def test_default_config(self):
        """Default config should have sensible values from HybridSimi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 32: [missing-docstring] Function missing docstring
    Code: def test_custom_config(self):
        """Custom config should override defaults."""
        config =
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 43: [missing-docstring] Function missing docstring
    Code: def test_invalid_threshold_raises_error(self):
        """Invalid threshold should raise ValueError.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 51: [missing-docstring] Function missing docstring
    Code: def test_invalid_weight_raises_error(self):
        """Invalid weight should raise ValueError."""
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 56: [missing-docstring] Function missing docstring
    Code: def test_weights_must_sum_to_one(self):
        """Weights must sum to 1.0."""
        with pytest.r
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 65: [missing-docstring] Function missing docstring
    Code: def test_result_creation(self):
        """Should create result with expected values."""
        res
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 86: [missing-docstring] Function missing docstring
    Code: def test_result_to_dict(self):
        """Should convert to dictionary correctly."""
        result 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 102: [missing-docstring] Function missing docstring
    Code: def test_result_to_dict_with_none_ast(self):
        """Should handle None ast_similarity in to_dict
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 120: [missing-docstring] Function missing docstring
    Code: def test_identical_code_high_similarity(self):
        """Identical code should have similarity clos
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 138: [missing-docstring] Function missing docstring
    Code: def test_similar_code_hybrid_verification(self):
        """Similar code should pass Stage 1 and be 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 165: [missing-docstring] Function missing docstring
    Code: def test_different_code_early_exit(self):
        """Very different code should exit early at Stage 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 192: [missing-docstring] Function missing docstring
    Code: def test_empty_code_returns_zero(self):
        """Empty code should return 0.0 similarity."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 206: [missing-docstring] Function missing docstring
    Code: def test_estimate_similarity_convenience_method(self):
        """estimate_similarity should return 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 216: [missing-docstring] Function missing docstring
    Code: def test_cache_clearing(self):
        """Cache should be clearable."""
        code = "def example(
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 235: [missing-docstring] Function missing docstring
    Code: def test_stage1_minhash_threshold(self):
        """Stage 1 should use configurable MinHash threshol
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 262: [missing-docstring] Function missing docstring
    Code: def test_stage2_ast_normalization(self):
        """Stage 2 should normalize code for structural com
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 289: [missing-docstring] Function missing docstring
    Code: def test_weighted_combination(self):
        """Final score should combine MinHash and AST with conf
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 322: [missing-docstring] Function missing docstring
    Code: def test_normalize_removes_comments(self):
        """Normalization should remove Python comments.""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 337: [missing-docstring] Function missing docstring
    Code: def test_normalize_removes_js_comments(self):
        """Normalization should remove JS/TS comments.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 353: [missing-docstring] Function missing docstring
    Code: def test_normalize_standardizes_indentation(self):
        """Normalization should standardize inden
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 369: [missing-docstring] Function missing docstring
    Code: def test_normalize_skips_empty_lines(self):
        """Normalization should skip empty lines."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 390: [missing-docstring] Function missing docstring
    Code: def test_large_code_uses_simplified_comparison(self):
        """Large code should use simplified st
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 403: [missing-docstring] Function missing docstring
    Code: def test_extract_structural_patterns(self):
        """Should extract structural patterns from code.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 425: [missing-docstring] Function missing docstring
    Code: def test_token_count_reported(self):
        """Token count should be reported in results."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 433: [missing-docstring] Function missing docstring
    Code: def test_minhash_similarity_always_present(self):
        """MinHash similarity should always be pre
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 447: [missing-docstring] Function missing docstring
    Code: def test_detector_uses_hybrid_by_default(self):
        """Detector should use hybrid mode by defaul
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 454: [missing-docstring] Function missing docstring
    Code: def test_detector_hybrid_similarity(self):
        """Detector should calculate hybrid similarity co
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 467: [missing-docstring] Function missing docstring
    Code: def test_detector_detailed_similarity(self):
        """Detector should provide detailed hybrid resu
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 480: [missing-docstring] Function missing docstring
    Code: def test_detector_minhash_mode(self):
        """Detector should support pure MinHash mode."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 493: [missing-docstring] Function missing docstring
    Code: def test_detector_sequence_matcher_mode(self):
        """Detector should support SequenceMatcher mo
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 506: [missing-docstring] Function missing docstring
    Code: def test_detector_legacy_use_minhash_false(self):
        """Legacy use_minhash=False should set seq
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 518: [missing-docstring] Function missing docstring
    Code: def test_early_exit_faster_than_full_pipeline(self):
        """Early exit should be faster than ful
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_minhash_similarity.py
--------------------------------------------------------------------------------
  Line 18: [missing-docstring] Function missing docstring
    Code: def test_identical_code_high_similarity(self):
        """Identical code should have similarity clos
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 31: [missing-docstring] Function missing docstring
    Code: def test_similar_code_moderate_similarity(self):
        """Similar code with minor changes should h
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 57: [missing-docstring] Function missing docstring
    Code: def test_different_code_low_similarity(self):
        """Different code should have low similarity."
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 77: [missing-docstring] Function missing docstring
    Code: def test_empty_code_returns_zero(self):
        """Empty code should return 0.0 similarity."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 84: [missing-docstring] Function missing docstring
    Code: def test_minhash_signature_caching(self):
        """MinHash signatures should be cached for perform
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 98: [missing-docstring] Function missing docstring
    Code: def test_clear_cache(self):
        """Cache should be clearable."""
        code = "def example(): 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 119: [missing-docstring] Function missing docstring
    Code: def test_build_lsh_index(self):
        """LSH index should be buildable from code items."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 132: [missing-docstring] Function missing docstring
    Code: def test_query_similar(self):
        """LSH should return similar candidates."""
        code_items
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 149: [missing-docstring] Function missing docstring
    Code: def test_find_all_similar_pairs(self):
        """Should find all pairs of similar code snippets.

 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 193: [missing-docstring] Function missing docstring
    Code: def test_default_config(self):
        """Default config should have sensible values."""
        con
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 201: [missing-docstring] Function missing docstring
    Code: def test_custom_config(self):
        """Custom config should override defaults."""
        config =
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 216: [missing-docstring] Function missing docstring
    Code: def test_result_creation(self):
        """Should create result with expected values."""
        res
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 232: [missing-docstring] Function missing docstring
    Code: def test_similar_structure_same_hash(self):
        """Similar code structures with same call patter
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 258: [missing-docstring] Function missing docstring
    Code: def test_different_call_patterns_different_hash(self):
        """Code with different API calls shou
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 281: [missing-docstring] Function missing docstring
    Code: def test_different_structure_different_hash(self):
        """Different code structures should have 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 303: [missing-docstring] Function missing docstring
    Code: def test_create_buckets(self):
        """Should create buckets with proper distribution."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 326: [missing-docstring] Function missing docstring
    Code: def test_control_flow_detection(self):
        """Should detect control flow keywords."""
        co
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 351: [missing-docstring] Function missing docstring
    Code: def test_extract_node_sequence_basic(self):
        """Should extract correct node sequence from sim
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 369: [missing-docstring] Function missing docstring
    Code: def test_extract_node_sequence_order_preserved(self):
        """Node sequence should preserve order
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 390: [missing-docstring] Function missing docstring
    Code: def test_extract_node_sequence_ignores_comments(self):
        """Should ignore comments when extrac
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 405: [missing-docstring] Function missing docstring
    Code: def test_extract_node_sequence_class_and_methods(self):
        """Should extract class and method d
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 426: [missing-docstring] Function missing docstring
    Code: def test_complexity_simple_function(self):
        """Simple function should have low complexity."""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 434: [missing-docstring] Function missing docstring
    Code: def test_complexity_with_conditionals(self):
        """Conditionals should increase complexity."""

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 442: [missing-docstring] Function missing docstring
    Code: def test_complexity_with_loops(self):
        """Loops should increase complexity."""
        hasher
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 451: [missing-docstring] Function missing docstring
    Code: def test_complexity_with_exception_handling(self):
        """Exception handling should increase com
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 464: [missing-docstring] Function missing docstring
    Code: def test_call_signature_basic(self):
        """Should extract function call signature."""
        c
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 479: [missing-docstring] Function missing docstring
    Code: def test_call_signature_no_calls(self):
        """Code without calls should return '0000'."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 492: [missing-docstring] Function missing docstring
    Code: def test_call_signature_consistent(self):
        """Same calls should produce same signature."""
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 511: [missing-docstring] Function missing docstring
    Code: def test_call_signature_filters_keywords(self):
        """Should filter out keywords that look like
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 530: [missing-docstring] Function missing docstring
    Code: def test_nesting_depth_flat(self):
        """Flat code should have low nesting depth."""
        co
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 541: [missing-docstring] Function missing docstring
    Code: def test_nesting_depth_nested(self):
        """Nested code should have higher depth."""
        cod
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 559: [missing-docstring] Function missing docstring
    Code: def test_logarithmic_bucket_small(self):
        """Small code should be in low buckets."""
        
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 567: [missing-docstring] Function missing docstring
    Code: def test_logarithmic_bucket_medium(self):
        """Medium code should be in middle buckets."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 575: [missing-docstring] Function missing docstring
    Code: def test_logarithmic_bucket_large(self):
        """Large code should be in high buckets."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 582: [missing-docstring] Function missing docstring
    Code: def test_logarithmic_bucket_max(self):
        """Very large code should cap at bucket 9."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 593: [missing-docstring] Function missing docstring
    Code: def test_bucket_distribution_diverse_code(self):
        """Diverse code should distribute across mu
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 652: [missing-docstring] Function missing docstring
    Code: def test_detector_uses_minhash_by_default(self):
        """Detector should use MinHash by default."
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 659: [missing-docstring] Function missing docstring
    Code: def test_detector_can_use_sequence_matcher(self):
        """Detector should support fallback to Seq
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 666: [missing-docstring] Function missing docstring
    Code: def test_detector_similarity_calculation(self):
        """Detector should calculate similarity corr
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 680: [missing-docstring] Function missing docstring
    Code: def test_detector_similarity_with_sequence_matcher(self):
        """Detector should support Sequenc
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 694: [missing-docstring] Function missing docstring
    Code: def test_detector_structure_hash(self):
        """Detector should use enhanced structure hash."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 720: [missing-docstring] Function missing docstring
    Code: def test_detector_identical_code_high_similarity(self):
        """Detector should return > 0.9 for 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 734: [missing-docstring] Function missing docstring
    Code: def test_detector_consistent_with_direct_minhash(self):
        """Detector should match direct MinH
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 754: [missing-docstring] Function missing docstring
    Code: def test_detector_multiline_identical_code(self):
        """Detector should handle multiline identi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 774: [missing-docstring] Function missing docstring
    Code: def test_detector_different_code_low_similarity(self):
        """Detector should return low similar
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 797: [missing-docstring] Function missing docstring
    Code: def test_detector_empty_code_returns_zero(self):
        """Detector should return 0.0 for empty cod
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 809: [missing-docstring] Function missing docstring
    Code: def test_detector_minhash_config_propagation(self):
        """Detector should properly propagate Mi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 829: [missing-docstring] Function missing docstring
    Code: def test_minhash_scales_linearly(self):
        """MinHash should maintain O(n) complexity."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 865: [missing-docstring] Function missing docstring
    Code: def test_small_code_fallback_accuracy(self):
        """Test SequenceMatcher fallback provides accur
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 877: [missing-docstring] Function missing docstring
    Code: def test_large_code_uses_minhash(self):
        """Test MinHash is used for large code (>= 15 tokens
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 896: [missing-docstring] Function missing docstring
    Code: def test_small_code_different_gets_low_similarity(self):
        """Test that different small code g
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 907: [missing-docstring] Function missing docstring
    Code: def test_fallback_can_be_disabled(self):
        """Test that small code fallback can be disabled vi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 921: [missing-docstring] Function missing docstring
    Code: def test_small_code_threshold_configurable(self):
        """Test that small_code_threshold can be c
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 933: [missing-docstring] Function missing docstring
    Code: def test_small_code_near_threshold_boundary(self):
        """Test behavior at the threshold boundar
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 951: [missing-docstring] Function missing docstring
    Code: def test_small_code_with_minor_changes(self):
        """Test that small code with minor changes get
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 963: [missing-docstring] Function missing docstring
    Code: def test_empty_code_still_returns_zero(self):
        """Test that empty code returns 0.0 regardless
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 977: [missing-docstring] Function missing docstring
    Code: def test_fallback_performance(self):
        """Test performance characteristics of small vs large c
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1029: [print-statement] Using print() instead of logging
    Code: print(f"\n[Performance] Small code ({iterations} iterations): {small_time*1000:.2f}ms total, {small_
    ðŸ’¡ Consider using logging module for better control

  Line 1030: [print-statement] Using print() instead of logging
    Code: print(f"[Performance] Large code ({iterations} iterations): {large_time*1000:.2f}ms total, {large_ti
    ðŸ’¡ Consider using logging module for better control

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_orchestrator_optimizations.py
--------------------------------------------------------------------------------
  Line 22: [missing-docstring] Function missing docstring
    Code: def test_components_not_initialized_on_construction(self):
        """Test that components are not i
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 32: [missing-docstring] Function missing docstring
    Code: def test_detector_lazy_initialization(self):
        """Test that detector is created on first acces
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 45: [missing-docstring] Function missing docstring
    Code: def test_ranker_lazy_initialization(self):
        """Test that ranker is created on first access.""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 58: [missing-docstring] Function missing docstring
    Code: def test_coverage_detector_lazy_initialization(self):
        """Test that coverage_detector is crea
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 71: [missing-docstring] Function missing docstring
    Code: def test_recommendation_engine_lazy_initialization(self):
        """Test that recommendation_engine
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 84: [missing-docstring] Function missing docstring
    Code: def test_property_setters_for_dependency_injection(self):
        """Test that properties can be set
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 107: [missing-docstring] Function missing docstring
    Code: def test_initialization_performance_improvement(self):
        """Test that instantiation is faster 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 125: [missing-docstring] Function missing docstring
    Code: def temp_project_dir(self):
        """Create temporary project directory for testing."""
        wi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 130: [missing-docstring] Function missing docstring
    Code: def test_invalid_project_path_not_exists(self):
        """Test validation fails for non-existent pr
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 140: [missing-docstring] Function missing docstring
    Code: def test_invalid_project_path_not_directory(self, temp_project_dir):
        """Test validation fail
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 154: [missing-docstring] Function missing docstring
    Code: def test_invalid_min_similarity_too_low(self, temp_project_dir):
        """Test validation fails fo
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 165: [missing-docstring] Function missing docstring
    Code: def test_invalid_min_similarity_too_high(self, temp_project_dir):
        """Test validation fails f
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 176: [missing-docstring] Function missing docstring
    Code: def test_invalid_min_lines_zero(self, temp_project_dir):
        """Test validation fails for min_li
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 187: [missing-docstring] Function missing docstring
    Code: def test_invalid_min_lines_negative(self, temp_project_dir):
        """Test validation fails for mi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 198: [missing-docstring] Function missing docstring
    Code: def test_invalid_max_candidates_zero(self, temp_project_dir):
        """Test validation fails for m
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 209: [missing-docstring] Function missing docstring
    Code: def test_invalid_max_candidates_negative(self, temp_project_dir):
        """Test validation fails f
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 220: [missing-docstring] Function missing docstring
    Code: def test_valid_inputs_pass_validation(self, temp_project_dir, monkeypatch):
        """Test that val
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 242: [missing-docstring] Function missing docstring
    Code: def test_validation_error_messages_are_clear(self, temp_project_dir):
        """Test that validatio
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 274: [missing-docstring] Function missing docstring
    Code: def test_result_structure_has_clear_naming(self, temp_project_dir):
        """Test that result stru
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 304: [missing-docstring] Function missing docstring
    Code: def test_top_candidates_count_reflects_actual_count(self, temp_project_dir):
        """Test that to
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 331: [missing-docstring] Function missing docstring
    Code: def test_savings_calculated_from_top_candidates_only(self, temp_project_dir):
        """Test that s
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 358: [missing-docstring] Function missing docstring
    Code: def test_logging_uses_consistent_naming(self, temp_project_dir, capsys):
        """Test that loggin
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 412: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_sequential_mode(self):
        """Test _parallel_enrich in sequential mode 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 424: [missing-docstring] Function missing docstring
    Code: def enrich_func(candidate, increment):
            candidate["value"] += increment
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 442: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_parallel_mode(self):
        """Test _parallel_enrich in parallel mode (par
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 454: [missing-docstring] Function missing docstring
    Code: def enrich_func(candidate, increment):
            candidate["value"] += increment
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 473: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_single_candidate_uses_sequential(self):
        """Test that single candida
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 481: [missing-docstring] Function missing docstring
    Code: def enrich_func(candidate):
            nonlocal call_count
            call_count += 1
            
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 501: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_error_handling_sequential(self):
        """Test error handling in sequenti
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 512: [missing-docstring] Function missing docstring
    Code: def enrich_func(candidate):
            if candidate["id"] == "c2":
                raise ValueError
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 539: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_error_handling_parallel(self):
        """Test error handling in parallel m
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 551: [missing-docstring] Function missing docstring
    Code: def enrich_func(candidate):
            if candidate["id"] in ["c2", "c4"]:
                raise Va
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 584: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_default_error_value_dict(self):
        """Test that dict default_error_val
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 590: [missing-docstring] Function missing docstring
    Code: def failing_func(candidate):
            raise ValueError("Test error")
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 613: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_kwargs_passed_to_enrich_func(self):
        """Test that **kwargs are corre
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 619: [missing-docstring] Function missing docstring
    Code: def enrich_func(candidate, arg1, arg2, arg3=None):
            candidate["arg1"] = arg1
            
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 641: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_logging_success(self, capsys):
        """Test that _parallel_enrich logs s
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 647: [missing-docstring] Function missing docstring
    Code: def enrich_func(candidate):
            candidate["enriched"] = True
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 667: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_logging_failures(self, capsys):
        """Test that _parallel_enrich logs 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 673: [missing-docstring] Function missing docstring
    Code: def failing_func(candidate):
            if candidate["id"] == "c1":
                raise ValueErro
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 694: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_returns_failed_candidates(self):
        """Test that _parallel_enrich retu
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 704: [missing-docstring] Function missing docstring
    Code: def enrich_func(candidate):
            if candidate["value"] == 2:
                raise ValueError
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 724: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_used_by_add_test_coverage(self):
        """Test that _add_test_coverage no
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 749: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_used_by_add_recommendations(self):
        """Test that _add_recommendation
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 770: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_max_workers_parameter(self):
        """Test that max_workers parameter is 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 775: [missing-docstring] Function missing docstring
    Code: def enrich_func(candidate):
            candidate["done"] = True
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 796: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_timeout_parameter_accepted(self):
        """Test that timeout_per_candidat
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 802: [missing-docstring] Function missing docstring
    Code: def enrich_func(candidate):
            time.sleep(0.1)  # Brief delay
            candidate["done"]
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 821: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_timeout_uses_default(self):
        """Test that default timeout is used wh
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 830: [missing-docstring] Function missing docstring
    Code: def enrich_func(candidate):
            time.sleep(0.05)  # Brief delay
            candidate["done"
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 850: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_timeout_constant_exists(self):
        """Test that timeout constants are p
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 860: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_timeout_parameter_is_passed_through(self):
        """Test that timeout par
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 869: [missing-docstring] Function missing docstring
    Code: def enrich_func(candidate):
            candidate["done"] = True
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 887: [missing-docstring] Function missing docstring
    Code: def test_parallel_enrich_timeout_in_method_signatures(self):
        """Test that timeout parameters
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 904: [missing-docstring] Function missing docstring
    Code: def test_add_recommendations_accepts_timeout(self):
        """Test that _add_recommendations accept
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 920: [missing-docstring] Function missing docstring
    Code: def test_add_test_coverage_batch_accepts_timeout(self, temp_project_dir):
        """Test that _add_
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_progress_callbacks.py
--------------------------------------------------------------------------------
  Line 21: [missing-docstring] Function missing docstring
    Code: def temp_project_dir(self):
        """Create temporary project directory for testing."""
        wi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 27: [missing-docstring] Function missing docstring
    Code: def orchestrator_with_mocks(self):
        """Create orchestrator with mocked components."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 55: [missing-docstring] Function missing docstring
    Code: def test_progress_callback_is_called(self, temp_project_dir, orchestrator_with_mocks):
        """Te
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 59: [missing-docstring] Function missing docstring
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 72: [missing-docstring] Function missing docstring
    Code: def test_progress_stages_in_order(self, temp_project_dir, orchestrator_with_mocks):
        """Test 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 76: [missing-docstring] Function missing docstring
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 94: [missing-docstring] Function missing docstring
    Code: def test_progress_percentages_increase(self, temp_project_dir, orchestrator_with_mocks):
        """
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 98: [missing-docstring] Function missing docstring
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 116: [missing-docstring] Function missing docstring
    Code: def test_progress_starts_at_zero(self, temp_project_dir, orchestrator_with_mocks):
        """Test t
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 120: [missing-docstring] Function missing docstring
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 133: [missing-docstring] Function missing docstring
    Code: def test_progress_ends_at_one(self, temp_project_dir, orchestrator_with_mocks):
        """Test that
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 137: [missing-docstring] Function missing docstring
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 151: [missing-docstring] Function missing docstring
    Code: def test_no_callback_works_without_error(self, temp_project_dir, orchestrator_with_mocks):
        "
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 164: [missing-docstring] Function missing docstring
    Code: def test_callback_with_test_coverage(self, temp_project_dir, orchestrator_with_mocks):
        """Te
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 168: [missing-docstring] Function missing docstring
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 184: [missing-docstring] Function missing docstring
    Code: def test_callback_without_test_coverage(self, temp_project_dir, orchestrator_with_mocks):
        ""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 188: [missing-docstring] Function missing docstring
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 205: [missing-docstring] Function missing docstring
    Code: def test_all_key_stages_reported(self, temp_project_dir, orchestrator_with_mocks):
        """Test t
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 209: [missing-docstring] Function missing docstring
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 233: [missing-docstring] Function missing docstring
    Code: def test_progress_callback_signature(self, temp_project_dir):
        """Test that ProgressCallback 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 240: [missing-docstring] Function missing docstring
    Code: def test_callback_receives_valid_percentages(self, temp_project_dir, orchestrator_with_mocks):
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 244: [missing-docstring] Function missing docstring
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 259: [missing-docstring] Function missing docstring
    Code: def test_callback_exception_does_not_crash_analysis(self, temp_project_dir, orchestrator_with_mocks)
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 261: [missing-docstring] Function missing docstring
    Code: def failing_callback(stage: str, percent: float):
            raise RuntimeError("Callback failed!")
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 275: [missing-docstring] Function missing docstring
    Code: def test_progress_with_empty_results(self, temp_project_dir):
        """Test progress reporting whe
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 280: [missing-docstring] Function missing docstring
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 300: [missing-docstring] Function missing docstring
    Code: def test_progress_callback_in_documentation(self, temp_project_dir, orchestrator_with_mocks):
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 305: [missing-docstring] Function missing docstring
    Code: def show_progress(stage: str, percent: float):
            progress_log.append(f"[{percent*100:.0f}%
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 325: [missing-docstring] Function missing docstring
    Code: def temp_project_dir(self):
        """Create temporary project directory for testing."""
        wi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 330: [missing-docstring] Function missing docstring
    Code: def test_progress_percentage_distribution(self, temp_project_dir):
        """Test that progress per
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 335: [missing-docstring] Function missing docstring
    Code: def track_progress(stage: str, percent: float):
            progress_calls.append((stage, percent))
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_ranker.py
--------------------------------------------------------------------------------
  Line 18: [missing-docstring] Function missing docstring
    Code: def ranker(self):
        """Provide DuplicationRanker instance."""
        return DuplicationRanker
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 23: [missing-docstring] Function missing docstring
    Code: def sample_candidates(self):
        """Provide sample candidates for testing."""
        return [
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 63: [missing-docstring] Function missing docstring
    Code: def test_rank_all_candidates(self, ranker, sample_candidates):
        """Test ranking all candidate
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 84: [missing-docstring] Function missing docstring
    Code: def test_rank_with_max_results(self, ranker, sample_candidates):
        """Test early exit optimiza
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 109: [missing-docstring] Function missing docstring
    Code: def test_max_results_greater_than_candidates(self, ranker, sample_candidates):
        """Test max_r
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 124: [missing-docstring] Function missing docstring
    Code: def test_max_results_zero(self, ranker, sample_candidates):
        """Test max_results=0 returns al
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 134: [missing-docstring] Function missing docstring
    Code: def test_max_results_one(self, ranker, sample_candidates):
        """Test max_results=1 returns onl
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 149: [missing-docstring] Function missing docstring
    Code: def test_empty_candidates(self, ranker):
        """Test ranking with empty candidate list."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 156: [missing-docstring] Function missing docstring
    Code: def test_empty_candidates_with_max_results(self, ranker):
        """Test ranking with empty candida
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 163: [missing-docstring] Function missing docstring
    Code: def test_include_analysis_true(self, ranker, sample_candidates):
        """Test with include_analys
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 175: [missing-docstring] Function missing docstring
    Code: def test_include_analysis_false(self, ranker, sample_candidates):
        """Test with include_analy
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 187: [missing-docstring] Function missing docstring
    Code: def test_max_results_negative(self, ranker, sample_candidates):
        """Test max_results with neg
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 201: [missing-docstring] Function missing docstring
    Code: def test_early_exit_processes_fewer_rank_assignments(self):
        """Verify that early exit avoids
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_ranker_caching.py
--------------------------------------------------------------------------------
  Line 18: [missing-docstring] Function missing docstring
    Code: def ranker_with_cache(self):
        """Create ranker with caching enabled."""
        return Duplic
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 23: [missing-docstring] Function missing docstring
    Code: def ranker_without_cache(self):
        """Create ranker with caching disabled."""
        return Du
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 28: [missing-docstring] Function missing docstring
    Code: def sample_candidate(self):
        """Create a sample candidate for testing."""
        return {
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 41: [missing-docstring] Function missing docstring
    Code: def test_cache_initialization(self, ranker_with_cache, ranker_without_cache):
        """Test that c
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 49: [missing-docstring] Function missing docstring
    Code: def test_cache_key_generation_deterministic(self, ranker_with_cache, sample_candidate):
        """T
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 58: [missing-docstring] Function missing docstring
    Code: def test_cache_key_generation_different_for_different_candidates(self, ranker_with_cache, sample_can
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 67: [missing-docstring] Function missing docstring
    Code: def test_cache_key_generation_ignores_order_of_files(self, ranker_with_cache):
        """Test that 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 85: [missing-docstring] Function missing docstring
    Code: def test_ranking_with_cache_enabled(self, ranker_with_cache, sample_candidate):
        """Test that
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 96: [missing-docstring] Function missing docstring
    Code: def test_ranking_with_cache_disabled(self, ranker_without_cache, sample_candidate):
        """Test 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 107: [missing-docstring] Function missing docstring
    Code: def test_cache_hit_on_identical_candidate(self, ranker_with_cache, sample_candidate):
        """Tes
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 121: [missing-docstring] Function missing docstring
    Code: def test_cache_miss_on_different_candidates(self, ranker_with_cache, sample_candidate):
        """T
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 137: [missing-docstring] Function missing docstring
    Code: def test_clear_cache(self, ranker_with_cache, sample_candidate):
        """Test that clear_cache em
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 149: [missing-docstring] Function missing docstring
    Code: def test_get_cache_stats(self, ranker_with_cache, sample_candidate):
        """Test that get_cache_
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 164: [missing-docstring] Function missing docstring
    Code: def test_cache_preserves_score_components(self, ranker_with_cache, sample_candidate):
        """Tes
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 173: [missing-docstring] Function missing docstring
    Code: def test_repeated_ranking_uses_cache(self, ranker_with_cache, sample_candidate):
        """Test tha
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 191: [missing-docstring] Function missing docstring
    Code: def test_cache_respects_max_results(self, ranker_with_cache, sample_candidate):
        """Test that
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 201: [missing-docstring] Function missing docstring
    Code: def test_no_cache_when_disabled(self, ranker_without_cache, sample_candidate):
        """Test that 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 214: [missing-docstring] Function missing docstring
    Code: def test_cache_key_handles_none_values(self, ranker_with_cache):
        """Test that cache key gene
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 233: [missing-docstring] Function missing docstring
    Code: def ranker(self):
        """Create ranker with caching enabled."""
        return DuplicationRanker
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 237: [missing-docstring] Function missing docstring
    Code: def test_large_cache_performance(self, ranker):
        """Test that cache works efficiently with ma
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 257: [missing-docstring] Function missing docstring
    Code: def test_cache_hit_rate_with_duplicates(self, ranker):
        """Test cache hit rate when many cand
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 288: [missing-docstring] Function missing docstring
    Code: def ranker(self):
        """Create ranker with caching enabled."""
        return DuplicationRanker
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 292: [missing-docstring] Function missing docstring
    Code: def test_empty_candidates_list(self, ranker):
        """Test ranking with empty candidates list."""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 299: [missing-docstring] Function missing docstring
    Code: def test_candidate_with_empty_files_list(self, ranker):
        """Test candidate with empty files l
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 312: [missing-docstring] Function missing docstring
    Code: def test_candidate_with_missing_optional_fields(self, ranker):
        """Test candidate with minima
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_rename_symbol.py
--------------------------------------------------------------------------------
  Line 13: [missing-docstring] Function missing docstring
    Code: def python_renamer():
    """Create a SymbolRenamer for Python."""

    return SymbolRenamer("python
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 20: [missing-docstring] Function missing docstring
    Code: def typescript_renamer():
    """Create a SymbolRenamer for TypeScript."""
    return SymbolRenamer(
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 26: [missing-docstring] Function missing docstring
    Code: def python_coordinator():
    """Create a RenameCoordinator for Python."""
    return RenameCoordina
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 34: [missing-docstring] Function missing docstring
    Code: def test_find_symbol_references_simple(self, python_renamer, tmp_path):
        """Test finding simp
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 65: [missing-docstring] Function missing docstring
    Code: def test_find_symbol_references_no_matches(self, python_renamer, tmp_path):
        """Test finding 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 77: [missing-docstring] Function missing docstring
    Code: def test_build_scope_tree_python_simple(self, python_renamer, tmp_path):
        """Test building sc
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 111: [missing-docstring] Function missing docstring
    Code: def test_build_scope_tree_nested_functions(self, python_renamer, tmp_path):
        """Test building
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 138: [missing-docstring] Function missing docstring
    Code: def test_check_naming_conflicts_no_conflict(self, python_renamer, tmp_path):
        """Test conflic
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 168: [missing-docstring] Function missing docstring
    Code: def test_check_naming_conflicts_with_conflict(self, python_renamer, tmp_path):
        """Test confl
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 209: [missing-docstring] Function missing docstring
    Code: def test_classify_reference_definition(self, python_renamer):
        """Test classifying a definiti
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 224: [missing-docstring] Function missing docstring
    Code: def test_classify_reference_import(self, python_renamer):
        """Test classifying an import refe
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 239: [missing-docstring] Function missing docstring
    Code: def test_classify_reference_export(self, typescript_renamer):
        """Test classifying an export 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 253: [missing-docstring] Function missing docstring
    Code: def test_classify_reference_usage(self, python_renamer):
        """Test classifying a usage referen
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 273: [missing-docstring] Function missing docstring
    Code: def test_rename_symbol_dry_run(self, python_coordinator, tmp_path):
        """Test renaming a symbo
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 305: [missing-docstring] Function missing docstring
    Code: def test_rename_symbol_no_references(self, python_coordinator, tmp_path):
        """Test renaming w
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 320: [missing-docstring] Function missing docstring
    Code: def test_rename_symbol_with_conflicts(self, python_coordinator, tmp_path):
        """Test renaming 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 363: [missing-docstring] Function missing docstring
    Code: def test_rename_symbol_apply(self, python_coordinator, tmp_path):
        """Test actually applying 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 400: [missing-docstring] Function missing docstring
    Code: def test_rename_in_file_word_boundary(self, python_coordinator, tmp_path):
        """Test that rena
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 446: [missing-docstring] Function missing docstring
    Code: def test_generate_diff_preview(self, python_coordinator, tmp_path):
        """Test diff preview gen
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 485: [missing-docstring] Function missing docstring
    Code: def test_rename_symbol_tool_dry_run(self, tmp_path):
        """Test rename_symbol tool in dry-run m
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 518: [missing-docstring] Function missing docstring
    Code: def test_rename_symbol_tool_error_handling(self, tmp_path):
        """Test error handling in rename
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 537: [missing-docstring] Function missing docstring
    Code: def test_rename_symbol_tool_with_file_filter(self, tmp_path):
        """Test rename_symbol tool wit
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 558: [missing-docstring] Function missing docstring
    Code: def test_rename_across_multiple_files(self, python_coordinator, tmp_path):
        """Test renaming 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 600: [missing-docstring] Function missing docstring
    Code: def test_rollback_on_failure(self, python_coordinator, tmp_path):
        """Test that rename rolls 
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_schema_enhancement.py
--------------------------------------------------------------------------------
  Line 121: [missing-docstring] Function missing docstring
    Code: def test_get_property_priority_known_property(self):
        """Test getting priority for known prop
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 126: [missing-docstring] Function missing docstring
    Code: def test_get_property_priority_unknown_property(self):
        """Test getting priority for unknown 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 131: [missing-docstring] Function missing docstring
    Code: def test_get_property_priority_unknown_entity(self):
        """Test getting priority for unknown en
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 136: [missing-docstring] Function missing docstring
    Code: def test_get_rich_results_for_property(self):
        """Test getting rich results for property."""

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 142: [missing-docstring] Function missing docstring
    Code: def test_get_rich_results_for_property_unknown(self):
        """Test getting rich results for unkno
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 147: [missing-docstring] Function missing docstring
    Code: def test_get_rich_results_for_entity(self):
        """Test getting rich results for entity type."""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 152: [missing-docstring] Function missing docstring
    Code: def test_get_all_properties_for_entity(self):
        """Test getting all properties for entity type
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 158: [missing-docstring] Function missing docstring
    Code: def test_get_property_example_known(self):
        """Test getting example for known property."""
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 165: [missing-docstring] Function missing docstring
    Code: def test_get_property_example_unknown(self):
        """Test getting example for unknown property re
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 179: [missing-docstring] Function missing docstring
    Code: def test_extract_entities_from_graph_array(self):
        """Test extracting entities from @graph ar
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 193: [missing-docstring] Function missing docstring
    Code: def test_extract_entities_from_single_entity(self):
        """Test extracting single entity without
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 200: [missing-docstring] Function missing docstring
    Code: def test_extract_entities_from_array(self):
        """Test extracting entities from raw array."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 209: [missing-docstring] Function missing docstring
    Code: def test_load_graph_from_file(self):
        """Test loading graph from JSON file."""
        with t
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 229: [missing-docstring] Function missing docstring
    Code: def test_load_graph_from_directory(self):
        """Test loading graphs from directory."""
        
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 248: [missing-docstring] Function missing docstring
    Code: def test_load_graph_invalid_type(self):
        """Test loading with invalid input type raises error
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 259: [missing-docstring] Function missing docstring
    Code: def test_load_graph_nonexistent_file(self):
        """Test loading nonexistent file raises error.""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 273: [missing-docstring] Function missing docstring
    Code: def test_extract_entity_type_string(self):
        """Test extracting entity type from string @type.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 278: [missing-docstring] Function missing docstring
    Code: def test_extract_entity_type_array(self):
        """Test extracting entity type from array @type.""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 283: [missing-docstring] Function missing docstring
    Code: def test_extract_entity_type_missing(self):
        """Test extracting entity type when missing."""

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 288: [missing-docstring] Function missing docstring
    Code: def test_build_property_reason_critical(self):
        """Test building reason for critical property
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 293: [missing-docstring] Function missing docstring
    Code: def test_build_property_reason_high_no_rich_result(self):
        """Test building reason for high p
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 307: [missing-docstring] Function missing docstring
    Code: def test_find_id_references_simple(self):
        """Test finding @id references in simple structure
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 318: [missing-docstring] Function missing docstring
    Code: def test_find_id_references_nested(self):
        """Test finding @id references in nested structure
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 330: [missing-docstring] Function missing docstring
    Code: def test_validate_entity_references_valid(self):
        """Test validation with valid references.""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 341: [missing-docstring] Function missing docstring
    Code: def test_validate_entity_references_broken(self):
        """Test validation with broken references.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 362: [missing-docstring] Function missing docstring
    Code: def test_parse_suggestion_rule_has(self):
        """Test parsing 'has:Type' rule."""
        result
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 369: [missing-docstring] Function missing docstring
    Code: def test_parse_suggestion_rule_not_has(self):
        """Test parsing 'NOT has:Type' rule."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 376: [missing-docstring] Function missing docstring
    Code: def test_parse_suggestion_rule_count(self):
        """Test parsing 'count:Type>N' rule."""
        
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 383: [missing-docstring] Function missing docstring
    Code: def test_parse_suggestion_rule_count_not_met(self):
        """Test parsing count rule when threshol
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 390: [missing-docstring] Function missing docstring
    Code: def test_parse_suggestion_rule_complex_and(self):
        """Test parsing complex AND rule."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 399: [missing-docstring] Function missing docstring
    Code: def test_suggest_missing_entities_faq_page(
        self, simple_organization_graph: List[Dict[str, 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 411: [missing-docstring] Function missing docstring
    Code: def test_suggest_missing_entities_complete_graph(
        self, complete_organization_graph: List[Di
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 423: [missing-docstring] Function missing docstring
    Code: def test_generate_example_entity_faqpage(self):
        """Test generating FAQPage example."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 430: [missing-docstring] Function missing docstring
    Code: def test_generate_example_entity_website(self):
        """Test generating WebSite example."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 436: [missing-docstring] Function missing docstring
    Code: def test_generate_example_entity_breadcrumblist(self):
        """Test generating BreadcrumbList exa
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 451: [missing-docstring] Function missing docstring
    Code: def test_calculate_entity_seo_score_perfect(self):
        """Test perfect score with no missing pro
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 464: [missing-docstring] Function missing docstring
    Code: def test_calculate_entity_seo_score_critical_missing(
        self, sample_entity_enhancement: Entit
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 472: [missing-docstring] Function missing docstring
    Code: def test_calculate_entity_seo_score_with_validation_issues(self):
        """Test score penalty for 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 485: [missing-docstring] Function missing docstring
    Code: def test_calculate_overall_seo_score(
        self, sample_entity_enhancement: EntityEnhancement
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 502: [missing-docstring] Function missing docstring
    Code: def test_build_priority_summary(self, sample_entity_enhancement: EntityEnhancement):
        """Test
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 527: [missing-docstring] Function missing docstring
    Code: def test_validate_graph_structure_valid(self):
        """Test validation of valid graph structure."
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 536: [missing-docstring] Function missing docstring
    Code: def test_validate_graph_structure_missing_context(self):
        """Test validation with missing @co
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 542: [missing-docstring] Function missing docstring
    Code: def test_validate_graph_structure_invalid_context(self):
        """Test validation with invalid @co
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 551: [missing-docstring] Function missing docstring
    Code: def test_validate_graph_structure_empty_graph(self):
        """Test validation with empty @graph ar
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 557: [missing-docstring] Function missing docstring
    Code: def test_validate_graph_structure_single_entity(self):
        """Test validation with single entity
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 572: [missing-docstring] Function missing docstring
    Code: def test_generate_enhanced_graph(
        self, simple_organization_graph: List[Dict[str, Any]]
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 614: [missing-docstring] Function missing docstring
    Code: def test_generate_diff(self, simple_organization_graph: List[Dict[str, Any]]):
        """Test gener
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 654: [missing-docstring] Function missing docstring
    Code: def test_generate_diff_no_changes(
        self, simple_organization_graph: List[Dict[str, Any]]
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 675: [missing-docstring] Function missing docstring
    Code: async def test_analyze_entity_graph_simple(self):
        """Test full analysis flow with simple org
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 725: [missing-docstring] Function missing docstring
    Code: async def test_analyze_entity_graph_enhanced_mode(self):
        """Test analysis with enhanced outp
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 771: [missing-docstring] Function missing docstring
    Code: async def test_analyze_entity_graph_diff_mode(self):
        """Test analysis with diff output mode.
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_semantic_similarity.py
--------------------------------------------------------------------------------
  Line 38: [missing-docstring] Function missing docstring
    Code: def test_default_config(self):
        """Default config should have sensible values from SemanticSi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 48: [missing-docstring] Function missing docstring
    Code: def test_custom_config(self):
        """Custom config should override defaults."""
        config =
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 70: [missing-docstring] Function missing docstring
    Code: def test_result_creation(self):
        """Should create result with expected values."""
        res
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 87: [missing-docstring] Function missing docstring
    Code: def test_result_to_dict(self):
        """Should convert to dictionary correctly."""
        result 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 114: [missing-docstring] Function missing docstring
    Code: def test_is_available_without_transformers(self):
        """Should return False when transformers n
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 129: [missing-docstring] Function missing docstring
    Code: def test_is_available_caches_result(self):
        """Should cache the availability check result."""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 147: [missing-docstring] Function missing docstring
    Code: def test_lazy_initialization(self):
        """Model should not be loaded on initialization."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 162: [missing-docstring] Function missing docstring
    Code: def mock_torch(self):
        """Create a mock torch module."""
        mock = MagicMock()
        m
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 173: [missing-docstring] Function missing docstring
    Code: def mock_transformers(self):
        """Create a mock transformers module."""
        mock = MagicMo
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 198: [missing-docstring] Function missing docstring
    Code: def test_empty_input_returns_zero(self):
        """Empty inputs should return 0.0 similarity."""
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 209: [missing-docstring] Function missing docstring
    Code: def test_config_applied(self):
        """Config should be applied to instance."""
        config = 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 221: [missing-docstring] Function missing docstring
    Code: def test_clear_cache(self):
        """Cache clearing should work."""
        semantic = SemanticSim
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 230: [missing-docstring] Function missing docstring
    Code: def test_get_cache_stats(self):
        """Should return cache statistics."""
        semantic = Sem
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 247: [missing-docstring] Function missing docstring
    Code: def test_default_semantic_disabled(self):
        """Semantic should be disabled by default."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 255: [missing-docstring] Function missing docstring
    Code: def test_enable_semantic_with_rebalanced_weights(self):
        """Should accept rebalanced weights 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 268: [missing-docstring] Function missing docstring
    Code: def test_semantic_weights_must_sum_to_one(self):
        """Weights must sum to 1.0 when semantic en
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 278: [missing-docstring] Function missing docstring
    Code: def test_invalid_semantic_weight(self):
        """Invalid semantic weight should raise ValueError."
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 283: [missing-docstring] Function missing docstring
    Code: def test_invalid_semantic_threshold(self):
        """Invalid semantic threshold should raise ValueE
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 297: [missing-docstring] Function missing docstring
    Code: def test_result_with_semantic(self):
        """Should create result with semantic fields."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 318: [missing-docstring] Function missing docstring
    Code: def test_result_without_semantic(self):
        """Should create result with semantic fields as None
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 338: [missing-docstring] Function missing docstring
    Code: def test_result_to_dict_with_semantic(self):
        """Should include semantic fields in dict."""
 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 366: [missing-docstring] Function missing docstring
    Code: def test_semantic_disabled_by_default(self):
        """Pipeline should not use semantic when disabl
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 384: [missing-docstring] Function missing docstring
    Code: def test_semantic_skipped_when_unavailable(self):
        """Semantic should be skipped when transfo
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 411: [missing-docstring] Function missing docstring
    Code: def test_early_exit_skips_semantic(self):
        """Stage 1 early exit should skip semantic."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 424: [missing-docstring] Function missing docstring
    Code: def test_empty_input_returns_zero_with_semantic_fields(self):
        """Empty input should return z
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 444: [missing-docstring] Function missing docstring
    Code: def test_default_values(self):
        """Should have expected default values."""
        assert Sem
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 457: [missing-docstring] Function missing docstring
    Code: def test_weights_sum_to_one(self):
        """Rebalanced weights should sum to 1.0."""
        total
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 480: [missing-docstring] Function missing docstring
    Code: def semantic(self):
        """Create SemanticSimilarity instance if available."""
        if not Se
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 486: [missing-docstring] Function missing docstring
    Code: def test_identical_code_high_similarity(self, semantic):
        """Identical code should have high 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 495: [missing-docstring] Function missing docstring
    Code: def test_similar_code_high_similarity(self, semantic):
        """Semantically similar code should h
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 509: [missing-docstring] Function missing docstring
    Code: def test_different_code_lower_similarity(self, semantic):
        """Semantically different code sho
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 524: [missing-docstring] Function missing docstring
    Code: def test_embedding_caching(self, semantic):
        """Embeddings should be cached for repeated call
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 536: [missing-docstring] Function missing docstring
    Code: def test_detailed_result(self, semantic):
        """Should return detailed result with token counts
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 557: [missing-docstring] Function missing docstring
    Code: def hybrid_with_semantic(self):
        """Create HybridSimilarity with semantic enabled."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 571: [missing-docstring] Function missing docstring
    Code: def test_three_stage_similar_code(self, hybrid_with_semantic):
        """Similar code should run al
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 596: [missing-docstring] Function missing docstring
    Code: def test_three_stage_result_format(self, hybrid_with_semantic):
        """Result should have all th
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_standards_enforcement.py
--------------------------------------------------------------------------------
  Line 55: [missing-docstring] Function missing docstring
    Code: def test_instantiation_all_fields(self):
        """Test RuleViolation with all fields."""
        v
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 83: [missing-docstring] Function missing docstring
    Code: def test_instantiation_optional_fields_none(self):
        """Test RuleViolation with optional field
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 100: [missing-docstring] Function missing docstring
    Code: def test_minimal_violation(self):
        """Test RuleViolation with minimal required fields."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 121: [missing-docstring] Function missing docstring
    Code: def test_instantiation_all_fields(self):
        """Test RuleSet with all fields."""
        rules =
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 145: [missing-docstring] Function missing docstring
    Code: def test_instantiation_without_priority(self):
        """Test RuleSet with default priority."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 165: [missing-docstring] Function missing docstring
    Code: def test_empty_rules_list(self):
        """Test RuleSet with empty rules list."""
        rule_set 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 180: [missing-docstring] Function missing docstring
    Code: def test_instantiation_all_fields(self):
        """Test EnforcementResult with all fields."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 212: [missing-docstring] Function missing docstring
    Code: def test_empty_result(self):
        """Test EnforcementResult with no violations."""
        result
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 232: [missing-docstring] Function missing docstring
    Code: def test_instantiation_all_fields(self):
        """Test RuleExecutionContext with all fields."""
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 258: [missing-docstring] Function missing docstring
    Code: def test_rule_sets_exist(self):
        """Test that RULE_SETS dictionary exists."""
        assert 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 263: [missing-docstring] Function missing docstring
    Code: def test_all_four_sets_exist(self):
        """Test that all 4 built-in sets exist."""
        expec
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 269: [missing-docstring] Function missing docstring
    Code: def test_rule_sets_structure(self):
        """Test that each rule set has required fields."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 279: [missing-docstring] Function missing docstring
    Code: def test_recommended_set_priority(self):
        """Test recommended set has priority 100."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 283: [missing-docstring] Function missing docstring
    Code: def test_security_set_priority(self):
        """Test security set has priority 200 (highest)."""
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 287: [missing-docstring] Function missing docstring
    Code: def test_rule_ids_reference_templates(self):
        """Test that rule IDs reference valid templates
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 294: [missing-docstring] Function missing docstring
    Code: def test_priority_values_correct(self):
        """Test priority values are correct."""
        asse
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 301: [missing-docstring] Function missing docstring
    Code: def test_recommended_set_rules(self):
        """Test recommended set has expected rules."""
       
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 312: [missing-docstring] Function missing docstring
    Code: def test_basic_conversion(self):
        """Test converting RuleTemplate to LintingRule."""
        
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 337: [missing-docstring] Function missing docstring
    Code: def test_conversion_preserves_all_fields(self):
        """Test that all template fields are preserv
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 351: [missing-docstring] Function missing docstring
    Code: def test_constraints_is_none(self):
        """Test that constraints field is None."""
        templ
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 358: [missing-docstring] Function missing docstring
    Code: def test_conversion_multiple_templates(self):
        """Test converting multiple templates."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 375: [missing-docstring] Function missing docstring
    Code: def test_load_rules_from_directory(self, mock_glob, mock_exists):
        """Test loading rules from
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 385: [missing-docstring] Function missing docstring
    Code: def test_missing_directory(self, mock_exists):
        """Test handling missing .ast-grep-rules/ dir
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 394: [missing-docstring] Function missing docstring
    Code: def test_filter_by_language(self, mock_load_project_rules):
        """Test filtering rules by langu
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 425: [missing-docstring] Function missing docstring
    Code: def test_handle_malformed_yaml(self, mock_load, mock_glob, mock_exists):
        """Test handling ma
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 442: [missing-docstring] Function missing docstring
    Code: def test_empty_directory(self, mock_glob, mock_exists):
        """Test empty .ast-grep-rules/ direc
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 454: [missing-docstring] Function missing docstring
    Code: def test_filter_out_wrong_language(self, mock_load, mock_glob, mock_exists):
        """Test filteri
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 480: [missing-docstring] Function missing docstring
    Code: def test_load_recommended_rule_set(self):
        """Test loading recommended rule set."""
        r
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 489: [missing-docstring] Function missing docstring
    Code: def test_load_security_rule_set(self):
        """Test loading security rule set."""
        rule_se
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 497: [missing-docstring] Function missing docstring
    Code: def test_load_performance_rule_set(self):
        """Test loading performance rule set."""
        r
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 505: [missing-docstring] Function missing docstring
    Code: def test_load_style_rule_set(self):
        """Test loading style rule set."""
        rule_set = _l
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 513: [missing-docstring] Function missing docstring
    Code: def test_load_all_rule_set(self):
        """Test loading 'all' rule set."""
        rule_set = _loa
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 522: [missing-docstring] Function missing docstring
    Code: def test_load_custom_rule_set(self, mock_load_custom):
        """Test loading 'custom' rule set."""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 542: [missing-docstring] Function missing docstring
    Code: def test_filter_by_language(self):
        """Test rules are filtered by language."""
        rule_s
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 550: [missing-docstring] Function missing docstring
    Code: def test_invalid_rule_set_name(self):
        """Test invalid rule set name raises ValueError."""
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 557: [missing-docstring] Function missing docstring
    Code: def test_empty_results_for_unsupported_language(self):
        """Test empty results for unsupported
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 564: [missing-docstring] Function missing docstring
    Code: def test_priority_preserved(self):
        """Test that priority from RULE_SETS is preserved."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 571: [missing-docstring] Function missing docstring
    Code: def test_all_set_combines_all_rules(self):
        """Test 'all' set combines rules from all sets.""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 580: [missing-docstring] Function missing docstring
    Code: def test_custom_set_empty_when_no_rules(self, mock_load_custom):
        """Test custom set is empty
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 592: [missing-docstring] Function missing docstring
    Code: def test_parse_complete_match(self):
        """Test parsing complete ast-grep match."""
        # a
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 632: [missing-docstring] Function missing docstring
    Code: def test_parse_match_without_metavars(self):
        """Test parsing match without metavariables."""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 655: [missing-docstring] Function missing docstring
    Code: def test_parse_match_missing_range(self):
        """Test parsing match with missing range informati
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 675: [missing-docstring] Function missing docstring
    Code: def test_parse_multiline_match(self):
        """Test parsing multiline match."""
        match = {

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 703: [missing-docstring] Function missing docstring
    Code: def test_exclude_node_modules(self):
        """Test excluding node_modules with recursive pattern."
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 710: [missing-docstring] Function missing docstring
    Code: def test_exclude_simple_glob(self):
        """Test excluding with simple glob pattern."""
        f
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 717: [missing-docstring] Function missing docstring
    Code: def test_dont_exclude_non_matching(self):
        """Test not excluding non-matching files."""
     
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 724: [missing-docstring] Function missing docstring
    Code: def test_multiple_patterns(self):
        """Test handling multiple exclude patterns."""
        fil
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 731: [missing-docstring] Function missing docstring
    Code: def test_case_sensitivity(self):
        """Test case sensitivity in pattern matching."""
        fi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 739: [missing-docstring] Function missing docstring
    Code: def test_empty_patterns(self):
        """Test with empty patterns list."""
        file_path = "/pr
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 746: [missing-docstring] Function missing docstring
    Code: def test_exclude_build_directory(self):
        """Test excluding build directory."""
        file_p
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 753: [missing-docstring] Function missing docstring
    Code: def test_exclude_dist_directory(self):
        """Test excluding dist directory."""
        file_pat
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 760: [missing-docstring] Function missing docstring
    Code: def test_exclude_git_directory(self):
        """Test excluding .git directory."""
        file_path
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 767: [missing-docstring] Function missing docstring
    Code: def test_filename_pattern(self):
        """Test pattern matching against filename only."""
        
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 779: [missing-docstring] Function missing docstring
    Code: def test_execute_single_rule(self, mock_stream):
        """Test executing single rule."""
        l
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 818: [missing-docstring] Function missing docstring
    Code: def test_parse_violations_correctly(self, mock_stream):
        """Test violations are parsed correc
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 856: [missing-docstring] Function missing docstring
    Code: def test_apply_file_exclusion(self, mock_stream):
        """Test file exclusion is applied."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 894: [missing-docstring] Function missing docstring
    Code: def test_respect_max_violations(self, mock_stream):
        """Test max_violations is respected."""

    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 934: [missing-docstring] Function missing docstring
    Code: def test_handle_execution_errors(self, mock_stream):
        """Test handling execution errors grace
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 964: [missing-docstring] Function missing docstring
    Code: def test_sentry_span_integration(self, mock_sentry, mock_stream):
        """Test Sentry span is cre
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 996: [missing-docstring] Function missing docstring
    Code: def test_parallel_execution(self, mock_execute):
        """Test parallel execution with ThreadPoolE
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1028: [missing-docstring] Function missing docstring
    Code: def test_combine_violations(self, mock_execute):
        """Test violations from multiple rules are 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1074: [missing-docstring] Function missing docstring
    Code: def test_early_termination_at_max_violations(self, mock_execute):
        """Test early termination 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1120: [missing-docstring] Function missing docstring
    Code: def test_handle_individual_failures(self, mock_execute):
        """Test handling individual rule fa
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1160: [missing-docstring] Function missing docstring
    Code: def test_group_by_file(self):
        """Test grouping violations by file path."""
        violation
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1204: [missing-docstring] Function missing docstring
    Code: def test_sort_by_line_number(self):
        """Test violations are sorted by line and column."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1252: [missing-docstring] Function missing docstring
    Code: def test_empty_violations(self):
        """Test grouping empty violations list."""
        grouped 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1262: [missing-docstring] Function missing docstring
    Code: def test_group_by_severity(self):
        """Test grouping violations by severity level."""
        
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1306: [missing-docstring] Function missing docstring
    Code: def test_all_severity_levels_present(self):
        """Test all severity levels are in result."""
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1328: [missing-docstring] Function missing docstring
    Code: def test_empty_violations(self):
        """Test grouping empty violations list."""
        grouped 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1340: [missing-docstring] Function missing docstring
    Code: def test_group_by_rule(self):
        """Test grouping violations by rule ID."""
        violations 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1384: [missing-docstring] Function missing docstring
    Code: def test_empty_violations(self):
        """Test grouping empty violations list."""
        grouped 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1394: [missing-docstring] Function missing docstring
    Code: def test_filter_by_error(self):
        """Test filtering by error severity threshold."""
        vi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1437: [missing-docstring] Function missing docstring
    Code: def test_filter_by_warning(self):
        """Test filtering by warning severity threshold."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1480: [missing-docstring] Function missing docstring
    Code: def test_filter_by_info(self):
        """Test filtering by info severity threshold."""
        viol
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1523: [missing-docstring] Function missing docstring
    Code: def test_handle_all_severity_levels(self):
        """Test all severity levels are handled correctly
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1549: [missing-docstring] Function missing docstring
    Code: def test_format_complete_report(self):
        """Test formatting complete report."""
        violat
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1589: [missing-docstring] Function missing docstring
    Code: def test_summary_section(self):
        """Test summary section is formatted correctly."""
        r
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1614: [missing-docstring] Function missing docstring
    Code: def test_violations_breakdown(self):
        """Test violations breakdown section."""
        violat
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1651: [missing-docstring] Function missing docstring
    Code: def test_handle_empty_violations(self):
        """Test formatting report with no violations."""
   
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1680: [missing-docstring] Function missing docstring
    Code: def test_basic_scan_with_recommended_rules(self, mock_exists, mock_execute, mock_load, mcp_main, enf
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1715: [missing-docstring] Function missing docstring
    Code: def test_security_rule_set(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_standards_t
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1749: [missing-docstring] Function missing docstring
    Code: def test_custom_rules_with_ids(self, mock_exists, mock_execute, mock_load_custom, mcp_main, enforce_
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1784: [missing-docstring] Function missing docstring
    Code: def test_invalid_severity_threshold(self, mock_exists, mcp_main, enforce_standards_tool):
        ""
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1799: [missing-docstring] Function missing docstring
    Code: def test_invalid_output_format(self, mock_exists, mcp_main, enforce_standards_tool):
        """Test
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1813: [missing-docstring] Function missing docstring
    Code: def test_project_folder_not_found(self, enforce_standards_tool):
        """Test error when project 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1825: [missing-docstring] Function missing docstring
    Code: def test_no_rules_for_language(self, mock_exists, mock_load, mcp_main, enforce_standards_tool):
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1847: [missing-docstring] Function missing docstring
    Code: def test_empty_custom_rules_list(self, mock_exists, mock_load_custom, mcp_main, enforce_standards_to
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1866: [missing-docstring] Function missing docstring
    Code: def test_text_output_format(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_standards_
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1901: [missing-docstring] Function missing docstring
    Code: def test_json_output_format(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_standards_
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 1950: [missing-docstring] Function missing docstring
    Code: def test_max_violations_enforcement(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_st
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 2000: [missing-docstring] Function missing docstring
    Code: def test_severity_threshold_filtering(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 2048: [missing-docstring] Function missing docstring
    Code: def test_include_exclude_patterns(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_stan
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 2087: [missing-docstring] Function missing docstring
    Code: def test_parallel_execution_with_threads(self, mock_exists, mock_execute, mock_load, mcp_main, enfor
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 2124: [missing-docstring] Function missing docstring
    Code: def test_error_handling(self, mock_exists, mock_execute, mock_load, mcp_main, enforce_standards_tool
    ðŸ’¡ Add docstring describing purpose, args, and return value

ðŸ“„ /Users/alyshialedlie/code/ast-grep-mcp/tests/unit/test_usage_tracking.py
--------------------------------------------------------------------------------
  Line 34: [missing-docstring] Function missing docstring
    Code: def test_base_cost_only(self):
        """Operations with no additional metrics should use base cost
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 39: [missing-docstring] Function missing docstring
    Code: def test_cost_with_files(self):
        """Cost should increase with files processed."""
        bas
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 50: [missing-docstring] Function missing docstring
    Code: def test_cost_with_lines(self):
        """Cost should increase with lines analyzed."""
        base
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 59: [missing-docstring] Function missing docstring
    Code: def test_cost_with_matches(self):
        """Cost should increase with matches found."""
        bas
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 68: [missing-docstring] Function missing docstring
    Code: def test_unknown_operation_uses_default(self):
        """Unknown operations should use default pric
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 73: [missing-docstring] Function missing docstring
    Code: def test_refactoring_operations_cost_more(self):
        """Refactoring operations should have highe
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 83: [missing-docstring] Function missing docstring
    Code: def test_default_values(self):
        """Entry should have sensible defaults."""
        entry = Us
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 94: [missing-docstring] Function missing docstring
    Code: def test_custom_values(self):
        """Entry should accept custom values."""
        entry = Usage
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 116: [missing-docstring] Function missing docstring
    Code: def temp_db(self):
        """Create a temporary database for testing."""
        with tempfile.Name
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 124: [missing-docstring] Function missing docstring
    Code: def test_database_creation(self, temp_db):
        """Database should be created with proper schema.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 128: [missing-docstring] Function missing docstring
    Code: def test_log_usage(self, temp_db):
        """Should successfully log usage entries."""
        entr
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 144: [missing-docstring] Function missing docstring
    Code: def test_log_failure(self, temp_db):
        """Should log failed operations."""
        entry = Usa
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 158: [missing-docstring] Function missing docstring
    Code: def test_get_stats_empty(self, temp_db):
        """Stats should work with empty database."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 165: [missing-docstring] Function missing docstring
    Code: def test_get_stats_with_data(self, temp_db):
        """Stats should aggregate data correctly."""
  
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 187: [missing-docstring] Function missing docstring
    Code: def test_get_stats_time_filter(self, temp_db):
        """Stats should filter by time range."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 205: [missing-docstring] Function missing docstring
    Code: def test_filter_by_tool(self, temp_db):
        """Should filter logs by tool name."""
        temp_
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 222: [missing-docstring] Function missing docstring
    Code: def temp_db(self):
        """Create a temporary database for testing."""
        with tempfile.Name
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 230: [missing-docstring] Function missing docstring
    Code: def test_no_alerts_when_under_threshold(self, temp_db):
        """No alerts when usage is under all
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 242: [missing-docstring] Function missing docstring
    Code: def test_daily_calls_warning(self, temp_db):
        """Should generate warning when daily calls exc
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 253: [missing-docstring] Function missing docstring
    Code: def test_daily_calls_critical(self, temp_db):
        """Should generate critical alert when daily c
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 263: [missing-docstring] Function missing docstring
    Code: def test_failure_rate_alert(self, temp_db):
        """Should generate alert when failure rate is hi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 280: [missing-docstring] Function missing docstring
    Code: def test_hourly_failures_alert(self, temp_db):
        """Should alert on high hourly failure count.
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 303: [missing-docstring] Function missing docstring
    Code: def temp_db(self):
        """Create a temporary database and patch global."""
        with tempfile
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 314: [missing-docstring] Function missing docstring
    Code: def test_successful_operation(self, temp_db):
        """Should log successful operations."""
      
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 327: [missing-docstring] Function missing docstring
    Code: def test_failed_operation(self, temp_db):
        """Should log failed operations with error message
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 340: [missing-docstring] Function missing docstring
    Code: def test_response_time_tracking(self, temp_db):
        """Should track response time."""
        wi
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 348: [missing-docstring] Function missing docstring
    Code: def test_cost_calculation(self, temp_db):
        """Should calculate cost based on metrics."""
    
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 363: [missing-docstring] Function missing docstring
    Code: def temp_db(self):
        """Create a temporary database and patch global."""
        with tempfile
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 374: [missing-docstring] Function missing docstring
    Code: def test_decorator_logs_success(self, temp_db):
        """Decorator should log successful function 
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 378: [missing-docstring] Function missing docstring
    Code: def sample_function():
            return {"matches": [1, 2, 3], "files_processed": 5}
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 389: [missing-docstring] Function missing docstring
    Code: def test_decorator_logs_failure(self, temp_db):
        """Decorator should log failed function call
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 393: [missing-docstring] Function missing docstring
    Code: def failing_function():
            raise RuntimeError("Intentional failure")
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 404: [missing-docstring] Function missing docstring
    Code: def test_decorator_extracts_metrics(self, temp_db):
        """Decorator should extract metrics from
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 408: [missing-docstring] Function missing docstring
    Code: def function_with_metrics():
            return {
                "files_processed": 10,
           
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 425: [missing-docstring] Function missing docstring
    Code: def test_basic_report(self):
        """Should format a basic report."""
        stats = UsageStats(
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 446: [missing-docstring] Function missing docstring
    Code: def test_report_with_tools(self):
        """Should include tool breakdown in report."""
        sta
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 466: [missing-docstring] Function missing docstring
    Code: def temp_db(self):
        """Create a temporary database and patch global."""
        with tempfile
    ðŸ’¡ Add docstring describing purpose, args, and return value

  Line 477: [missing-docstring] Function missing docstring
    Code: def test_detector_logs_usage(self, temp_db):
        """DuplicationDetector should log usage when ca
    ðŸ’¡ Add docstring describing purpose, args, and return value

================================================================================
END OF REPORT
================================================================================
INFO: âœ… Quality report saved to /Users/alyshialedlie/code/ast-grep-mcp/analysis_reports/quality/quality_report_20251209_110212.json
INFO: 
âœ… Text report saved to /Users/alyshialedlie/code/ast-grep-mcp/analysis_reports/quality/quality_report_20251209_110212.txt

================================================================================
STDOUT:

